webpackJsonp([1],{"+Y/P":function(t,e){},"/6ze":function(t,e){},"/Yz9":function(t,e){},"0JDM":function(t,e){},"1P0A":function(t,e){},"2ZEn":function(t,e){},"5q/c":function(t,e){},"7RTq":function(t,e){},"7zck":function(t,e){},"8aE0":function(t,e){},"9wIK":function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wgARCACWAJYDAREAAhEBAxEB/8QAGwABAAMBAQEBAAAAAAAAAAAAAAMEBQYBAgf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAD9TAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABVKBGWDRJAAAAAACiYwAJTeJAAAAAD5OcPkAAvmwAAAAAVzAAABMdCAAAAAQHPgAAnOgAAAAABz5AAAappAAAAAAhMMiALpsnoAAAAAB8lQjLBZAAAAAAAAAAAAAAAAIigVz5JC2XT6AAAAAMszTwAAlNksgAAAGSZwAAAPTdLIAABVMIAAAAEp0J6AADDKgAAAABsl4AA8OaPAAAAAC8bIABGc4AAAAAC0boB//xAA0EAACAQIDBgIGCwAAAAAAAAABAgMEEQAFMCAhMUFhkRLBUnFygaHRFCIyNDVCUFFTYGL/2gAIAQEAAT8A/oFTXxUxIJLP6I88SZvO5PgCpgZnU85O6j5Yhzk8Joweq4hmSdPFGwYa2Y1xgAjjNnI7DFzck7FPUPTS+JD8iMQTpPCJF4EajOEQsdwAucSymaZnY72O1k85SYxcnFx0I1MwJWgmPQDubbdEStbF7QHfdqVqF6KUf5J7b9vL0L10fQ37b9WspjTVDL+Um69RtZRTFFMzcWFl1aqlSqhKtxG8MORxPTSUzFXGxQ5c05DygrH8WwAALAAAAADWZFdSrgMDyIxJlNO5JHiT1YGTRc5HOIaCCDeEuf3b9CmqYqcXkcDEuc8RDHfq3yGGzWpPBlXoAPPAzOp/l7gYTN51+0FbEObwvukBjJwrh1upDDkQdSszXjHT+98MxcksSSeJJ2oKmSma8bHqORxR1qVQ9FwN6ny0syrixMERso3MdGN2jcMhIYG4IxRVYq4b8HFgw0Mwqfo1MQDZ33DTpag004ceojphSHW4NwQCDt5nMZaxgDcJ9UeeplMxkpCnND8Dw2mIVCTwAvhiXYk8SbnUydyKpk5MvxG1UfdZfYOrln4gnv2P/8QAFBEBAAAAAAAAAAAAAAAAAAAAgP/aAAgBAgEBPwA0/wD/xAAUEQEAAAAAAAAAAAAAAAAAAACA/9oACAEDAQE/ADT/AP/Z"},A27Q:function(t,e){},ARCj:function(t,e){},CoYN:function(t,e){},I8fA:function(t,e){},"JLm+":function(t,e){},"K+GX":function(t,e){},KOSX:function(t,e){},KsNL:function(t,e){},MYj4:function(t,e){},N73B:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("mvHQ"),n=a.n(i),r=(a("lJsb"),a("mAbl"),a("Xq1N"),{name:"upperNav",props:["username"],data:function(){return{routes:this.$router.options.routes,currentPage:this.$route.meta.cat}},methods:{Button_LogOut:function(){localStorage.removeItem("user"),this.$router.push({name:"login"})}}}),l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"topbar"},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light topbar bg-white"},[s("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"home"}}},[s("img",{staticClass:"img-fluid",attrs:{alt:"logo",src:a("eXaP")}})]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item dropdown"},[s("a",{staticClass:"nav-link dropdown-toggle",class:(t.currentPage,""),attrs:{id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",href:"#"},on:{click:function(t){t.preventDefault()}}},[s("i",{staticClass:"fa fa-hospital-o"}),t._v(" "),s("span",{staticClass:"link-text"},[t._v("Endorsement")])]),t._v(" "),s("ul",{staticClass:"dropdown-menu shadow",attrs:{"aria-labelledby":"navbarDropdown"}},t._l(t.routes.filter(function(t){return"Endoresment"==t.meta.cat&&t.meta.viewMenu&&t.meta.authCheck}),function(e){return s("li",{key:e.path,staticClass:"border-bottom pt-1 pb-1 border-light"},[s("router-link",{staticClass:"dropdown-item",attrs:{to:e.path}},[s("span",{staticClass:"link-text"},[t._v(t._s(e.name))])])],1)}),0)])]),t._v(" "),s("ul",{staticClass:"list-unstyled menu pull-right align-items-center"},[s("li",{staticClass:"main-menu"},[s("div",{staticClass:"row align-items-center"},[t._m(1),t._v(" "),s("div",{staticClass:"p-0 userName"},[s("span",[t._v(t._s(t.username))])])]),t._v(" "),s("ul",{staticClass:"list-unstyled sub-menu profile-menu"},[s("li",[s("router-link",{attrs:{to:{name:"Profile"}}},[s("i",{staticClass:"fa fa-user-circle"}),s("span",[t._v("Profile")])])],1),t._v(" "),s("li",[s("input",{attrs:{type:"submit",value:"Log Out"},on:{click:function(e){return e.preventDefault(),t.Button_LogOut(e)}}})])])])])])],1),t._v(" "),s("div",{staticClass:"clearfix"})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"profile"},[e("img",{staticClass:"rounded-circle img-fluid",attrs:{src:a("9wIK")}})])}]};var o=a("VU/8")(r,l,!1,function(t){a("K+GX")},null,null).exports;$(".sideBar ul li.main-menu.open").find("> ul").slideToggle().parent().siblings().find("ul").slideUp(),$("body").on("click",".sideBar ul li.main-menu",function(){$(this).siblings().removeClass("open"),$(this).toggleClass("open"),$(this).find("> ul").slideToggle().parent().siblings().find("ul").slideUp()});var c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sideBar collapsed",attrs:{id:"app_general"}},[a("i",{staticClass:"fa fa-times close-btn hidden"}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"profile"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[t._m(1),t._v(" "),a("div",{staticClass:"col-8"},[a("div",{staticClass:"info"},[a("span",[t._v("Welcome,")]),t._v(" "),a("h4",[t._v(t._s(t.username))])])])])])]),t._v(" "),a("ul",{staticClass:"list-unstyled"},[a("li",[a("router-link",{staticClass:"sid-links",attrs:{to:{name:"home"}}},[a("i",{staticClass:"fa fa-home"}),t._v(" "),a("span",{staticClass:"link-text"},[t._v("Dashboard")])])],1),t._v(" "),a("li",{staticClass:"main-menu"},[a("a",{staticClass:"sid-links",class:"Endoresment"==t.currentPage?"for-a-active":"",on:{click:function(t){t.preventDefault()}}},[a("span",{staticClass:"link-text"},[t._v("Endoresment")]),t._v(" "),a("span",{staticClass:"icon fa fa-chevron-down pull-right"})]),t._v(" "),a("ul",{staticClass:"list-unstyled sub-menu"},t._l(t.routes.filter(function(t){return"Endoresment"==t.meta.cat}),function(e){return a("li",{key:e.path},[a("router-link",{attrs:{to:e.path}},[a("span",{staticClass:"link-text"},[t._v(t._s(e.name))])])],1)}),0)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-logo text-center"},[e("img",{staticClass:"img-fluid",attrs:{alt:"logo",src:a("eXaP")}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-4"},[e("div",{staticClass:"img"},[e("img",{staticClass:"rounded-circle",attrs:{src:a("9wIK")}})])])}]};var d={name:"App",components:{upperNav:o,sideBar:a("VU/8")({name:"sideBar",props:["username"],data:function(){return{routes:this.$router.options.routes,currentPage:this.$route.meta.cat}}},c,!1,function(t){a("UmCu")},null,null).exports},data:function(){return{user:JSON.parse(localStorage.getItem("user")),link:"",Units:[],NursesPatients:[],DoctorPatients:[],DoctorData:null,Doctors:[],edits:!1}},methods:{getUnits:function(){var t=this;17==this.user.Role_id?$.ajax({type:"POST",url:t.link+"endoresment/handover.aspx/getUnitDashData",data:n()({chargeNurse:t.user}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){(new Date).getHours()<20&&(new Date).getHours()>=8?(t.Units=JSON.parse(e.d).filter(function(t){return"Day"==t.Shift.trim()}),t.Units=t.Units.filter(function(t){return moment(t.Shift_date).format("DD-MM-YYYY")==moment(new Date).format("DD-MM-YYYY")})):t.Units=JSON.parse(e.d).filter(function(t){return moment(moment(t.Shift_date).add(12)>moment(new Date))}),t.Units.length>0&&(t.edits=!0)}}):12==this.user.Role_id?($.ajax({type:"POST",url:t.link+"endoresment/handover.aspx/getUnitDashData3",data:n()({id:t.user}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){e.d.length>0&&(t.edits=!0,t.Units=JSON.parse(e.d),t.Units=t.Units.filter(function(t,e,a){return a.findIndex(function(e){return e.Unit_id===t.Unit_id})===e}))}}),$.ajax({type:"POST",url:t.link+"endoresment/patientsNurse.aspx/getPatientsData",contentType:"application/json; charset=utf-8",data:n()({id:t.user}),dataType:"json",success:function(e){t.NursesPatients=JSON.parse(e.d)}})):10==this.user.Role_id?($.ajax({type:"POST",url:t.link+"endoresment/handover.aspx/getUnitDashData2",data:n()({id:t.user}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){e.d.length>0&&(t.edits=!0,t.Units=JSON.parse(e.d))}}),$.ajax({type:"POST",url:t.link+"endoresment/viewPatients.aspx/getDoctorData",data:n()({data:{Dr_Code:t.user.Emp_id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.DoctorData=JSON.parse(e.d)[0],"Consultant"==t.DoctorData.Type?$.ajax({type:"POST",url:t.link+"endoresment/viewPatients.aspx/getPatientsData",data:n()({data:{Dr_Code:t.user.Emp_id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){if(t.DoctorPatients=JSON.parse(e.d),t.DoctorPatients.length>0){t.DoctorPatients.map(function(e){return t.$set(e,"edit",!1)});for(var a=0;a<t.DoctorPatients.length;a++)t.DoctorPatients[a].Room=t.DoctorPatients[a].Room.trim()}}}):($.ajax({type:"POST",url:t.link+"endoresment/viewPatients.aspx/getPatientsData2",data:n()({data:{Dr_Code:t.user.Emp_id,Spcy_Description:t.DoctorData.Spcy_Description}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){if(t.DoctorPatients=JSON.parse(e.d),$.ajax({type:"POST",url:t.link+"endoresment/viewPatients.aspx/getConsultationsData",data:n()({data:{Spcy_id:t.DoctorData.Spcy_id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.DoctorPatients.push(JSON.parse(e.d)[0])}}),t.DoctorPatients.length>0){t.DoctorPatients.map(function(e){return t.$set(e,"edit",!1)});for(var a=0;a<t.DoctorPatients.length;a++)t.DoctorPatients[a].Room=t.DoctorPatients[a].Room.trim()}}}),$.ajax({type:"POST",url:t.link+"endoresment/viewPatients.aspx/getDoctorsData",data:n()({data:{Spcy_Description:t.DoctorData.Spcy_Description}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Doctors=JSON.parse(e.d)}}))}})):$.ajax({type:"POST",url:t.link+"endoresment/handover.aspx/getUnitDashData2",data:n()({id:t.user}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){e.d.length>0&&(t.edits=!1,t.Units=JSON.parse(e.d))}})},confirm:function(t,e){var a=this;$.ajax({type:"POST",url:a.link+"endoresment/handover.aspx/confirmEndorsing",data:n()({id:{id:t}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){swal({title:"Confirmed!",icon:"success",dangerMode:!0}),a.Units[e].Confirm=!0}})}},watch:{$route:function(t,e){var a=this;n()(this.user)!=localStorage.getItem("user")&&(this.user=JSON.parse(localStorage.getItem("user")),this.getUnits(),this.$router.options.routes.map(function(t){t.meta.authCheck="all"==t.meta.auth||t.meta.auth==a.user.Role_id}),location.reload())}},created:function(){this.getUnits()}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("div",{class:t.user?"page-container":""},[a("div",{class:t.user?"main-contnet":""},[t.user?a("upper-nav",{attrs:{username:t.user.FullName}}):t._e(),t._v(" "),t.Units.length>0&&t.edits&&t.user?a("div",[17==t.user.Role_id?a("div",t._l(t.Units,function(e,s){return a("div",{key:e.id},[e.Confirm?t._e():a("ul",{staticClass:"list-unstyled alert-charge"},[a("li",{staticClass:"alert bg-danger text-white p-4"},[a("i",{staticClass:"text-warning fa fa-warning"}),t._v(" "),a("span",[t._v("You haven't confirmed endorsing for\n                  "),a("strong",{staticClass:"border-bottom"},[t._v(t._s(e.Unit_name))]),t._v(" yet!")]),t._v(" "),a("button",{staticClass:"pull-right btn btn-warning text-dark",on:{click:function(a){return a.preventDefault(),t.confirm(e.id,s)}}},[t._v("\n                  Confirm\n                ")])])])])}),0):t._e()]):t._e(),t._v(" "),a("router-view",{attrs:{link:t.link,user:t.user,UnitDash:t.Units,edits:t.edits,NursesPatients:t.NursesPatients,DoctorPatients:t.DoctorPatients.filter(function(t){return t}),DoctorData:t.DoctorData,Doctors:t.Doctors}})],1)])])},staticRenderFns:[]};var p=a("VU/8")(d,u,!1,function(t){a("txWZ"),a("CoYN"),a("wBgI"),a("+Y/P"),a("mY/S"),a("KsNL"),a("5q/c"),a("MYj4"),a("ddge"),a("QzZx"),a("N73B")},null,null).exports,m=a("/ocq"),v={name:"login",props:["link"],data:function(){return{user:{user_name:"",pass_word:""},apiUrl:this.link}},methods:{login:function(){var t=this;t.user.user_name&&t.user.pass_word&&$.ajax({type:"POST",url:t.apiUrl+"loginApi.aspx/login",data:n()({user:t.user}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){if("false"==e.d)swal({title:"Error!",text:"The username or password is not correct!",icon:"warning",dangerMode:!0});else{var a=JSON.parse(e.d)[0];localStorage.setItem("user",n()(a)),t.$router.push({name:"Dashboard"})}}})}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"wrapper fadeInDown"},[a("div",{attrs:{id:"formContent"}},[t._m(0),t._v(" "),a("h2",[t._v("Sign In")]),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.login()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.user_name,expression:"user.user_name"}],staticClass:"fadeIn second",attrs:{name:"username",type:"text",id:"username",placeholder:"User name"},domProps:{value:t.user.user_name},on:{input:function(e){e.target.composing||t.$set(t.user,"user_name",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.pass_word,expression:"user.pass_word"}],staticClass:"fadeIn third",attrs:{name:"password",type:"password",id:"password",placeholder:"Password"},domProps:{value:t.user.pass_word},on:{input:function(e){e.target.composing||t.$set(t.user,"pass_word",e.target.value)}}}),t._v(" "),a("input",{staticClass:"fadeIn fourth",attrs:{type:"submit",name:"Button_Submit",value:"Submit",id:"Button_Submit"}})])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"form-header"}},[e("img",{staticClass:"img-fluid",attrs:{src:a("eXaP"),alt:"logo"}})])}]};var h=a("VU/8")(v,_,!1,function(t){a("O1eD")},"data-v-0955a7e3",null).exports,f={name:"OR",props:["link","user"],data:function(){return{apiUrl:this.link,oldPass:"",newPass:"",confirm:""}},methods:{updateInfo:function(){var t=this,e={Emp_id:t.user.Emp_id,FullName:document.getElementById("FullName").value,Email:document.getElementById("Email").value,Mobile_1:document.getElementById("Mobile_1").value,Mobile_2:document.getElementById("Mobile_2").value};e.FullName.length<5&&!parseInt(e.FullName)?swal({title:"Error!",text:"Sorry you have to fill the Full Name field with at least 5 characters!",icon:"warning",dangerMode:!0}):$.ajax({type:"POST",url:t.apiUrl+"/forgot_password.aspx/ChangeInfo",data:n()({info:e}),contentType:"application/json; charset=utf-8",dataType:"json",beforSend:function(){swal("Please Wait!")},success:function(){swal("You have successfully updated your information!"),t.user.FullName=e.FullName,t.user.Email=e.Email,t.user.Mobile_1=e.Mobile_1,t.user.Mobile_2=e.Mobile_2},error:function(){swal({title:"Error!",text:"Something went wrong please try again later!",icon:"warning",dangerMode:!0})}})},changePass:function(){var t=this;t.newPass==t.confirm?t.newPass.length>=6?$.ajax({type:"POST",url:t.apiUrl+"/forgot_password.aspx/ChangePass",data:n()({pass:{pass_word:t.newPass,oldPass:t.oldPass,Emp_id:t.user.Emp_id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){"error"!=t.d?swal("Your password has been changed!"):swal({title:"Error!",text:"Sorry the current password is incorrect!",icon:"warning",dangerMode:!0})}}):swal({title:"Error!",text:"Sorry the password have to contain at least 6 digits or characters!",icon:"warning",dangerMode:!0}):swal({title:"Error!",text:"Sorry the password doesn't match!",icon:"warning",dangerMode:!0})}},created:function(){}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"security"},[a("div",{staticClass:"container-fluid"},[a("section",{staticClass:"profile-box pt-3"},[a("div",{staticClass:"custom-form header-box"},[a("div",{staticClass:"cu-container"},[a("div",{staticClass:"row align-items-center"},[t._m(0),t._v(" "),a("div",{staticClass:"col-lg-9"},[a("ul",{staticClass:"list-unstyled cu-flex"},[a("li",{staticClass:"col-lg-6"},[a("i",{staticClass:"fa fa-user"}),t._v("Name:\n\t\t\t\t\t\t\t\t\t\t"),a("span",[t._v(t._s(t.user.FullName))])]),t._v(" "),a("li",{staticClass:"col-lg-6"},[a("i",{staticClass:"fa fa-user"}),t._v("User Name:\n\t\t\t\t\t\t\t\t\t\t"),a("span",[t._v(t._s(t.user.user_name))])]),t._v(" "),a("li",{staticClass:"col-lg-6"},[a("i",{staticClass:"fa fa-briefcase"}),t._v("Title: \n\t\t\t\t\t\t\t\t\t\t"),a("span",[t._v(t._s(t.user.Title))])]),t._v(" "),a("li",{staticClass:"col-lg-6"},[a("i",{staticClass:"fa fa-envelope"}),t._v("Email:\n\t\t\t\t\t\t\t\t\t\t"),a("span",[t._v(t._s(t.user.Email))])]),t._v(" "),a("li",{staticClass:"col-lg-6"},[a("i",{staticClass:"fa fa-usb"}),t._v("Branch:\n\t\t\t\t\t\t\t\t\t\t"),a("span",[t._v(t._s(t.user.Branch_name))])]),t._v(" "),a("li",{staticClass:"col-lg-6"},[a("i",{staticClass:"fa fa-usb"}),t._v("Department:\n\t\t\t\t\t\t\t\t\t\t"),a("span",[t._v(t._s(t.user.Dept_name))])]),t._v(" "),t._m(1),t._v(" "),a("li",{staticClass:"col-lg-6"},[a("i",{staticClass:"fa fa-phone"}),t._v("Mobile 1:\n\t\t\t\t\t\t\t\t\t\t"),a("span",[t._v(t._s(t.user.Mobile_1))])]),t._v(" "),a("li",{staticClass:"col-lg-6"},[a("i",{staticClass:"fa fa-phone"}),t._v("Mobile 2:\n\t\t\t\t\t\t\t\t\t\t"),a("span",[t._v(t._s(t.user.Mobile_2))])]),t._v(" "),a("li",{staticClass:"col-lg-6"},[a("i",{staticClass:"fa fa-calendar-plus-o"}),t._v("Hiring Date:\n\t\t\t\t\t\t\t\t\t\t"),a("span",[t._v(t._s(t.user.Hiring_Date))])])])])])])])]),t._v(" "),a("div",{staticClass:"view-account custom-form",attrs:{id:"Profile"}},[t._m(2),t._v(" "),a("section",{staticClass:"module"},[a("div",{staticClass:"module-inner"},[a("div",{staticClass:"content-panel"},[a("div",{staticClass:"tab-pane active",attrs:{id:"profile"}},[t._m(3),t._v(" "),a("fieldset",{staticClass:"fieldset cu-form-group special shadow"},[t._m(4),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[t._v("Full Name")]),t._v(" "),a("div",{staticClass:"input-group mb-2"},[t._m(5),t._v(" "),a("input",{staticClass:"form-control",attrs:{id:"FullName",type:"text",placeholder:"Full Name"},domProps:{value:t.user.FullName}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[t._v("Email")]),t._v(" "),a("div",{staticClass:"input-group mb-2"},[t._m(6),t._v(" "),a("input",{staticClass:"form-control",attrs:{id:"Email",type:"email",placeholder:"Email"},domProps:{value:t.user.Email}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[t._v("Mobile 1")]),t._v(" "),a("div",{staticClass:"input-group mb-2"},[t._m(7),t._v(" "),a("input",{staticClass:"form-control",attrs:{id:"Mobile_1",type:"number",placeholder:"Mobile 1"},domProps:{value:t.user.Mobile_1}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[t._v("Mobile 2")]),t._v(" "),a("div",{staticClass:"input-group mb-2"},[t._m(8),t._v(" "),a("input",{staticClass:"form-control",attrs:{id:"Mobile_2",type:"number",placeholder:"Mobile 2"},domProps:{value:t.user.Mobile_2}})])])]),t._v(" "),a("div",{staticClass:"form-group text-center"},[a("button",{staticClass:"special-btn",on:{click:function(e){return e.preventDefault(),t.updateInfo()}}},[t._v("Update")])])]),t._v(" "),a("div",{staticClass:"tab-pane",attrs:{id:"security"}},[t._m(9),t._v(" "),a("fieldset",{staticClass:"fieldset cu-form-group special shadow"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[t._v("Your Current Password")]),t._v(" "),a("div",{staticClass:"input-group mb-2"},[t._m(10),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPass,expression:"oldPass"}],staticClass:"form-control",attrs:{ID:"txt_cpassword",type:"Password"},domProps:{value:t.oldPass},on:{input:function(e){e.target.composing||(t.oldPass=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[t._v("Your New Password:")]),t._v(" "),a("div",{staticClass:"input-group mb-2"},[t._m(11),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPass,expression:"newPass"}],staticClass:"form-control",attrs:{ID:"txt_cpassword",type:"Password"},domProps:{value:t.newPass},on:{input:function(e){e.target.composing||(t.newPass=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[t._v("Confirm Password:")]),t._v(" "),a("div",{staticClass:"input-group mb-2"},[t._m(12),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirm,expression:"confirm"}],staticClass:"form-control",attrs:{ID:"txt_cpassword",type:"Password"},domProps:{value:t.confirm},on:{input:function(e){e.target.composing||(t.confirm=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"form-group text-center"},[a("button",{staticClass:"special-btn",on:{click:function(e){return e.preventDefault(),t.changePass(e)}}},[t._v("Update Passowrd")])])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-lg-3 text-center"},[e("img",{staticClass:"img-responsive center-block rounded-circle img-thumbnail",attrs:{src:a("9wIK"),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"col-lg-6"},[e("i",{staticClass:"fa fa-usb"}),this._v("Section:\n\t\t\t\t\t\t\t\t\t\t")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"custom-form header-box"},[e("div",{staticClass:"cu-container"},[e("ul",{staticClass:"nav list-unstyled cu-flex text-center"},[e("li",{staticClass:"shadow"},[e("a",{staticClass:"nav-item nav-link has-icon nav-link-faded active",attrs:{href:"#profile","data-toggle":"tab"}},[e("span",{staticClass:"fa fa-user"}),this._v("  Profile Information\n\t\t\t\t\t\t\t\t")])]),this._v(" "),e("li",{staticClass:"shadow"},[e("a",{staticClass:"nav-item nav-link has-icon nav-link-faded",attrs:{href:"#security","data-toggle":"tab"}},[e("span",{staticClass:"fa fa-cog"}),this._v("  Change Password\n\t\t\t\t\t\t\t\t")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"fieldset-title"},[e("i",{staticClass:"mr-1 fa fa-edit"}),this._v("Personal Info")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group avatar hidden"},[e("figure",{staticClass:"figure col-md-2 col-sm-3 col-xs-12"},[e("img",{staticClass:"img-rounded img-responsive",attrs:{src:a("9wIK"),alt:""}})]),this._v(" "),e("div",{staticClass:"form-inline col-md-10 col-sm-9 col-xs-12"},[e("input",{staticClass:"file-uploader pull-left",attrs:{type:"file"}}),this._v(" "),e("button",{staticClass:"btn btn-sm btn-default-alt pull-left",attrs:{type:"submit"}},[this._v("Update Image")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("div",{staticClass:"input-group-text"},[e("i",{staticClass:"fa fa-user"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("div",{staticClass:"input-group-text"},[this._v("@")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("div",{staticClass:"input-group-text"},[e("i",{staticClass:"fa fa-phone"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("div",{staticClass:"input-group-text"},[e("i",{staticClass:"fa fa-phone"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"fieldset-title"},[e("i",{staticClass:"mr-1 fa fa-edit"}),this._v("Change Password")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("div",{staticClass:"input-group-text"},[e("i",{staticClass:"fa fa-shield"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("div",{staticClass:"input-group-text"},[e("i",{staticClass:"fa fa-shield"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("div",{staticClass:"input-group-text"},[e("i",{staticClass:"fa fa-shield"})])])}]};var g=a("VU/8")(f,C,!1,function(t){a("I8fA")},"data-v-38dc410f",null).exports,b={name:"addUnit",props:["link","user","UnitDash","edits"],data:function(){return{apiUrl:this.link,date:new Date((new Date).getTime()+36e5).toISOString().substr(0,10),Nurses:[],Units:[],newUnit:{Unit_id:0,Branch_id:0,Unit_name:"",Shift:"",Shift_date:"",Total_Census:0,Received:0,Admission:0,Transfer_In:0,Transfer_Out:0,Endorsing_EndoresingNurse_id:"",Endorsing_EndoresingNurse:"",Receive_EndoresingNurse_id:"",Receive_EndoresingNurse:""},scheduleShifts:[],currentShift:null}},methods:{submitUnit:function(){if($(".modal.show form").is(":valid")){var t=this;t.newUnit.Shift=t.currentShift.Shift,t.newUnit.Shift_date=t.currentShift.Date,t.newUnit.Branch_id=t.user.Branch_ID,t.newUnit.Endorsing_ChargeNurse=t.currentShift.EndoresingNurse.filter(function(e){return e.Emp_ID==t.newUnit.Endorsing_ChargeNurse_id})[0].FullName,t.newUnit.Receive_ChargeNurse=t.user.FullName,t.newUnit.Receive_ChargeNurse_id=t.user.Emp_id,t.newUnit.Unit_id=t.currentShift.Unit_id,t.newUnit.Unit_name=t.currentShift.Unit_name,t.newUnit.Received=t.currentShift.patientsNum,t.newUnit.Confirm=!0,$.ajax({type:"POST",url:t.apiUrl+"endoresment/add_unit.aspx/newUnit",data:n()({data:t.newUnit}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){swal({title:"Done!",text:"You successfully received a shift in "+t.currentShift.Unit_name,icon:"success"}).then(function(t){$(".modal").modal("hide"),location.reload()})}})}else swal({icon:"warning",dangerMode:!0,text:"Please Fill All Fields!"})},handover:function(){if($(".modal.show form").is(":valid")){var t=this;t.newUnit.Branch_id=t.user.Branch_ID,t.newUnit.Endorsing_ChargeNurse_id=t.user.Emp_id,t.newUnit.Unit_id=t.currentShift.Unit_id,t.newUnit.Unit_name=t.currentShift.Unit_name,t.newUnit.Received=t.currentShift.patientsNum,t.newUnit.Confirm=!1,t.currentShift.otherNurses.length>0?(t.newUnit.Shift=t.currentShift.Shift.trim(),t.newUnit.Shift_date=t.currentShift.Date,t.newUnit.Endorsing_ChargeNurse=t.user.FullName,t.newUnit.Receive_ChargeNurse=t.currentShift.otherNurses.filter(function(e){return e.Emp_ID==t.newUnit.Receive_ChargeNurse_id})[0].FullName):(t.newUnit.Shift="Day"==t.currentShift.Shift.trim()?"Night":"Day",t.newUnit.Shift_date=t.currentShift.handoverDate,t.newUnit.Endorsing_ChargeNurse=t.user.FullName,t.newUnit.Receive_ChargeNurse=t.currentShift.handNurse.filter(function(e){return e.Emp_ID==t.newUnit.Receive_ChargeNurse_id})[0].FullName),$.ajax({type:"POST",url:t.apiUrl+"endoresment/add_unit.aspx/newUnit",contentType:"application/json; charset=utf-8",data:n()({data:t.newUnit}),dataType:"json",beforeSend:function(){swal({title:"Sending!",text:"Please wait!",buttons:!1,closeOnClickOutside:!1})},success:function(e){var a=t.UnitDash.filter(function(e){return e.Unit_id==t.newUnit.Unit_id})[0].id;!function e(){return $.ajax({type:"POST",url:t.apiUrl+"endoresment/add_unit.aspx/completeNurseShift",data:n()({shift:{id:a}}),contentType:"application/json; charset=utf-8",dataType:"json",error:function(){e()}})}(),t.UnitDash.filter(function(t){return t.id==a})[0].Completed=1},complete:function(){swal({title:"Done!",text:"You successfully handed a shift in "+t.currentShift.Unit_name,icon:"success"}).then(function(t){$(".modal").modal("hide")})}})}else swal({icon:"warning",dangerMode:!0,text:"Please Fill All Fields!"})},confirm:function(t){var e=this;$.ajax({type:"POST",url:e.link+"endoresment/handover.aspx/confirmEndorsing",data:n()({id:{id:t}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){swal({title:"Confirmed!",icon:"success",dangerMode:!0}),e.UnitDash.filter(function(e){return e.id==t})[0].Confirm=!0}})}},created:function(){var t=this;$.ajax({type:"POST",url:t.apiUrl+"endoresment/add_unit.aspx/getScheduleData",data:n()({data:{Nurse_id:t.user.Emp_id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.scheduleShifts=JSON.parse(e.d),(new Date).getHours()<20&&(new Date).getHours()>=8?t.scheduleShifts=t.scheduleShifts.filter(function(t){return t.Date.trim()==moment(new Date).format("YYYY-MM-DD")&&"Day"==t.Shift.trim()}):t.scheduleShifts=t.scheduleShifts.filter(function(t){var e=moment(moment(new Date).format("YYYY-MM-DD")+" 20:00"),a=(new Date).getHours()<8;return"Night"==t.Shift.trim()&&(a?moment(t.Date.trim()+" 19:59").add(12,"Hour")<e:moment(t.Date.trim()+" 20:01").add(12,"Hour")>e)});for(var a=0;a<t.scheduleShifts.length;a++){var s="Day"==t.scheduleShifts[a].Shift.trim()?"Night":"Day",i="Night"==t.scheduleShifts[a].Shift?t.scheduleShifts[a].Date:moment(t.scheduleShifts[a].Date.trim()).add(-1,"day").format("YYYY-MM-DD");t.scheduleShifts[a].EndoresingNurse=[],t.scheduleShifts[a].handNurse=[],d(s,i,a)}for(var r=0;r<t.scheduleShifts.length;r++){d("Day"==t.scheduleShifts[r].Shift.trim()?"Night":"Day","Day"==t.scheduleShifts[r].Shift?t.scheduleShifts[r].Date:moment(t.scheduleShifts[r].Date.trim()).add(1,"day").format("YYYY-MM-DD"),r)}for(var l=0;l<t.scheduleShifts.length;l++){var o=t.scheduleShifts[l].Shift.trim(),c=t.scheduleShifts[l].Date;t.scheduleShifts[l].EndoresingNurse=[],t.scheduleShifts[l].handNurse=[],t.scheduleShifts[l].otherNurses=[],d(o,c,l)}function d(e,a,s){$.ajax({type:"POST",url:t.apiUrl+"endoresment/add_Unit.aspx/getNursesData",data:n()({data:{Unit_id:t.scheduleShifts[s].Unit_id,Role_id:t.user.Role_id,Shift:e,Date:a}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(i){var n="Night"==e?" 7:00":" 19:00",r="Night"==e?" 19:00":" 7:00",l="Day"==e?a:moment(a).add(1,"day").format("YYYY-MM-DD");moment(l+n)>moment(new Date)&&moment(l+n)<moment(t.scheduleShifts[s].Date.trim()+n).add(12,"Hour")?JSON.parse(i.d).length>0&&(t.scheduleShifts[s].otherNurses.push(JSON.parse(i.d)),t.scheduleShifts[s].otherNurses=t.scheduleShifts[s].otherNurses.flat()):moment(t.scheduleShifts[s].Date.trim()+n).add(12,"Hour")<moment(a+r).add(12,"Hour")&&moment(t.scheduleShifts[s].Date.trim()+n)<=moment(new Date)?JSON.parse(i.d).length>0?(t.scheduleShifts[s].handNurse.push(JSON.parse(i.d)),t.scheduleShifts[s].handNurse=t.scheduleShifts[s].handNurse.flat()):t.scheduleShifts[s].handNurse.push({FullName:"Unknown",Emp_ID:0}):JSON.parse(i.d).length>0?(t.scheduleShifts[s].EndoresingNurse.push(JSON.parse(i.d)),t.scheduleShifts[s].EndoresingNurse=t.scheduleShifts[s].EndoresingNurse.flat()):t.scheduleShifts[s].EndoresingNurse={FullName:"Unknown",Emp_ID:0},t.scheduleShifts[s].handoverDate="Day"==t.scheduleShifts[s].Shift?t.scheduleShifts[s].Date:moment(t.scheduleShifts[s].Date.trim()).add(1,"day").format("YYYY-MM-DD")}})}}})}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addUnit"},[a("div",{staticClass:"heading text-center mb-5 bg-white shadow-sm p-3 pt-5"},[t._m(0),t._v(" "),a("p",[a("span",{staticClass:"text-success"},[t._v("Charge Nurse:")]),t._v(" "+t._s(t.user.FullName))])]),t._v(" "),a("v-container",[17==t.user.Role_id&&t.scheduleShifts.length>0?a("div",{staticClass:"endoresment-options mt-5 pt-3 text-center shadow rounded overflow-hidden"},t._l(t.scheduleShifts.filter(function(t,e,a){return a.findIndex(function(e){return e.id===t.id})===e}),function(e){return a("div",{key:e.Unit_id,staticClass:"row align-items-center border-bottom pt-3 pb-3"},[a("div",{staticClass:"col-md-6"},[a("h3",{staticClass:"text-dark font-weight-bold"},[t._v(" "+t._s(e.Unit_name)+" ")])]),t._v(" "),a("div",{staticClass:"col-md-6"},[0==t.UnitDash.filter(function(t){return t.Unit_id==e.Unit_id}).length?a("div",{staticClass:"receive-shift"},[a("button",{staticClass:"btn btn-primary btn-block shadow",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal2"},on:{click:function(a){a.preventDefault(),t.currentShift=e}}},[t._v("\n                      Receive Shift\n                  ")])]):0==t.UnitDash.filter(function(t){return t.Unit_id==e.Unit_id&&t.Confirm}).length?a("div",{staticClass:"receive-shift"},[a("button",{staticClass:"btn btn-warning btn-block shadow",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal3"},on:{click:function(a){a.preventDefault(),t.confirm(t.UnitDash.filter(function(t){return t.Unit_id==e.Unit_id})[0].id)}}},[t._v("\n                      Confirm receiving shift\n                  ")])]):t.UnitDash.filter(function(t){return t.Unit_id==e.Unit_id&&t.Completed}).length>0?a("p",{staticClass:"text-success"},[a("i",{staticClass:"fa fa-check-circle pr-1"}),t._v(" You handoverd current shift!\n              ")]):a("button",{staticClass:"btn btn-danger btn-block shadow",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal"},on:{click:function(a){a.preventDefault(),t.currentShift=e}}},[t._v("\n                  Handover Shift\n              ")])])])}),0):17!=t.user.Role_id||t.edits||0!=t.scheduleShifts.length?t._e():a("v-alert",{staticClass:"bg-white text-danger",staticStyle:{"max-width":"500px",margin:"60px auto"},attrs:{border:"right","colored-border":"",type:"error",elevation:"2"}},[t._v("\n    You have no scheduled shifts yet!\n    ")]),t._v(" "),t.currentShift?a("div",{staticClass:"endorsing-nurse"},[a("div",{staticClass:"modal fade",attrs:{id:"exampleModal2",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel2","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel2"}},[t._v("Receive Shift \n                        "),a("span",{staticClass:"text-primary"},[t._v(t._s(t.currentShift.Unit_name))])]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitUnit()}}},[a("ul",{staticClass:"shift-info list-unstyled"},[a("li",{staticClass:"pb-3"},[a("v-select",{attrs:{items:t.currentShift.EndoresingNurse,"item-text":"FullName","item-value":"Emp_ID",label:"Receiving From",placeholder:"Select a nurse",name:"nurse",required:""},model:{value:t.newUnit.Endorsing_ChargeNurse_id,callback:function(e){t.$set(t.newUnit,"Endorsing_ChargeNurse_id",e)},expression:"newUnit.Endorsing_ChargeNurse_id"}})],1),t._v(" "),a("li",{staticClass:"p-3 cu-flex"},[a("span",{staticClass:"keyWords"},[t._v("Received:")]),t._v(" "),a("span",{staticClass:"values text-secondary"},[t._v(t._s(t.currentShift.patientsNum)+" Patients")])]),t._v(" "),a("li",{staticClass:"p-3 cu-flex"},[a("span",{staticClass:"keyWords"},[t._v("Shift Date:")]),t._v(" "),a("span",{staticClass:"values text-secondary"},[t._v(t._s(t.currentShift.Date))]),t._v(" "),a("span",{staticClass:"values text-secondary"},[t._v("\n                                    "+t._s(t.currentShift.Shift)+"\n                                    "),a("span",{staticClass:"text-success"},[a("i",{class:"Day"==t.currentShift.Shift.trim()?"fa fa-sun-o":"fa fa-moon-o"})])])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary shadow",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.newUnit.Total_Census=0,t.newUnit.Received=0}}},[t._v("Close")]),t._v(" "),a("button",{staticClass:"btn btn-primary shadow",attrs:{type:"button"},on:{click:function(e){return t.submitUnit()}}},[t._v("Submit")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Handover Shift\n                        "),a("span",{staticClass:"text-primary"},[t._v(t._s(t.currentShift.Unit_name))])]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitUnit()}}},[a("ul",{staticClass:"shift-info list-unstyled"},[t.currentShift.otherNurses.length>0?a("li",{staticClass:"pb-3"},[a("v-select",{attrs:{items:t.currentShift.otherNurses.filter(function(e){return e.Emp_ID!=t.user.Emp_id}),"item-text":"FullName","item-value":"Emp_ID",label:"Handover To",placeholder:"Select a nurse",name:"nurse",required:""},model:{value:t.newUnit.Receive_ChargeNurse_id,callback:function(e){t.$set(t.newUnit,"Receive_ChargeNurse_id",e)},expression:"newUnit.Receive_ChargeNurse_id"}})],1):a("li",{staticClass:"pb-3"},[a("v-select",{attrs:{items:t.currentShift.handNurse,"item-text":"FullName","item-value":"Emp_ID",label:"Handover To",placeholder:"Select a nurse",name:"nurse",required:""},model:{value:t.newUnit.Receive_ChargeNurse_id,callback:function(e){t.$set(t.newUnit,"Receive_ChargeNurse_id",e)},expression:"newUnit.Receive_ChargeNurse_id"}})],1),t._v(" "),a("li",{staticClass:"p-3 cu-flex"},[a("span",{staticClass:"keyWords"},[t._v("Received:")]),t._v(" "),a("span",{staticClass:"values text-secondary"},[t._v(t._s(t.currentShift.patientsNum)+" Patients")])]),t._v(" "),a("li",{staticClass:"p-3 cu-flex"},[a("span",{staticClass:"keyWords"},[t._v("Shift Date:")]),t._v(" "),t.currentShift.otherNurses.length>0?a("span",{staticClass:"values text-secondary"},[t._v(t._s(t.currentShift.Date))]):a("span",{staticClass:"values text-secondary"},[t._v(t._s(t.currentShift.handoverDate))]),t._v(" "),t.currentShift.otherNurses.length>0?a("span",{staticClass:"values text-secondary"},[t._v("\n                                    "+t._s(t.currentShift.Shift.trim())+"\n                                    "),a("span",{staticClass:"text-success"},[a("i",{class:"Day"==t.currentShift.Shift.trim()?"fa fa-sun-o":"fa fa-moon-o"})])]):a("span",{staticClass:"values text-secondary"},[t._v("\n                                    "+t._s("Day"==t.currentShift.Shift.trim()?"Night":"Day")+"\n                                    "),a("span",{staticClass:"text-success"},[a("i",{class:"Day"==t.currentShift.Shift.trim()?"fa fa-moon-o":"fa fa-sun-o"})])])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary shadow",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),a("button",{staticClass:"btn btn-primary shadow",attrs:{type:"button"},on:{click:function(e){return t.handover()}}},[t._v("Submit")])])])])])]):t._e()],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",[e("span",{staticClass:"text-primary"},[this._v("Endoresment")]),this._v(" / "),e("span",{staticClass:"text-grey"},[this._v("Handover")])])}]};var D=a("VU/8")(b,y,!1,function(t){a("nfXi")},"data-v-94edb068",null).exports,w={name:"Units",props:["link"],data:function(){return{patients:[],Units:[],UnitsDash:[],search:"",filtered:[],Total_Census:0,Shift:"",apiUrl:this.link}},methods:{sumDash:function(t){return this.UnitsDash.reduce(function(e,a){return e+a[t]},0)},filterDash:function(t,e){var a=this.UnitsDash.filter(function(t){return t.Unit_id==e}).length>0?this.UnitsDash.filter(function(t){return t.Unit_id==e}):0;return 0!=a?a[a.length-1][t]:0}},watch:{search:function(){var t=this;this.filtered=this.Units.filter(function(e){return e.U_name.toLowerCase().startsWith(t.search.toLowerCase())})}},created:function(){var t=this;$.ajax({type:"POST",url:t.apiUrl+"endoresment/Units.aspx/getUnitsData",data:n()({branch:{id:1}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Units=JSON.parse(e.d),t.filtered=JSON.parse(e.d);for(var a=function(e){$.ajax({type:"POST",url:t.apiUrl+"endoresment/Units.aspx/getTotalData",data:n()({unit:{U_name:t.Units[e].U_name}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){t.Units[e].Total=JSON.parse(a.d)[0].Total,t.filtered[e].Total=JSON.parse(a.d)[0].Total,t.Total_Census+=JSON.parse(a.d)[0].Total}})},s=0;s<t.Units.length;s++)a(s)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/Units.aspx/getUnitsDashData",data:n()({branch:{id:1}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.UnitsDash=JSON.parse(e.d),(new Date).getHours()<20&&(new Date).getHours()>=8?(t.Shift="Day",t.UnitsDash=t.UnitsDash.filter(function(t){var e=t.Shift_date.substr(0,10);return moment(e).format("YYYY-MM-DD")==moment(new Date).format("YYYY-MM-DD")&&"Day"==t.Shift.trim()})):(t.Shift="Night",t.UnitsDash=t.UnitsDash.filter(function(t){var e=moment(moment(new Date).format("YYYY-MM-DD")+" 20:00"),a=(new Date).getHours()<8,s=t.Shift_date.substr(0,10);return"Night"==t.Shift.trim()&&(a?moment(s+" 19:59").add(12,"Hour")<e:moment(s+" 20:01").add(12,"Hour")>e)})),t.UnitsDash=t.UnitsDash.filter(function(t,e,a){return a.findIndex(function(e){return e.Unit_id===t.Unit_id})===e})}})}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Units"},[a("div",{staticClass:"container"},[a("div",{staticClass:"statisics"},[a("h4",{staticClass:"text-center"},[a("span",{staticClass:"text-secondary"},[t._v("Units Dashboard for")]),t._v("\n        "+t._s((new Date).toDateString())+".\n      ")]),t._v(" "),a("p",{staticClass:"mb-5 text-center text-secondary"},[t._v("\n        Current shift\n        "),a("span",{staticClass:"text-primary"},[a("i",{class:"Day"==t.Shift?"fa fa-sun-o":"fa fa-moon-o"}),t._v("\n          "+t._s(t.Shift))])]),t._v(" "),a("div",{staticClass:"cu-flex"},[a("div",{},[a("div",{staticClass:"outer"},[a("div",{staticClass:"inner bg-white shadow text-center"},[a("span",{staticClass:"num"},[t._v(t._s(t.Total_Census))]),t._v("\n              Total Census\n            ")])])]),t._v(" "),a("div",{},[a("div",{staticClass:"outer"},[a("div",{staticClass:"inner bg-white shadow text-center"},[a("span",{staticClass:"num"},[t._v(t._s(t.sumDash("Admission")))]),t._v("\n              Admission\n            ")])])]),t._v(" "),a("div",{},[a("div",{staticClass:"outer"},[a("div",{staticClass:"inner bg-white shadow text-center"},[a("span",{staticClass:"num"},[t._v(t._s(t.sumDash("Discharge")))]),t._v("\n              Discharge\n            ")])])]),t._v(" "),a("div",{},[a("div",{staticClass:"outer"},[a("div",{staticClass:"inner bg-white shadow text-center"},[a("span",{staticClass:"num"},[t._v(t._s(t.sumDash("Death")))]),t._v("\n              Death\n            ")])])])])])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"row align-items-baseline"},[t._m(0),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"input-group"},[t._m(1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search for unit","aria-label":"Search for unit","aria-describedby":"basic-addon1"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"row"},t._l(t.filtered,function(e){return e.Total>0?a("div",{key:e.U_id,staticClass:"col-lg-4 col-md-6"},[a("div",{staticClass:"details"},[a("div",{staticClass:"inner shadow"},[a("h3",{staticClass:"pb-2"},[t._v(t._s(e.U_name))]),t._v(" "),a("span",{staticClass:"Census badge badge-light border font-weight-normal"},[t._v("\n              Total Census:\n              "),a("span",{staticClass:"text-danger"},[t._v(t._s(e.Total)+" ")])]),t._v(" "),a("span",{staticClass:"Admission badge font-weight-normal"},[t._v("\n              Admission: "+t._s(t.filterDash("Admission",e.U_id))+"\n            ")]),t._v(" "),a("div",{staticClass:"row mt-3 p-2 border rounded Transfer"},[a("div",{staticClass:"col-6 border-right text-success"},[a("span",[t._v("Transfer In:")]),t._v(" "+t._s(t.filterDash("Transfer_In",e.U_id))+"\n              ")]),t._v(" "),a("div",{staticClass:"col-6 text-danger"},[a("span",[t._v("Transfer Out:")]),t._v(" "+t._s(t.filterDash("Transfer_Out",e.U_id))+"\n              ")])]),t._v(" "),a("p",{staticClass:"RoomsNum mt-3"},[a("i",{staticClass:"fa fa-hospital-o mainColor"}),t._v(" "),a("span",[t._v("Rooms #:")]),t._v("\n              "+t._s(e.RoomsNum)+"\n            ")]),t._v(" "),a("div",{staticClass:"text-right"},[a("router-link",{staticClass:"btn",attrs:{to:{name:"Unit Details",params:{id:e.U_id}}}},[t._v("View Details")])],1)])])]):t._e()}),0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-8"},[e("h1",{staticClass:"pt-3 pb-3 border-bottom mainColor"},[e("i",{staticClass:"ml-3 mr-3 fa fa-hospital-o"}),this._v("\n          Units List\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text fa fa-search",attrs:{id:"basic-addon1"}})])}]};var S=a("VU/8")(w,x,!1,function(t){a("1P0A")},"data-v-2bff7dd7",null).exports,N={name:"addPatient",props:["link","user"],data:function(){return{apiUrl:this.link,Units:[],Rooms:[],Beds:[],Specialities:[],Consultants:[],today:"",newPatient:{Patient_FullName:"",Branch_id:this.user.Branch_ID,Branch_name:"",Gender:"",Medical_Number:0,Unit:"",Room:"",Bed_id:0,Addmission_date:"",Age:0,Date_Birth:"",Consultant_id:"",Consultant_Name:"",Specialty:"",Patient_Status:1,Entry_user:0}}},methods:{InsertPatient:function(){if($("form").is(":valid")){var t=this;t.newPatient.Unit=t.Units.filter(function(e){return e.U_id==t.newPatient.Unit})[0].U_name,t.newPatient.Room=t.Rooms.filter(function(e){return e.id==t.newPatient.Room})[0].Room_name,t.newPatient.Consultant_Name=t.Consultants.filter(function(e){return e.Dr_Code==t.newPatient.Consultant_id})[0].DR_Name,t.newPatient.Entry_user=t.user.Emp_id,$.ajax({type:"POST",url:t.apiUrl+"endoresment/add_patient.aspx/newPatient",data:n()({data:t.newPatient}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){swal({title:"Done!",text:"You successfully added a new patient ...",icon:"success"}),location.reload()}})}else swal({icon:"warning",dangerMode:!0,text:"Please Fill All Fields!"})}},watch:{"newPatient.Date_Birth":function(){moment().diff(this.newPatient.Date_Birth,"days")>=365?this.newPatient.Age=moment().diff(this.newPatient.Date_Birth,"years")+" years":moment().diff(this.newPatient.Date_Birth,"days")<365&&moment().diff(this.newPatient.Date_Birth,"days")>=30?this.newPatient.Age=moment().diff(this.newPatient.Date_Birth,"months")+" months":this.newPatient.Age=moment().diff(this.newPatient.Date_Birth,"days")+" days"},"newPatient.Unit":function(){var t=this.newPatient.Unit,e=this;$.ajax({type:"POST",url:e.apiUrl+"endoresment/add_patient.aspx/getRoomsData",data:n()({unit:{U_id:t}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){e.Rooms=JSON.parse(t.d),e.Rooms=e.Rooms.sort(function(t,e){return t.Room_name>t.Room_name})}})},"newPatient.Room":function(){var t=this.newPatient.Room,e=this;$.ajax({type:"POST",url:e.apiUrl+"endoresment/add_patient.aspx/getBedsData",data:n()({room:{id:t}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){e.Beds=JSON.parse(t.d)}})},"newPatient.Specialty":function(){var t=this,e=this.Specialities.filter(function(e){return e.Spcy_name_En==t.newPatient.Specialty})[0].Spcy_id,a=this;$.ajax({type:"POST",url:a.apiUrl+"endoresment/roomDetails.aspx/getConsultantsData",data:n()({info:{Spcy_id:e,Branch_ID:a.user.Branch_ID}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){a.Consultants=JSON.parse(t.d)}})}},created:function(){var t=this;t.today=moment(new Date).format("YYYY-MM-DD"),$.ajax({type:"POST",url:t.apiUrl+"endoresment/add_patient.aspx/getUnitsData",data:n()({branch:{id:t.user.Branch_ID}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Units=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/add_patient.aspx/getSpecialitiesData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Specialities=JSON.parse(e.d)}})}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addPatient"},[t._m(0),t._v(" "),a("div",{staticClass:"internal-page",attrs:{id:"auth"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.InsertPatient(e)}}},[a("div",{staticClass:"custom-form pt-3"},[a("div",{staticClass:"cu-container"},[a("div",{staticClass:"cu-form-group special",staticStyle:{"max-width":"900px"}},[t._m(1),t._v(" "),a("div",{staticClass:"cu-field"},[t._m(2),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-edit"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPatient.Patient_FullName,expression:"newPatient.Patient_FullName"}],attrs:{type:"text",required:""},domProps:{value:t.newPatient.Patient_FullName},on:{input:function(e){e.target.composing||t.$set(t.newPatient,"Patient_FullName",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"cu-field"},[t._m(3),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-edit"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPatient.Medical_Number,expression:"newPatient.Medical_Number"}],attrs:{type:"number",required:""},domProps:{value:t.newPatient.Medical_Number},on:{input:function(e){e.target.composing||t.$set(t.newPatient,"Medical_Number",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"cu-field"},[t._m(4),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-calendar-o"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPatient.Date_Birth,expression:"newPatient.Date_Birth"}],attrs:{max:(new Date).toISOString().substr(0,10),type:"date",required:""},domProps:{value:t.newPatient.Date_Birth},on:{input:function(e){e.target.composing||t.$set(t.newPatient,"Date_Birth",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"cu-field"},[t._m(5),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-edit"}),t._v(" "),a("span",{staticClass:"w-100 text-left"},[t._v(t._s(t.newPatient.Age))])])]),t._v(" "),a("div",{staticClass:"cu-field radio-group"},[a("div",{staticClass:"row align-items-end"},[a("div",{staticClass:"col-md-6"},[t._m(6),t._v(" "),a("div",{staticClass:"cu-field"},[a("input",{attrs:{id:"gender",type:"radio",name:"gender",value:"Male",required:""},on:{click:function(e){t.newPatient.Gender="Male"}}}),t._v(" "),t._m(7)])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[a("input",{attrs:{id:"gender1",type:"radio",name:"gender",value:"Female",required:""},on:{click:function(e){t.newPatient.Gender="Female"}}}),t._v(" "),t._m(8)])])])]),t._v(" "),t.Units.length>0?a("div",{staticClass:"cu-field"},[t._m(9),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.newPatient.Unit,expression:"newPatient.Unit"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newPatient,"Unit",e.target.multiple?a:a[0])}}},t._l(t.Units,function(e){return a("option",{key:e.U_name,domProps:{value:e.U_id}},[t._v("\n                    "+t._s(e.U_name)+"\n                  ")])}),0)])]):t._e(),t._v(" "),t.Rooms.length>0?a("div",{staticClass:"cu-field"},[t._m(10),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.newPatient.Room,expression:"newPatient.Room"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newPatient,"Room",e.target.multiple?a:a[0])}}},t._l(t.Rooms,function(e){return a("option",{key:e.Room_name,domProps:{value:e.id}},[t._v("\n                    "+t._s(e.Room_name)+"\n                  ")])}),0)])]):t._e(),t._v(" "),t.Beds.length>0?a("div",{staticClass:"cu-field"},[t._m(11),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.newPatient.Bed_id,expression:"newPatient.Bed_id"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newPatient,"Bed_id",e.target.multiple?a:a[0])}}},t._l(t.Beds,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                    "+t._s(e.Bed_name)+"\n                  ")])}),0)])]):t._e(),t._v(" "),a("div",{staticClass:"cu-field"},[t._m(12),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.newPatient.Specialty,expression:"newPatient.Specialty"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newPatient,"Specialty",e.target.multiple?a:a[0])}}},t._l(t.Specialities,function(e){return""!=e.Spcy_name_En?a("option",{key:e.Spcy_name,domProps:{value:e.Spcy_name_En}},[t._v("\n                    "+t._s(e.Spcy_name_En)+"\n                  ")]):t._e()}),0)])]),t._v(" "),t.Consultants.length>0?a("div",{staticClass:"cu-field"},[t._m(13),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.newPatient.Consultant_id,expression:"newPatient.Consultant_id"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newPatient,"Consultant_id",e.target.multiple?a:a[0])}}},t._l(t.Consultants,function(e){return a("option",{key:e.DR_Name,domProps:{value:e.Dr_Code}},[t._v("\n                    "+t._s(e.DR_Name)+"\n                  ")])}),0)])]):t._e(),t._v(" "),a("div",{staticClass:"cu-field"},[t._m(14),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-calendar-o"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPatient.Addmission_date,expression:"newPatient.Addmission_date"}],attrs:{max:t.today,type:"date",required:""},domProps:{value:t.newPatient.Addmission_date},on:{input:function(e){e.target.composing||t.$set(t.newPatient,"Addmission_date",e.target.value)}}})])]),t._v(" "),t._m(15)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-wave"},[e("div",{staticClass:"wave"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",[e("i",{staticClass:"fa fa-hospital-o mainColor mr-1"}),this._v(" Admission Form")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Patient Full Name :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Medical Number :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Date Of Birth :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Age :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cu-field"},[e("h3",{staticClass:"cu-label"},[e("label",[this._v("Gender")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"gender"}},[e("div",{staticClass:"cu-input cu-radio normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("Male")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"gender1"}},[e("div",{staticClass:"cu-input cu-radio normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("Female")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Unit :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Room :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Bed :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Speciality :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Consultant :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Addmission Date :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("button",{staticClass:"special-btn"},[this._v("Save")])])}]};var U=a("VU/8")(N,P,!1,function(t){a("P/wj")},"data-v-31575ab2",null).exports,k=a("fZjL"),T=a.n(k),E=a("woOf"),A=a.n(E),F={name:"viewPatients",props:["link","user","DoctorPatients"],data:function(){return{DoctorData:null,Doctors:[],patients:[],Shifts:[],unConfirmedShifts:[],Shift:"",today:"",newShift:{Doctor_id:0,Doctor_name:"",Receive_from:0,Receive_name:"",Shift:"",Shift_date:"",Confirm:1,Entry_user:0},confirmShift:null,apiUrl:this.link}},methods:{insertShift:function(){if($(".modal.show form").is(":valid")){var t=this,e=!1;t.newShift.Entry_user=t.user.Emp_id,t.newShift.Spcy_id=t.DoctorData.Spcy_id,t.newShift.Doctor_id?(e=!0,t.newShift.Receive_from=t.user.Emp_id,t.newShift.Receive_name=t.user.FullName,t.newShift.Doctor_name=t.Doctors.filter(function(e){return e.Dr_Code==t.newShift.Doctor_id})[0].DR_Name,t.newShift.Confirm=0):(t.newShift.Doctor_id=t.user.Emp_id,t.newShift.Doctor_name=t.user.FullName,t.newShift.Receive_name=t.Doctors.filter(function(e){return e.Dr_Code==t.newShift.Receive_from})[0].DR_Name,t.newShift.Confirm=1);var a=A()({},t.newShift);$.ajax({type:"POST",url:t.apiUrl+"endoresment/viewPatients.aspx/newDoctorShift",contentType:"application/json; charset=utf-8",data:n()({shift:t.newShift}),dataType:"json",beforeSend:function(){swal({title:"Sending!",text:"Please wait!",buttons:!1,closeOnClickOutside:!1})},success:function(s){if(e){var i=t.Shifts[0].id;!function e(){return $.ajax({type:"POST",url:t.apiUrl+"endoresment/viewPatients.aspx/completeDoctorShift",data:n()({shift:{id:i}}),contentType:"application/json; charset=utf-8",dataType:"json",error:function(){e()}})}(),t.Shifts.filter(function(t){return t.id==i})[0].Completed=1}else a.id=JSON.parse(s.d),t.Shifts.push(a)},complete:function(){swal({title:"Done!",text:"You successfully "+(e?"handed":"received")+" a shift!",icon:"success"}).then(function(e){$(".modal").modal("hide"),T()(t.newShift).map(function(e){return t.newShift[e]=null})})}})}else swal({icon:"warning",dangerMode:!0,text:"Please Fill All Fields!"})},confirm:function(){var t=this;"Day"==t.confirmShift.Shift.trim()?(new Date).getHours()<20&&(new Date).getHours()>=8?$.ajax({type:"POST",url:t.apiUrl+"endoresment/viewPatients.aspx/confirmShift",data:n()({shift:{id:t.confirmShift.id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.unConfirmedShifts=t.unConfirmedShifts.filter(function(e){return e.id!=t.confirmShift.id}),t.confirmShift.Confirm=1,t.Shifts.push(t.confirmShift),swal({title:"Done!",text:"You confirmed receiving a shift!",icon:"success"}).then(function(t){$(".modal").modal("hide")})}}):swal({title:"Oops!",text:"You can not receive this shift unless it's past 8:00 AM",icon:"warning",dangerMode:!0}):(new Date).getHours()>=20||(new Date).getHours()<8?$.ajax({type:"POST",url:t.apiUrl+"endoresment/viewPatients.aspx/confirmShift",data:n()({shift:{id:t.confirmShift.id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.unConfirmedShifts=t.unConfirmedShifts.filter(function(e){return e.id!=t.confirmShift.id}),t.confirmShift.Confirm=1,t.Shifts.push(t.confirmShift),swal({title:"Done!",text:"You confirmed receiving a shift!",icon:"success"}).then(function(t){$(".modal").modal("hide")})}}):swal({title:"Oops!",text:"You can not receive this shift unless it's past 8:00 PM",icon:"warning",dangerMode:!0})}},created:function(){var t=this;t.today=moment(new Date).format("YYYY-MM-DD"),$.ajax({type:"POST",url:t.apiUrl+"endoresment/viewPatients.aspx/getDoctorData",data:n()({data:{Dr_Code:t.user.Emp_id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.DoctorData=JSON.parse(e.d)[0],"Consultant"==t.DoctorData.Type?$.ajax({type:"POST",url:t.apiUrl+"endoresment/viewPatients.aspx/getPatientsData",data:n()({data:{Dr_Code:t.user.Emp_id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.patients.push(JSON.parse(e.d)[0])}}):$.ajax({type:"POST",url:t.apiUrl+"endoresment/viewPatients.aspx/getDoctorsData",data:n()({data:{Spcy_Description:t.DoctorData.Spcy_Description}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Doctors=JSON.parse(e.d)}})}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/viewPatients.aspx/getShiftsData",contentType:"application/json; charset=utf-8",data:n()({data:{Dr_Code:t.user.Emp_id}}),dataType:"json",success:function(e){t.Shifts=JSON.parse(e.d),t.unConfirmedShifts=t.Shifts.filter(function(t){return 0==t.Confirm}),(new Date).getHours()<=20&&(new Date).getHours()>=8?(t.Shift="Day",t.Shifts=t.Shifts.filter(function(t){return t.Shift_date.trim().substr(0,10)==moment(new Date).format("DD/MM/YYYY")&&"Day"==t.Shift.trim()})):(t.Shift="Night",t.Shifts=t.Shifts.filter(function(t){return"Night"==t.Shift.trim()}))}})}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.DoctorData?a("div",{staticClass:"viewPatients"},["Resident"==t.DoctorData.Type.trim()?a("div",{staticClass:"endoresment-options pt-3 text-center border rounded"},[a("div",{staticClass:"row align-items-center border-bottom border-white pt-3 pb-3"},[a("div",{staticClass:"col-md-6"},[t._v("\n        Current Shift\n        "),a("span",{staticClass:"text-primary"},[a("i",{class:"Day"==t.Shift?"fa fa-sun-o":"fa fa-moon-o"}),t._v("\n          "+t._s(t.Shift))])]),t._v(" "),a("div",{staticClass:"col-md-6"},[0==t.Shifts.length?a("div",{staticClass:"receive-shift"},[0==t.unConfirmedShifts.length?a("button",{staticClass:"btn btn-primary btn-block shadow",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal2"}},[t._v("\n            Receive Shift\n          ")]):a("button",{staticClass:"btn btn-success btn-block shadow",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal3"},on:{click:function(e){e.preventDefault(),t.confirmShift=t.unConfirmedShifts[0]}}},[t._v("\n            Confirm receiving shift\n          ")])]):t.Shifts[0].Completed?a("p",{staticClass:"text-success"},[a("i",{staticClass:"fa fa-check-circle pr-1"}),t._v(" You handoverd current shift!\n        ")]):a("button",{staticClass:"btn btn-danger btn-block shadow",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal"}},[t._v("\n          Handover Shift\n        ")])])])]):t._e(),t._v(" "),a("div",{staticClass:"container"},[a("h1",{staticClass:"pt-5 pb-3 border-bottom mainColor"},[a("i",{staticClass:"ml-3 mr-3 fa fa-hospital-o"}),t._v("\n      "+t._s(t.DoctorData.Spcy_Description)+" patients list\n    ")]),t._v(" "),t.DoctorPatients.length>0?a("div",{staticClass:"row"},t._l(t.DoctorPatients,function(e){return a("div",{key:e.id,staticClass:"col-md-4"},[a("div",{staticClass:"details"},[a("div",{staticClass:"inner shadow"},[a("h3",{staticClass:"pb-2"},[t._v("\n              "+t._s(e.Patient_FullName)+"\n              "),a("span",{class:"Male"==e.Gender.trim()?"text-primary":"text-pink"},[a("i",{class:"Male"==e.Gender.trim()?"fa fa-male":"fa fa-female"})])]),t._v(" "),a("span",{staticClass:"age badge badge-light border font-weight-normal"},[t._v("\n              Age: "),a("span",{staticClass:"text-danger"},[t._v(t._s(e.Age)+" ")])]),t._v(" "),"Consultant"==t.DoctorData.Type?a("span",{staticClass:"speciality badge font-weight-normal"},[t._v("\n              "+t._s(e.Consultant_id==t.user.Emp_id?"Primary":"Consultation")+"\n            ")]):a("span",{staticClass:"speciality badge font-weight-normal"},[t._v("\n              "+t._s(e.Specialty.trim()==t.DoctorData.Spcy_Description.trim()?"Primary":"Consultation")+"\n            ")]),t._v(" "),a("div",{staticClass:"row mt-3 p-2 border rounded place"},[a("div",{staticClass:"col-6 border-right"},[a("span",[t._v("Unit:")]),t._v(" "+t._s(e.Unit)+"\n              ")]),t._v(" "),a("div",{staticClass:"col-6"},[a("span",[t._v("Room:")]),t._v(" "+t._s(e.Room))])]),t._v(" "),a("p",{staticClass:"medicalNum mt-3"},[a("span",[t._v("Medical Number:")]),t._v("\n              "+t._s(e.Medical_Number)+"\n            ")]),t._v(" "),a("div",{staticClass:"text-right"},[a("router-link",{staticClass:"btn",attrs:{to:{name:"Patient Data",params:{id:e.id}}}},[t._v("View Details")])],1)])])])}),0):a("div",{staticClass:"card text-center"},[t._m(0)])]),t._v(" "),a("div",{staticClass:"endorsing-doctor"},[a("div",{staticClass:"modal fade",attrs:{id:"exampleModal2",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel2","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.newShift(e)}}},[a("div",{staticClass:"custom-form"},[a("div",{staticClass:"cu-field"},[t._m(2),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.newShift.Receive_from,expression:"newShift.Receive_from"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newShift,"Receive_from",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("...")]),t._v(" "),t._l(t.Doctors,function(e){return a("option",{key:e.Dr_Code,domProps:{value:e.Dr_Code}},[t._v("\n                        "+t._s(e.DR_Name)+"\n                      ")])})],2)])]),t._v(" "),a("div",{staticClass:"cu-field"},[t._m(3),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-calendar-o"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newShift.Shift_date,expression:"newShift.Shift_date"}],attrs:{max:t.today,type:"date",required:""},domProps:{value:t.newShift.Shift_date},on:{input:function(e){e.target.composing||t.$set(t.newShift,"Shift_date",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"cu-field radio-group"},[a("div",{staticClass:"row align-items-end"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[t._m(4),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newShift.Shift,expression:"newShift.Shift"}],attrs:{id:"select3",type:"radio",name:"shift",value:"Day",required:""},domProps:{checked:t._q(t.newShift.Shift,"Day")},on:{change:function(e){return t.$set(t.newShift,"Shift","Day")}}}),t._v(" "),t._m(5)])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newShift.Shift,expression:"newShift.Shift"}],attrs:{id:"select4",type:"radio",name:"shift",value:"Night",required:""},domProps:{checked:t._q(t.newShift.Shift,"Night")},on:{change:function(e){return t.$set(t.newShift,"Shift","Night")}}}),t._v(" "),t._m(6)])])])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary shadow",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n              Close\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-primary shadow",attrs:{type:"button"},on:{click:function(e){return t.insertShift()}}},[t._v("\n              Submit\n            ")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(7),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"custom-form"},[a("div",{staticClass:"cu-field"},[t._m(8),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.newShift.Doctor_id,expression:"newShift.Doctor_id"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newShift,"Doctor_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("...")]),t._v(" "),t._l(t.Doctors,function(e){return a("option",{key:e.Dr_Code,domProps:{value:e.Dr_Code}},[t._v("\n                        "+t._s(e.DR_Name)+"\n                      ")])})],2)])]),t._v(" "),a("div",{staticClass:"cu-field"},[t._m(9),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-calendar-o"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newShift.Shift_date,expression:"newShift.Shift_date"}],attrs:{max:t.today,type:"date",required:""},domProps:{value:t.newShift.Shift_date},on:{input:function(e){e.target.composing||t.$set(t.newShift,"Shift_date",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"cu-field radio-group"},[a("div",{staticClass:"row align-items-end"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[t._m(10),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newShift.Shift,expression:"newShift.Shift"}],attrs:{id:"select1",type:"radio",name:"handShift",value:"Day",required:""},domProps:{checked:t._q(t.newShift.Shift,"Day")},on:{change:function(e){return t.$set(t.newShift,"Shift","Day")}}}),t._v(" "),t._m(11)])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newShift.Shift,expression:"newShift.Shift"}],attrs:{id:"select2",type:"radio",name:"handShift",value:"Night",required:""},domProps:{checked:t._q(t.newShift.Shift,"Night")},on:{change:function(e){return t.$set(t.newShift,"Shift","Night")}}}),t._v(" "),t._m(12)])])])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary shadow",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n              Close\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-primary shadow",attrs:{type:"button"},on:{click:function(e){return t.insertShift()}}},[t._v("\n              Submit\n            ")])])])])]),t._v(" "),t.confirmShift?a("div",{staticClass:"modal fade",attrs:{id:"exampleModal3",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel3","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(13),t._v(" "),a("div",{staticClass:"modal-body"},[a("ul",{staticClass:"shift-info list-unstyled"},[a("li",{staticClass:"border-bottom p-3 cu-flex"},[a("span",{staticClass:"keyWords text-primary"},[t._v("Receiving From:")]),t._v(" "),a("span",{staticClass:"values"},[t._v(t._s(t.confirmShift.Receive_name))])]),t._v(" "),a("li",{staticClass:"border-bottom p-3 cu-flex"},[a("span",{staticClass:"keyWords text-primary"},[t._v("Shift Date:")]),t._v(" "),a("span",{staticClass:"values"},[t._v(t._s(t.confirmShift.Shift_date.substr(0,10)))])]),t._v(" "),a("li",{staticClass:"p-3 cu-flex"},[a("span",{staticClass:"keyWords text-primary"},[t._v("Shift:")]),t._v(" "),a("span",{staticClass:"values"},[t._v("\n                  "+t._s(t.confirmShift.Shift)+"\n                  "),a("span",{staticClass:"text-success"},[a("i",{class:"Day"==t.confirmShift.Shift.trim()?"fa fa-sun-o":"fa fa-moon-o"})])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary shadow",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n              Close\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-success shadow",attrs:{type:"button"},on:{click:function(e){return t.confirm()}}},[t._v("\n              Confirm\n            ")])])])])]):t._e()])]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"mt-3 alert"},[e("i",{staticClass:"fa fa-warning text-warning"}),this._v(" You have no patients yet!\n      ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel2"}},[this._v("Receive Shift")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Receive From :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Shift Date :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Current Shift:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"select3"}},[e("div",{staticClass:"cu-input cu-radio normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("Day")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"select4"}},[e("div",{staticClass:"cu-input cu-radio normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("Night")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("Handover Shift")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Handover To :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Shift Date :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Current Shift:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"select1"}},[e("div",{staticClass:"cu-input cu-radio normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("Day")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"select2"}},[e("div",{staticClass:"cu-input cu-radio normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("Night")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("Confirm receiving shift")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var M=a("VU/8")(F,R,!1,function(t){a("Skau")},"data-v-22305585",null).exports,j={name:"patientsNurse",props:["link","user"],data:function(){return{patients:[],Nurses:[],NursesUnits:[],Units:[],Shifts:null,unConfirmedShifts:[],scheduleShifts:[],today:"",newShift:{Nurse_id:0,Nurse_name:"",Receive_from:0,Receive_name:"",Unit_id:0,Shift:"",Shift_date:"",Confirm:1,Entry_user:0},currentShift:null,confirmShift:null,apiUrl:this.link}},methods:{insertShift:function(){if($(".modal.show form").is(":valid")){var t=this,e=!1;t.newShift.Unit_id=t.currentShift.Unit_id,t.newShift.Entry_user=t.user.Emp_id,t.newShift.Nurse_id?(e=!0,t.newShift.Receive_from=t.user.Emp_id,t.newShift.Receive_name=t.user.FullName,t.newShift.Nurse_name=t.currentShift.handNurse.filter(function(e){return e.Emp_ID==t.newShift.Nurse_id})[0].FullName,t.newShift.Shift="Day"==t.currentShift.Shift.trim()?"Night":"Day",t.newShift.Shift_date=t.currentShift.handoverDate,t.newShift.Confirm=0):(t.newShift.Nurse_id=t.user.Emp_id,t.newShift.Nurse_name=t.user.FullName,t.newShift.Receive_name=t.currentShift.EndoresingNurse.filter(function(e){return e.Emp_ID==t.newShift.Receive_from})[0].FullName,t.newShift.Shift=t.currentShift.Shift,t.newShift.Shift_date=t.currentShift.Date,t.newShift.Confirm=1);var a=A()({},t.newShift);$.ajax({type:"POST",url:t.apiUrl+"endoresment/patientsNurse.aspx/newNurseShift",contentType:"application/json; charset=utf-8",data:n()({shift:t.newShift}),dataType:"json",beforeSend:function(){swal({title:"Sending!",text:"Please wait!",buttons:!1,closeOnClickOutside:!1})},success:function(s){if(e){var i=t.Shifts.filter(function(e){return e.Unit_id==t.newShift.Unit_id})[0].id;!function e(){return $.ajax({type:"POST",url:t.apiUrl+"endoresment/patientsNurse.aspx/completeNurseShift",data:n()({shift:{id:i}}),contentType:"application/json; charset=utf-8",dataType:"json",error:function(){e()}})}(),t.Shifts.filter(function(t){return t.id==i})[0].Completed=1}else a.id=JSON.parse(s.d),t.Shifts.push(a)},complete:function(){swal({title:"Done!",text:"You successfully "+(e?"handed":"received")+" a shift in "+t.currentShift.Unit_name,icon:"success"}).then(function(e){$(".modal").modal("hide"),T()(t.newShift).map(function(e){return t.newShift[e]=null})})}})}else swal({icon:"warning",dangerMode:!0,text:"Please Fill All Fields!"})},confirm:function(){var t=this;"Day"==t.confirmShift.Shift.trim()?(new Date).getHours()<20&&(new Date).getHours()>=8?$.ajax({type:"POST",url:t.apiUrl+"endoresment/patientsNurse.aspx/confirmShift",data:n()({shift:{id:t.confirmShift.id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.unConfirmedShifts=t.unConfirmedShifts.filter(function(e){return e.id!=t.confirmShift.id}),t.confirmShift.Confirm=1,t.Shifts.push(t.confirmShift),swal({title:"Done!",text:"You confirmed receiving a shift in "+t.currentShift.Unit_name,icon:"success"}).then(function(t){$(".modal").modal("hide")})}}):swal({title:"Oops!",text:"You can not receive this shift unless it's past 8:00 AM",icon:"warning",dangerMode:!0}):(new Date).getHours()>=20||(new Date).getHours()<8?$.ajax({type:"POST",url:t.apiUrl+"endoresment/patientsNurse.aspx/confirmShift",data:n()({shift:{id:t.confirmShift.id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.unConfirmedShifts=t.unConfirmedShifts.filter(function(e){return e.id!=t.confirmShift.id}),t.confirmShift.Confirm=1,t.Shifts.push(t.confirmShift),swal({title:"Done!",text:"You confirmed receiving a shift in "+t.currentShift.Unit_name,icon:"success"}).then(function(t){$(".modal").modal("hide")})}}):swal({title:"Oops!",text:"You can not receive this shift unless it's past 8:00 PM",icon:"warning",dangerMode:!0})}},created:function(){var t=this;function e(e,a,s){$.ajax({type:"POST",url:t.apiUrl+"endoresment/add_Unit.aspx/getNursesData",data:n()({data:{Unit_id:t.scheduleShifts[s].Unit_id,Role_id:t.user.Role_id,Shift:e,Date:a}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(i){var n="Night"==e?" 7:59":" 19:59",r="Night"==e?" 19:59":" 7:59";moment(t.scheduleShifts[s].Date.trim()+n).add(12,"Hour")<moment(a+r).add(12,"Hour")?JSON.parse(i.d).length>0?(t.scheduleShifts[s].handNurse.push(JSON.parse(i.d)),t.scheduleShifts[s].handNurse=t.scheduleShifts[s].handNurse.flat()):t.scheduleShifts[s].handNurse.push({FullName:"Unknown",Emp_ID:0}):JSON.parse(i.d).length>0?(t.scheduleShifts[s].EndoresingNurse.push(JSON.parse(i.d)),t.scheduleShifts[s].EndoresingNurse=t.scheduleShifts[s].EndoresingNurse.flat()):t.scheduleShifts[s].EndoresingNurse={FullName:"Unknown",Emp_ID:0},t.scheduleShifts[s].handoverDate="Day"==t.scheduleShifts[s].Shift?t.scheduleShifts[s].Date:moment(t.scheduleShifts[s].Date.trim()).add(1,"day").format("YYYY-MM-DD")}})}t.today=moment(new Date).format("YYYY-MM-DD"),$.ajax({type:"POST",url:t.apiUrl+"endoresment/patientsNurse.aspx/getPatientsData",contentType:"application/json; charset=utf-8",data:n()({id:{Emp_id:t.user.Emp_id}}),dataType:"json",success:function(e){t.patients=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/add_unit.aspx/getScheduleData",data:n()({data:{Nurse_id:t.user.Emp_id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){t.scheduleShifts=JSON.parse(a.d),(new Date).getHours()<20&&(new Date).getHours()>=8?t.scheduleShifts=t.scheduleShifts.filter(function(t){return t.Date.trim()==moment(new Date).format("YYYY-MM-DD")&&"Day"==t.Shift.trim()}):t.scheduleShifts=t.scheduleShifts.filter(function(t){var e=moment(moment(new Date).format("YYYY-MM-DD")+" 20:00"),a=(new Date).getHours()<8;return"Night"==t.Shift.trim()&&(a?moment(t.Date.trim()+" 19:59").add(12,"Hour")<e:moment(t.Date.trim()+" 20:01").add(12,"Hour")>e)});for(var s=0;s<t.scheduleShifts.length;s++){var i="Day"==t.scheduleShifts[s].Shift.trim()?"Night":"Day",n="Night"==t.scheduleShifts[s].Shift?t.scheduleShifts[s].Date:moment(t.scheduleShifts[s].Date.trim()).add(-1,"day").format("YYYY-MM-DD");t.scheduleShifts[s].EndoresingNurse=[],t.scheduleShifts[s].handNurse=[],e(i,n,s)}for(var r=0;r<t.scheduleShifts.length;r++){e("Day"==t.scheduleShifts[r].Shift.trim()?"Night":"Day","Day"==t.scheduleShifts[r].Shift?t.scheduleShifts[r].Date:moment(t.scheduleShifts[r].Date.trim()).add(1,"day").format("YYYY-MM-DD"),r)}}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/patientsNurse.aspx/getUnitsData",contentType:"application/json; charset=utf-8",data:n()({info:t.user}),dataType:"json",success:function(e){t.Units=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/patientsNurse.aspx/getShiftsData",contentType:"application/json; charset=utf-8",data:n()({info:t.user}),dataType:"json",success:function(e){t.Shifts=JSON.parse(e.d),t.unConfirmedShifts=t.Shifts.filter(function(t){return 0==t.Confirm}),(new Date).getHours()<20&&(new Date).getHours()>=8?t.Shifts=t.Shifts.filter(function(t){return t.Shift_date.substr(0,10)==moment(new Date).format("DD/MM/YYYY")&&"Day"==t.Shift.trim()}):t.Shifts=t.Shifts.filter(function(t){return"Night"==t.Shift.trim()&&moment(t.Shift_date.trim()+" 20:00").add(12,"Hour")>=moment(new Date)})}})}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"viewPatients"},[12==t.user.Role_id&&t.scheduleShifts.length>0?a("div",{staticClass:"endoresment-options mt-5 pt-3 text-center shadow rounded overflow-hidden"},t._l(t.scheduleShifts,function(e){return a("div",{key:e.Unit_id,staticClass:"row align-items-center border-bottom pt-3 pb-3"},[a("div",{staticClass:"col-md-6"},[a("h3",{staticClass:"text-dark font-weight-bold"},[t._v(" "+t._s(e.Unit_name)+" ")])]),t._v(" "),t.Shifts?a("div",{staticClass:"col-md-6"},[0==t.Shifts.filter(function(t){return t.Unit_id==e.Unit_id}).length?a("div",{staticClass:"receive-shift"},[a("button",{staticClass:"btn btn-primary btn-block shadow",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal2"},on:{click:function(a){a.preventDefault(),t.currentShift=e}}},[t._v("\n                        Receive Shift\n                    ")])]):0==t.Shifts.filter(function(t){return t.Unit_id==e.Unit_id&&1==t.Confirm}).length?a("button",{staticClass:"btn btn-success btn-block shadow",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal3"},on:{click:function(a){a.preventDefault(),t.currentShift=e,t.confirmShift=t.unConfirmedShifts.filter(function(t){return t.Unit_id==e.Unit_id})[0]}}},[t._v("\n                    Confirm receiving shift\n                ")]):t.Shifts.filter(function(t){return t.Unit_id==e.Unit_id})[0].Completed?a("p",{staticClass:"text-success"},[a("i",{staticClass:"fa fa-check-circle pr-1"}),t._v(" You handoverd current shift!\n                ")]):a("button",{staticClass:"btn btn-danger btn-block shadow",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal"},on:{click:function(a){a.preventDefault(),t.currentShift=e}}},[t._v("\n                    Handover Shift\n                ")])]):t._e()])}),0):t._e(),t._v(" "),a("div",{staticClass:"container"},[t._m(0),t._v(" "),t.patients.length>0&&t.Shifts.length?a("div",{staticClass:"row"},t._l(t.patients,function(e){return a("div",{key:e.id,staticClass:"col-md-4"},[a("div",{staticClass:"details"},[a("div",{staticClass:"inner shadow"},[a("h3",{staticClass:"pb-2"},[t._v(t._s(e.Patient_FullName)+" \n                            "),a("span",{class:"Male"==e.Gender.trim()?"text-primary":"text-pink"},[a("i",{class:"Male"==e.Gender.trim()?"fa fa-male":"fa fa-female"})])]),t._v(" "),a("span",{staticClass:"age badge badge-light border font-weight-normal"},[t._v("\n                            Age: "),a("span",{staticClass:"text-danger"},[t._v(t._s(e.Age)+" ")])]),t._v(" "),a("span",{staticClass:"speciality badge font-weight-normal"},[t._v(t._s(e.Specialty))]),t._v(" "),a("div",{staticClass:"row mt-3 p-2 border rounded place"},[a("div",{staticClass:"col-6 border-right"},[a("span",[t._v("Unit:")]),t._v(" "+t._s(e.Unit)+"\n                            ")]),t._v(" "),a("div",{staticClass:"col-6"},[a("span",[t._v("Room:")]),t._v(" "+t._s(e.Room)+"\n                            ")])]),t._v(" "),a("p",{staticClass:"medicalNum mt-3"},[a("span",[t._v("Medical Number:")]),t._v("\n                            "+t._s(e.Medical_Number)+"\n                        ")]),t._v(" "),a("div",{staticClass:"text-right"},[a("router-link",{staticClass:"btn",attrs:{to:{name:"Patient Data",params:{id:e.id}}}},[t._v("View Details")])],1)])])])}),0):a("v-alert",{staticClass:"bg-white text-danger",staticStyle:{"max-width":"500px",margin:"60px auto"},attrs:{border:"right","colored-border":"",type:"error",elevation:"2"}},[t._v("\n        You have no assigned patients yet!\n        ")]),t._v(" "),t.currentShift?a("div",{staticClass:"endorsing-nurse"},[a("div",{staticClass:"modal fade",attrs:{id:"exampleModal2",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel2","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel2"}},[t._v("Receive Shift \n                        "),a("span",{staticClass:"text-primary"},[t._v(t._s(t.currentShift.Unit_name))])]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.insertShift()}}},[a("ul",{staticClass:"shift-info list-unstyled"},[a("li",{staticClass:"border-bottom p-3 cu-flex text-dark"},[a("v-select",{attrs:{items:t.currentShift.EndoresingNurse,"item-text":"FullName","item-value":"Emp_ID",label:"Receiving From",placeholder:"Select a nurse",name:"nurse",required:""},model:{value:t.newShift.Receive_from,callback:function(e){t.$set(t.newShift,"Receive_from",e)},expression:"newShift.Receive_from"}})],1),t._v(" "),a("li",{staticClass:"p-3 cu-flex"},[a("span",{staticClass:"keyWords"},[t._v("Shift Date:")]),t._v(" "),a("span",{staticClass:"values text-secondary"},[t._v(t._s(t.currentShift.Date))]),t._v(" "),a("span",{staticClass:"values text-secondary"},[t._v("\n                                    "+t._s(t.currentShift.Shift)+"\n                                    "),a("span",{staticClass:"text-success"},[a("i",{class:"Day"==t.currentShift.Shift.trim()?"fa fa-sun-o":"fa fa-moon-o"})])])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary shadow",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.newShift.Total_Census=0,t.newShift.Received=0}}},[t._v("Close")]),t._v(" "),a("button",{staticClass:"btn btn-primary shadow",attrs:{type:"button"},on:{click:function(e){return t.insertShift()}}},[t._v("Submit")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel2"}},[t._v("Handover Shift \n                        "),a("span",{staticClass:"text-primary"},[t._v(t._s(t.currentShift.Unit_name))])]),t._v(" "),t._m(2)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.insertShift()}}},[a("ul",{staticClass:"shift-info list-unstyled"},[a("li",{staticClass:"border-bottom p-3 cu-flex text-dark"},[a("v-select",{attrs:{items:t.currentShift.handNurse,"item-text":"FullName","item-value":"Emp_ID",label:"Handover To",placeholder:"Select a nurse",name:"nurse",required:""},model:{value:t.newShift.Nurse_id,callback:function(e){t.$set(t.newShift,"Nurse_id",e)},expression:"newShift.Nurse_id"}})],1),t._v(" "),a("li",{staticClass:"p-3 cu-flex"},[a("span",{staticClass:"keyWords"},[t._v("Shift Date:")]),t._v(" "),a("span",{staticClass:"values text-secondary"},[t._v(t._s(t.currentShift.handoverDate))]),t._v(" "),a("span",{staticClass:"values text-secondary"},[t._v("\n                                  "+t._s("Day"==t.currentShift.Shift.trim()?"Night":"Day")+"\n                                  "),a("span",{staticClass:"text-success"},[a("i",{class:"Day"==t.currentShift.Shift.trim()?"fa fa-moon-o":"fa fa-sun-o"})])])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary shadow",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.newShift.Total_Census=0,t.newShift.Received=0}}},[t._v("Close")]),t._v(" "),a("button",{staticClass:"btn btn-primary shadow",attrs:{type:"button"},on:{click:function(e){return t.insertShift()}}},[t._v("Submit")])])])])]),t._v(" "),t.confirmShift?a("div",{staticClass:"modal fade",attrs:{id:"exampleModal3",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel3","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Confirm receiving shift\n                        "),a("span",{staticClass:"text-primary"},[t._v(t._s(t.currentShift.Unit_name))])]),t._v(" "),t._m(3)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("ul",{staticClass:"shift-info list-unstyled"},[a("li",{staticClass:"border-bottom p-3 cu-flex"},[a("span",{staticClass:"keyWords"},[t._v("Receiving From:")]),t._v(" "),a("span",{staticClass:"values"},[t._v(t._s(t.confirmShift.Receive_name))])]),t._v(" "),a("li",{staticClass:"p-3 cu-flex"},[a("span",{staticClass:"keyWords"},[t._v("Shift Date:")]),t._v(" "),a("span",{staticClass:"values text-secondary"},[t._v(t._s(t.confirmShift.Shift_date.substr(0,10)))]),t._v(" "),a("span",{staticClass:"values text-secondary"},[t._v("\n                                "+t._s(t.confirmShift.Shift)+"\n                                "),a("span",{staticClass:"text-success"},[a("i",{class:"Day"==t.confirmShift.Shift.trim()?"fa fa-sun-o":"fa fa-moon-o"})])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary shadow",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),a("button",{staticClass:"btn btn-success shadow",attrs:{type:"button"},on:{click:function(e){return t.confirm()}}},[t._v("Confirm")])])])])]):t._e()]):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticClass:"pt-5 pb-3  border-bottom mainColor"},[e("i",{staticClass:"ml-3 mr-3 fa fa-hospital-o"}),this._v("\n            Your Patients list")])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}]};var I=a("VU/8")(j,O,!1,function(t){a("uWBP")},"data-v-7fe42188",null).exports,Y={name:"UnitDetails",props:["link","user","edits","UnitDash"],data:function(){return{UnitsDash:[],unitId:this.$route.params.id,todayData:{Received:0,Admission:0,Transfer_In:0,Transfer_Out:0,Total_Census:0},apiUrl:this.link}},methods:{deleteShift:function(t,e){var a=this;swal({title:"Are you sure?",buttons:!0}).then(function(s){s&&$.ajax({type:"POST",url:a.apiUrl+"endoresment/UnitDetails.aspx/deletedShift",data:n()({detail:{id:t,Hide:e}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(){swal({title:"Sweet!",text:"You have successfully deleted the shift ...",icon:"success",dangerMode:!0}),location.reload()}})})}},created:function(){var t=this;$.ajax({type:"POST",url:t.apiUrl+"endoresment/UnitDetails.aspx/getUnitsDashData",data:n()({id:{U_id:t.unitId}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.UnitsDash=JSON.parse(e.d).filter(function(t){var e=t.Shift_date.substr(0,10),a="Day"==t.Shift.trim()?moment(moment(e).format("YYYY-MM-DD")+" 8:00"):moment(moment(e).format("YYYY-MM-DD")+" 20:00");return console.log(a.format()),a<=moment(new Date)}),t.UnitsDash.map(function(e){var a=e.Shift_date.substr(0,10);(new Date).getHours()<20&&(new Date).getHours()>=8?moment(a).format("YYYY-MM-DD")==moment(new Date).format("YYYY-MM-DD")&&(t.todayData=e):a==moment(new Date).format("YYYY-MM-DD")&&(new Date).getHours()<24?t.todayData=e:a==moment(new Date-864e5).format("YYYY-MM-DD")&&(t.todayData=e)})},complete:function(){$(document).ready(function(){var e=document.getElementById("myData").getContext("2d");new Chart(e,{type:"pie",data:{labels:["Received","Admission","Transfer In","Transfer Out"],datasets:[{data:[t.todayData.Received,t.todayData.Admission,t.todayData.Transfer_In,t.todayData.Transfer_Out],backgroundColor:["#17a2b8","#ffc107","#29b770","#dc3545"]}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})})}}),setTimeout(function(){t.UnitDash.filter(function(e){return e.Unit_id==t.unitId}).length>0&&(t.UnitDash=t.UnitDash.filter(function(e){return e.Unit_id==t.unitId}),t.UnitDash.map(function(t){return t.Shift_date=moment(t.Shift_date).format("YYYY-MM-DD")}))},1e3)}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"UnitDetails pt-5"},[a("div",{staticClass:"container"},[a("h2",{staticClass:"main-heading text-center mb-5"},[t._v(t._s(t.UnitsDash[0].Unit_name))]),t._v(" "),a("div",{staticClass:"dash"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-7"},[a("div",{staticClass:"card shadow bg-white mb-5"},[a("router-link",{staticClass:"btn btn-bg btn-primary text-white",attrs:{to:{name:"Room Details",params:{id:t.unitId}},target:"_blank"}},[t._v("View Rooms")])],1),t._v(" "),a("div",{staticClass:"card bg-white shadow"},[t._m(0),t._v(" "),a("div",{staticClass:"table-card overflow-auto"},[a("table",{staticClass:"table text-center"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Date")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Shift")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Details")]),t._v(" "),19==t.user.Role_id?a("th",{attrs:{scope:"col"}},[t._v("Controls")]):t._e()])]),t._v(" "),a("tbody",t._l(t.UnitsDash,function(e,s){return a("tr",{key:e.id},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.Shift_date.substr(0,10)))]),t._v(" "),a("td",[t._v(t._s(e.Shift))]),t._v(" "),a("td",[a("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:{name:"Shift Details",params:{id:e.id}}}},[t._v("Details")])],1),t._v(" "),19==t.user.Role_id?a("td",[a("router-link",{staticClass:"fa fa-edit bg-success text-white btn-sm btn",attrs:{to:"/editShiftDetials/"+e.id}}),t._v(" "),a("i",{staticClass:"fa fa-trash bg-danger text-white btn-sm btn",staticStyle:{cursor:"pointer"},on:{click:function(a){return a.preventDefault(),t.deleteShift(e.id,!0)}}})],1):t.UnitDash.filter(function(e){return e.Unit_id==t.unitId}).length>0&&17==t.user.Role_id?a("td",[e.Shift_date.substr(0,10).trim()==t.UnitDash[0].Shift_date.substr(0,10).trim()&&e.Shift.trim()==t.UnitDash[0].Shift.trim()?a("span",[a("router-link",{staticClass:"fa fa-edit bg-success text-white btn-sm btn",attrs:{to:"/editShiftDetials/"+e.id}})],1):t._e()]):t._e()])}),0)])])])]),t._v(" "),a("div",{staticClass:"col-lg-5"},[t._m(1),t._v(" "),a("div",{staticClass:"card bg-white shadow mt-5 p-3"},[a("ul",{staticClass:"list-unstyled"},[a("li",{staticClass:"cu-flex"},[a("span",[t._v("Received")]),t._v(" "),a("span",{staticClass:"badge badge-info"},[t._v(t._s(t.todayData.Received))])]),t._v(" "),a("li",{staticClass:"cu-flex"},[a("span",[t._v("Admission")]),t._v(" "),a("span",{staticClass:"badge badge-warning"},[t._v(t._s(t.todayData.Admission))])]),t._v(" "),a("li",{staticClass:"cu-flex"},[a("span",[t._v("Transfer In")]),t._v(" "),a("span",{staticClass:"badge badge-success"},[t._v(t._s(t.todayData.Transfer_In))])]),t._v(" "),a("li",{staticClass:"cu-flex"},[a("span",[t._v("Transfer Out")]),t._v(" "),a("span",{staticClass:"badge badge-danger"},[t._v(t._s(t.todayData.Transfer_Out))])]),t._v(" "),a("li",{staticClass:"cu-flex"},[a("span",[t._v("Total Census")]),t._v(" "),a("span",{staticClass:"badge badge-primary"},[t._v(t._s(t.todayData.Total_Census))])])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[e("i",{staticClass:"fa fa-table"}),this._v(" Latest Shifts")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card bg-white shadow"},[e("h4",[e("i",{staticClass:"fa fa-bar-chart"}),this._v(" Statistics data for current shift.")]),this._v(" "),e("div",{staticClass:"my-chart"},[e("canvas",{attrs:{id:"myData"}})])])}]};var q=a("VU/8")(Y,B,!1,function(t){a("bINk")},"data-v-3c98702c",null).exports,J={name:"shiftDetials",props:["link"],data:function(){return{UnitDash:[],shiftId:this.$route.params.id,apiUrl:this.link}},created:function(){var t=this;$.ajax({type:"POST",url:t.apiUrl+"endoresment/ShiftDetails.aspx/getUnitsDashData",data:n()({id:{id:t.shiftId}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.UnitDash=JSON.parse(e.d)}})}},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shiftDetails"},[a("div",{staticClass:"container"},[a("h2",{staticClass:"mt-5"},[t._v("Shift Details")]),t._v(" "),a("p",[t._v("Update date in "+t._s(t.UnitDash[0].Entry_date))]),t._v(" "),t.UnitDash.length>0?a("div",{staticClass:"detials"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("ul",{staticClass:"list-unstyled  card bg-white shadow"},[a("li",{staticClass:"cu-flex detail"},[a("span",[t._v("Unit Name")]),t._v(" "),a("span",[t._v(t._s(t.UnitDash[0].Unit_name))])]),t._v(" "),a("li",{staticClass:"cu-flex detail"},[a("span",[t._v("Shift")]),t._v(" "),a("span",[a("i",{class:"Day"==t.UnitDash[0].Shift.trim()?"fa fa-sun-o":"fa fa-moon-o"}),t._v("\n                                "+t._s(t.UnitDash[0].Shift)+"\n                            ")])]),t._v(" "),a("li",{staticClass:"cu-flex detail"},[a("span",[t._v("Shift date")]),t._v(" "),a("span",[t._v(t._s(t.UnitDash[0].Shift_date))])]),t._v(" "),a("li",{staticClass:"cu-flex detail"},[a("span",[t._v("Total Census")]),t._v(" "),a("span",{staticClass:"badge badge-primary"},[t._v(t._s(t.UnitDash[0].Total_Census))])]),t._v(" "),a("li",{staticClass:"cu-flex detail"},[a("span",[t._v("Received")]),t._v(" "),a("span",{staticClass:"badge badge-warning"},[t._v(t._s(t.UnitDash[0].Received))])])])]),t._v(" "),a("div",{staticClass:"col-lg-6"},[a("ul",{staticClass:"list-unstyled  card bg-white shadow"},[a("li",{staticClass:"cu-flex detail"},[a("span",[t._v("Admission")]),t._v(" "),a("span",{staticClass:"badge badge-info"},[t._v(t._s(t.UnitDash[0].Admission))])]),t._v(" "),a("li",{staticClass:"cu-flex detail"},[a("span",[t._v("Transfer In")]),t._v(" "),a("span",{staticClass:"badge badge-success"},[t._v(t._s(t.UnitDash[0].Transfer_In))])]),t._v(" "),a("li",{staticClass:"cu-flex detail"},[a("span",[t._v("Transfer Out")]),t._v(" "),a("span",{staticClass:"badge badge-danger"},[t._v(t._s(t.UnitDash[0].Transfer_Out))])]),t._v(" "),a("li",{staticClass:"cu-flex detail"},[a("span",[t._v("Endorsing Charge Nurse")]),t._v(" "),a("span",[t._v(t._s(t.UnitDash[0].Endorsing_ChargeNurse))])]),t._v(" "),a("li",{staticClass:"cu-flex detail"},[a("span",[t._v("Receive Charge Nurse")]),t._v(" "),a("span",[t._v(t._s(t.UnitDash[0].Receive_ChargeNurse))])])])])])]):t._e()])])},staticRenderFns:[]};var L=a("VU/8")(J,H,!1,function(t){a("/6ze")},"data-v-2bd2a9e0",null).exports,V={name:"editShiftDetials",props:["link"],data:function(){return{UnitDash:[],Nurses:[],shiftId:this.$route.params.id,apiUrl:this.link,modal:!1}},methods:{editShift:function(t){if($("form").is(":valid")){var e=this,a={id:t.id,Unit_name:t.Unit_name,Shift:t.Shift,Total_Census:t.Total_Census,Received:t.Received,Shift_date:t.Shift_date,Transfer_In:t.Transfer_In,Transfer_Out:t.Transfer_Out,Admission:t.Admission,Endorsing_ChargeNurse_id:t.Endorsing_ChargeNurse_id,Receive_ChargeNurse_id:t.Receive_ChargeNurse_id};swal({title:"Are you sure?",buttons:!0}).then(function(t){t&&$.ajax({type:"POST",url:e.apiUrl+"endoresment/editShiftDetials.aspx/updatedShift",data:n()({detail:a}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(){swal({title:"Sweet!",text:"You successfully updated the shift ...",icon:"success",dangerMode:!0}),location.reload()}})})}else swal({icon:"warning",dangerMode:!0,text:"Please Fill All Fields!"})}},created:function(){var t=this;$.ajax({type:"POST",url:t.apiUrl+"endoresment/editShiftDetials.aspx/getUnitsDashData",data:n()({id:{id:t.shiftId}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.UnitDash=JSON.parse(e.d),t.UnitDash.map(function(t){t.Shift=t.Shift.trim(),t.Shift_date=moment(t.Shift_date.substr(3,3)+t.Shift_date.substr(0,3)+t.Shift_date.substr(6,4)).format("YYYY-MM-DD")}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/editShiftDetials.aspx/getNursesData",data:n()({unit:{Unit_id:t.UnitDash[0].Unit_id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Nurses=JSON.parse(e.d)}})}})}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editShiftDetials"},[a("h1",{staticClass:"text-secondary card p-4"},[t._v("\n      Edit Shift\n      "),a("br"),t._v(" "),a("span",{staticStyle:{"font-size":"16px"}},[t._v("Update date in "+t._s(t.UnitDash[0].Entry_date))])]),t._v(" "),a("div",{staticClass:"container mt-5 mb-5"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.editShift(t.UnitDash[0])}}},[t.UnitDash.length>0?a("div",{staticClass:"detials card shadow"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"text-left"},[a("h5",{staticClass:"text-dark"},[t._v("Shift date")]),t._v(" "),a("v-dialog",{ref:"dialog",attrs:{width:"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"card pl-3 pr-3",attrs:{readonly:""},model:{value:t.UnitDash[0].Shift_date,callback:function(e){t.$set(t.UnitDash[0],"Shift_date",e)},expression:"UnitDash[0].Shift_date"}},"v-text-field",i,!1),s))]}}],null,!1,61695812),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[t._v(" "),a("v-date-picker",{attrs:{color:"green"},on:{input:function(e){t.modal=!1}},model:{value:t.UnitDash[0].Shift_date,callback:function(e){t.$set(t.UnitDash[0],"Shift_date",e)},expression:"UnitDash[0].Shift_date"}})],1)],1)]),t._v(" "),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"text-left"},[a("h5",{staticClass:"text-dark"},[t._v("\n                    Total Census\n                  ")]),t._v(" "),a("v-text-field",{staticClass:"card pl-3 pr-3",attrs:{type:"number",required:""},model:{value:t.UnitDash[0].Total_Census,callback:function(e){t.$set(t.UnitDash[0],"Total_Census",e)},expression:"UnitDash[0].Total_Census"}})],1)]),t._v(" "),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"text-left"},[a("h5",{staticClass:"text-dark"},[t._v("Received")]),t._v(" "),a("v-text-field",{staticClass:"card pl-3 pr-3",attrs:{type:"number",required:""},model:{value:t.UnitDash[0].Received,callback:function(e){t.$set(t.UnitDash[0],"Received",e)},expression:"UnitDash[0].Received"}})],1)]),t._v(" "),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"text-left"},[a("h5",{staticClass:"text-dark"},[t._v("Shift")]),t._v(" "),a("v-select",{staticClass:"card pl-3 pr-3",attrs:{items:["Day","Night"],required:""},model:{value:t.UnitDash[0].Shift,callback:function(e){t.$set(t.UnitDash[0],"Shift",e)},expression:"UnitDash[0].Shift"}})],1)]),t._v(" "),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"text-left row"},[a("div",{staticClass:"col-md-6"},[a("h5",{staticClass:"text-dark"},[t._v("\n                    Transfer In\n                  ")]),t._v(" "),a("v-text-field",{staticClass:"card pl-3 pr-3",attrs:{type:"number",required:""},model:{value:t.UnitDash[0].Transfer_In,callback:function(e){t.$set(t.UnitDash[0],"Transfer_In",e)},expression:"UnitDash[0].Transfer_In"}})],1),t._v(" "),a("div",{staticClass:"col-md-6"},[a("h5",{staticClass:"text-dark"},[t._v("\n                    Transfer Out\n                  ")]),t._v(" "),a("v-text-field",{staticClass:"card pl-3 pr-3",attrs:{type:"number",required:""},model:{value:t.UnitDash[0].Transfer_Out,callback:function(e){t.$set(t.UnitDash[0],"Transfer_Out",e)},expression:"UnitDash[0].Transfer_Out"}})],1)])]),t._v(" "),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"text-left"},[a("h5",{staticClass:"text-dark"},[t._v("Admission")]),t._v(" "),a("v-text-field",{staticClass:"card pl-3 pr-3",attrs:{type:"number",required:""},model:{value:t.UnitDash[0].Admission,callback:function(e){t.$set(t.UnitDash[0],"Admission",e)},expression:"UnitDash[0].Admission"}})],1)]),t._v(" "),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"text-left"},[a("h5",{staticClass:"text-dark"},[t._v("\n                  Endorsing Charge Nurse\n                ")]),t._v(" "),a("v-select",{staticClass:"card pl-3 pr-3",attrs:{items:t.Nurses,"item-text":"FullName","item-value":"Emp_ID",placeholder:"Select a nurse",name:"nurse",required:""},model:{value:t.UnitDash[0].Endorsing_ChargeNurse_id,callback:function(e){t.$set(t.UnitDash[0],"Endorsing_ChargeNurse_id",e)},expression:"UnitDash[0].Endorsing_ChargeNurse_id"}})],1)]),t._v(" "),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"text-left"},[a("h5",{staticClass:"text-dark"},[t._v("\n                  Receive Charge Nurse\n                ")]),t._v(" "),a("v-select",{staticClass:"card pl-3 pr-3",attrs:{items:t.Nurses,"item-text":"FullName","item-value":"Emp_ID",placeholder:"Select a nurse",name:"nurse",required:""},model:{value:t.UnitDash[0].Receive_ChargeNurse_id,callback:function(e){t.$set(t.UnitDash[0],"Receive_ChargeNurse_id",e)},expression:"UnitDash[0].Receive_ChargeNurse_id"}})],1)])])]):t._e(),t._v(" "),a("button",{staticClass:"special-btn"},[t._v("\n        Edit\n      ")])])])])},staticRenderFns:[]};var z=a("VU/8")(V,G,!1,function(t){a("JLm+")},"data-v-7e9708a2",null).exports,Q={name:"insertPatientData",props:["link","user"],data:function(){return{apiUrl:this.link,patientData:null,patientFollow:null,id:this.$route.params.id,Shift:"",Diets:[]}},methods:{LOS:function(t){var e=Math.round((new Date-new Date(t.trim()))/864e5);return 0==e?"Today":1==e?e+" Day":e+" Days"},SaveEdits:function(){var t=this;swal({title:"Are you sure?",icon:"warning",buttons:!0,dangerMode:!0}).then(function(e){if(e){var a=function(){$.ajax({type:"POST",url:t.apiUrl+"endoresment/handover.aspx/insertFollowUpData",data:n()({patient:i}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){swal({title:"Updated!",icon:"success"}),t.$router.push({path:"/Endorsement"})}})},s=function(){$.ajax({type:"POST",url:t.apiUrl+"endoresment/handover.aspx/updateFollowUpData",data:n()({patient:i}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){swal({title:"Updated!",icon:"success"}),t.$router.push({path:"/Endorsement"})}})},i=t.patientFollow;i.id&&"Today"==t.LOS(i.Entry_date)&&i.Shift.trim()==t.Shift?12==t.user.Role_id||17==t.user.Role_id?(i.Update_Nurse=t.user.Emp_id,i.Update_Nurse_Name=t.user.FullName,i.Update_Nurse_Time=moment(new Date).format("DD-MM-YYYY A HH-mm"),s()):10==t.user.Role_id&&(i.Update_Doctor=t.user.Emp_id,i.Update_Doctor_Name=t.user.FullName,i.Update_Doctor_Time=moment(new Date).format("DD-MM-YYYY A HH-mm"),s()):12==t.user.Role_id||17==t.user.Role_id?(i.Shift=t.Shift,i.Insert_Nurse=t.user.Emp_id,i.Insert_Nurse_Name=t.user.FullName,i.Insert_Nurse_Time=moment(new Date).format("DD-MM-YYYY A HH-mm"),i.Insert_Doctor=0,a()):10==t.user.Role_id&&(i.Shift=t.Shift,i.Insert_Doctor=t.user.Emp_id,i.Insert_Doctor_Name=t.user.FullName,i.Insert_Doctor_Time=moment(new Date).format("DD-MM-YYYY A HH-mm"),i.Insert_Nurse=0,a())}else swal("Canceled!")})}},created:function(){var t=this;(new Date).getHours()<=20&&(new Date).getHours()>=8?t.Shift="Day":t.Shift="Night",$.ajax({type:"POST",url:t.apiUrl+"endoresment/insertPatientData.aspx/getPatientData",data:n()({id:{id:t.id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.patientData=JSON.parse(e.d)[0]}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/insertPatientData.aspx/getShiftData",data:n()({data:{Patient_id:t.id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){JSON.parse(e.d).length>0?(t.patientFollow=JSON.parse(e.d)[0],t.patientFollow.Fall=t.patientFollow.Fall.trim()):t.patientFollow={Shift:t.Shift,Patient_id:t.id,Diet_id:0,Diet_Name:"",Pain:0,P_Isolation:"",Fall:"",Allergy:"",Investegation_ToDo:"",Investegation_FollowUp:"",Contraptions_Infusions:"",Routise_PlanOfCare:"",Surgury_Procedures:"",DR_Diagnosis:"",DR_ProgressNotes:"",DR_Consultaion_Progress:"",Update_Nurse:0,Update_Nurse_Name:"",Update_Nurse_Time:"",Update_Doctor:0,Update_Doctor_Name:"",Update_Doctor_Time:"",Insert_Nurse:0,Insert_Nurse_Name:"",Insert_Nurse_Time:"",Insert_Doctor:0,Insert_Doctor_Name:"",Insert_Doctor_Time:"",Consultaion:"",Transfer_From:"",Transfer_To:"",Entry_date:new Date}}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/handover.aspx/getDietsData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Diets=JSON.parse(e.d)}})}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"insertPatientData p-3"},[a("div",{staticClass:"container-fluid mt-2 bg-white pt-3 pb-3 card"},[a("div",{staticClass:"container-fluid mt-2 bg-white pt-3 pb-3"},[t.patientData?a("div",{staticClass:"container"},[a("div",{staticClass:"row form-group head-info rounded text-center pt-3 pb-3"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"shadow bg-white rounded pt-3 pb-3"},[a("span",{staticClass:"text-info"},[t._v("Name :")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.patientData.Patient_FullName))])])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"shadow bg-white rounded pt-3 pb-3"},[a("span",{staticClass:"text-info"},[t._v("Medical Number :")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.patientData.Medical_Number))])])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"shadow bg-white rounded pt-3 pb-3"},[a("span",{staticClass:"text-info"},[t._v("Age:")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.patientData.Age)+" years")])])])]),t._v(" "),a("div",{staticClass:"row form-group text-center mt-4",staticStyle:{"font-size":"25px"}},[a("div",{staticClass:"col-md-4"},[a("span",{staticClass:"pull-left"},[a("span",{staticClass:"text-secondary"},[t._v("Unit :")]),a("span",{staticClass:"ml-2 badge card badge-success text-uppercase pl-4 pr-4 shadow-sm"},[t._v(t._s(t.patientData.Unit))])])]),t._v(" "),a("div",{staticClass:"col-md-4",staticStyle:{"text-decoration":"underline","font-size":"28px"}},[a("span",{staticClass:"text-success"},[t._v("Date of admission :")]),a("span",{staticClass:"ml-2 text-secondary"},[t._v(t._s(t.patientData.Addmission_date))])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("span",{staticClass:"pull-right"},[a("span",{staticClass:"text-secondary"},[t._v("Room:")]),t._v(" "),a("span",{staticClass:"ml-2 badge card badge-success pl-4 pr-4 shadow-sm"},[t._v(t._s(t.patientData.Room))])])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"cu-flex form-group"},[a("div",{staticClass:"mt-3"},[a("span",{staticClass:"pull-left bg-white p-3 shadow"},[a("i",{staticClass:"fa fa-address-card-o text-secondary",attrs:{"aria-hidden":"true"}}),t._v(" "),a("span",{staticClass:"ml-2 text-info"},[t._v("Specialty :")]),a("span",{staticClass:"ml-2 text-danger"},[t._v(t._s(t.patientData.Specialty))])])]),t._v(" "),a("div",{staticClass:"mt-3"},[a("span",{staticClass:"pull-right bg-white p-3 shadow"},[a("i",{staticClass:"fa fa-user-md text-secondary",attrs:{"aria-hidden":"true"}}),t._v(" "),a("span",{staticClass:"ml-2 text-info"},[t._v("Consultant :")]),a("span",{staticClass:"ml-2 text-danger"},[t._v(t._s(t.patientData.Consultant_Name))])])])])]):a("div",{staticClass:"text-center not-found"},[t._m(0),t._v(" "),a("p",[t._v("There is no data found for this IP")])])])]),t._v(" "),t.patientData&&t.patientFollow?a("div",{staticClass:"container-fluid mt-2 bg-white pt-3 pb-3 card"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row mt-4 text-left"},[a("div",{staticClass:"col-xl-8 col-lg-7"},[a("div",{staticClass:"card shadow overflow-auto",staticStyle:{height:"250px"}},[t._m(1),t._v(" "),a("div",{staticClass:"card-body"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.patientFollow.DR_Diagnosis,expression:"patientFollow.DR_Diagnosis"}],staticClass:"form-control rounded shadow-sm",attrs:{id:"exampleFormControlTextarea1",rows:"5",disabled:12==t.user.Role_id||17==t.user.Role_id?"disabled":""},domProps:{value:t.patientFollow.DR_Diagnosis},on:{input:function(e){e.target.composing||t.$set(t.patientFollow,"DR_Diagnosis",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5"},[a("div",{staticClass:"card shadow overflow-auto",staticStyle:{height:"250px"}},[t._m(2),t._v(" "),a("div",{staticClass:"card-body"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.patientFollow.DR_ProgressNotes,expression:"patientFollow.DR_ProgressNotes"}],staticClass:"form-control rounded shadow-sm",attrs:{id:"exampleFormControlTextarea1",rows:"5",disabled:12==t.user.Role_id||17==t.user.Role_id?"disabled":""},domProps:{value:t.patientFollow.DR_ProgressNotes},on:{input:function(e){e.target.composing||t.$set(t.patientFollow,"DR_ProgressNotes",e.target.value)}}})])])])]),t._v(" "),a("div",{staticClass:"row mt-4 text-left"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card shadow"},[t._m(3),t._v(" "),a("div",{staticClass:"card-body row"},[a("div",{staticClass:"col-md-6"},[a("h4",{staticClass:"font-weight-bold text-dark mt-3"},[t._v("\n                  Pain Level "),a("span",{staticClass:"float-right text-success"},[t._v(t._s(t.patientFollow.Pain))])]),t._v(" "),a("div",{staticClass:"progress bg-light mb-4",staticStyle:{height:"60px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.patientFollow.Pain,expression:"patientFollow.Pain"}],staticClass:"progress-bar bg-danger w-100",attrs:{type:"range",min:"0",max:"10",step:"1",id:"volume"},domProps:{value:t.patientFollow.Pain},on:{__r:function(e){return t.$set(t.patientFollow,"Pain",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("h4",{staticClass:"font-weight-bold text-dark"},[t._v("Fall")]),t._v(" "),a("div",{staticClass:"mb-4 row"},[a("span",{staticClass:"col-md-6"},[a("div",{staticClass:"custom-control custom-radio bg-light p-2 text-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.patientFollow.Fall,expression:"patientFollow.Fall"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"customRadio1",name:"customRadio",value:"F"},domProps:{checked:t._q(t.patientFollow.Fall,"F")},on:{change:function(e){return t.$set(t.patientFollow,"Fall","F")}}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"customRadio1"}},[t._v("F")])])]),t._v(" "),a("span",{staticClass:"col-md-6"},[a("div",{staticClass:"custom-control custom-radio bg-light p-2 text-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.patientFollow.Fall,expression:"patientFollow.Fall"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"customRadio2",name:"customRadio",value:"None"},domProps:{checked:t._q(t.patientFollow.Fall,"None")},on:{change:function(e){return t.$set(t.patientFollow,"Fall","None")}}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"customRadio2"}},[t._v("None")])])])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"bg-light p-3 w-100 shadow-sm"},[a("span",{staticClass:"ml-2 font-weight-bold text-dark"},[t._v("Diet :")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.patientFollow.Diet_Name,expression:"patientFollow.Diet_Name"}],staticClass:"form-control font-weight-normal text-secondary shadow-sm rounded",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.patientFollow,"Diet_Name",e.target.multiple?a:a[0])}}},t._l(t.Diets,function(e){return a("option",{key:e.id,domProps:{value:e.Diet_Name},on:{click:function(a){t.patientFollow.Diet_id=e.id}}},[t._v(t._s(e.Diet_Name))])}),0)])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"bg-light p-3 mb-3 w-100 shadow-sm"},[a("span",{staticClass:"ml-2 font-weight-bold text-dark"},[t._v("Issolation :")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.patientFollow.P_Isolation,expression:"patientFollow.P_Isolation"}],staticClass:"form-control font-weight-normal text-secondary shadow-sm rounded",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.patientFollow,"P_Isolation",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"None"}},[t._v("None")]),t._v(" "),a("option",{attrs:{value:"Contact"}},[t._v("Contact")]),t._v(" "),a("option",{attrs:{value:"Droplet"}},[t._v("Droplet")]),t._v(" "),a("option",{attrs:{value:"Airborn"}},[t._v("Airborn")]),t._v(" "),a("option",{attrs:{value:"Contact Droplet"}},[t._v("Contact Droplet")]),t._v(" "),a("option",{attrs:{value:"Contact Airborn"}},[t._v("Contact Airborn")])])])]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"bg-light p-3 mb-3 w-100 shadow-sm"},[a("span",{staticClass:"ml-2 font-weight-bold text-dark"},[t._v("Allergy :")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.patientFollow.Allergy,expression:"patientFollow.Allergy"}],staticClass:"form-control rounded shadow-sm",attrs:{id:"exampleFormControlTextarea1",rows:"2"},domProps:{value:t.patientFollow.Allergy},on:{input:function(e){e.target.composing||t.$set(t.patientFollow,"Allergy",e.target.value)}}})])]),t._v(" "),a("hr")])])])]),t._v(" "),a("div",{staticClass:"row mt-4 text-left"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"card shadow overflow-auto",staticStyle:{height:"250px"}},[t._m(4),t._v(" "),a("div",{staticClass:"card-body row m-0"},[a("div",{staticClass:"col-md-12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.patientFollow.Investegation_ToDo,expression:"patientFollow.Investegation_ToDo"}],staticClass:"form-control rounded shadow-sm",attrs:{id:"exampleFormControlTextarea1",rows:"5"},domProps:{value:t.patientFollow.Investegation_ToDo},on:{input:function(e){e.target.composing||t.$set(t.patientFollow,"Investegation_ToDo",e.target.value)}}})])])])]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"card shadow overflow-auto",staticStyle:{height:"250px"}},[t._m(5),t._v(" "),a("div",{staticClass:"card-body row m-0"},[a("div",{staticClass:"col-md-12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.patientFollow.Investegation_FollowUp,expression:"patientFollow.Investegation_FollowUp"}],staticClass:"form-control rounded shadow-sm",attrs:{id:"exampleFormControlTextarea1",rows:"5"},domProps:{value:t.patientFollow.Investegation_FollowUp},on:{input:function(e){e.target.composing||t.$set(t.patientFollow,"Investegation_FollowUp",e.target.value)}}})])])])]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"card shadow overflow-auto",staticStyle:{height:"250px"}},[t._m(6),t._v(" "),a("div",{staticClass:"card-body row m-0"},[a("div",{staticClass:"col-md-12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.patientFollow.Contraptions_Infusions,expression:"patientFollow.Contraptions_Infusions"}],staticClass:"form-control rounded shadow-sm",attrs:{id:"exampleFormControlTextarea1",rows:"5"},domProps:{value:t.patientFollow.Contraptions_Infusions},on:{input:function(e){e.target.composing||t.$set(t.patientFollow,"Contraptions_Infusions",e.target.value)}}})])])])]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"card shadow overflow-auto",staticStyle:{height:"250px"}},[t._m(7),t._v(" "),a("div",{staticClass:"card-body row m-0"},[a("div",{staticClass:"col-md-12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.patientFollow.Routise_PlanOfCare,expression:"patientFollow.Routise_PlanOfCare"}],staticClass:"form-control rounded shadow-sm",attrs:{id:"exampleFormControlTextarea1",rows:"5"},domProps:{value:t.patientFollow.Routise_PlanOfCare},on:{input:function(e){e.target.composing||t.$set(t.patientFollow,"Routise_PlanOfCare",e.target.value)}}})])])])])]),t._v(" "),a("div",{staticClass:"row mt-4 text-left"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card shadow overflow-auto",staticStyle:{height:"200px"}},[t._m(8),t._v(" "),a("div",{staticClass:"card-body row m-0"},[a("div",{staticClass:"col-md-12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.patientFollow.DR_Consultaion_Progress,expression:"patientFollow.DR_Consultaion_Progress"}],staticClass:"form-control rounded shadow-sm",attrs:{id:"exampleFormControlTextarea1",rows:"3",disabled:12==t.user.Role_id||17==t.user.Role_id?"disabled":""},domProps:{value:t.patientFollow.DR_Consultaion_Progress},on:{input:function(e){e.target.composing||t.$set(t.patientFollow,"DR_Consultaion_Progress",e.target.value)}}})])])])])]),t._v(" "),a("div",{staticClass:"text-center"},[a("button",{staticClass:"special-btn",on:{click:function(e){return e.preventDefault(),t.SaveEdits()}}},[t._v("Submit")])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i",{staticClass:"fa fa-warning text-warning"}),this._v(" This patient is not found!")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0"},[this._v("Diagnosis")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0"},[this._v("Progress Notes")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0"},[this._v("Medical Details")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0"},[this._v("To Do")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0"},[this._v("Follow up")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0"},[this._v("Contraptions & Infusions")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0"},[this._v("Routise Plan of Care")]),this._v(" "),e("div",{staticClass:"dropdown no-arrow show"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0"},[this._v("Progress of consultations")])])}]};var K=a("VU/8")(Q,W,!1,function(t){a("2ZEn")},"data-v-d4bd3718",null).exports,X=a("bOdI"),Z=a.n(X),tt={name:"roomDetails",props:["link","user"],data:function(){var t;return t={getUnitsData:[],getRoomsData:[],RoomsDashboard:[],Specialities:[],Consultants:[],PatientsData:[],Branches:[]},Z()(t,"getRoomsData",[]),Z()(t,"patientDetails",[]),Z()(t,"selectedUnit",null),Z()(t,"Beds",[]),Z()(t,"currentDate",moment(new Date).format("YYYY-MM-DD")),Z()(t,"path",""),Z()(t,"newPatient",{Patient_FullName:"",Medical_Number:0,Branch_id:0,Branch_name:"",Gender:"",Unit:"",Room:"",Bed_id:0,Addmission_date:"",Age:"",Date_Birth:"",Specialty:"",Consultant_id:0,Consultant_Name:"",Patient_Status:1,Entry_user:0}),Z()(t,"apiUrl",this.link),t},methods:{popUp:function(t,e){t.patientPop=!1,t[e]=!0,this.patientDetails=A()({},t),setTimeout(function(){$("."+e).addClass("active")},500)},close:function(){this.patientDetails=!1},InsertPatient:function(t){if($("form").is(":valid")){var e=this;e.newPatient.Branch_id=JSON.parse(localStorage.getItem("user")).Branch_ID,e.newPatient.Branch_name=JSON.parse(localStorage.getItem("user")).Branch_name,e.newPatient.Entry_user=JSON.parse(localStorage.getItem("user")).Emp_id,e.newPatient.Room=e.getRoomsData.filter(function(e){return e.id==t.Room_id})[0].Room_name,e.newPatient.Bed_id=t.id,e.newPatient.Unit=e.getUnitsData.filter(function(t){return t.U_id==e.selectedUnit.U_id})[0].U_name,e.newPatient.Consultant_Name=e.Consultants.filter(function(t){return t.Dr_Code==e.newPatient.Consultant_id})[0].DR_Name,$.ajax({type:"POST",url:e.apiUrl+"endoresment/roomDetails.aspx/newPatient",data:n()({data:e.newPatient}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){swal({title:"Sweet!",text:"You successfully added a new patient ...",icon:"success"}),location.reload()}})}else swal({icon:"warning",dangerMode:!0,text:"Please Fill All Fields!"})},RoomsInfo:function(){var t=this;$.ajax({type:"POST",url:t.apiUrl+"endoresment/roomDetails.aspx/getRoomsData",data:n()({Room:{unit_id:t.selectedUnit.U_id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.getRoomsData=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/roomDetails.aspx/getRoomsDashboardData",data:n()({Room:{unit_id:t.selectedUnit.U_id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.RoomsDashboard=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/roomDetails.aspx/getPatientsData",data:n()({info:{Branch_id:t.user.Branch_ID,Unit:t.selectedUnit.U_name}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.PatientsData=JSON.parse(e.d)}})}},watch:{"newPatient.Date_Birth":function(){moment().diff(this.newPatient.Date_Birth,"days")>=365?this.newPatient.Age=moment().diff(this.newPatient.Date_Birth,"years")+" years":moment().diff(this.newPatient.Date_Birth,"days")<365&&moment().diff(this.newPatient.Date_Birth,"days")>=30?this.newPatient.Age=moment().diff(this.newPatient.Date_Birth,"months")+" months":this.newPatient.Age=moment().diff(this.newPatient.Date_Birth,"days")+" days"},selectedUnit:function(){this.RoomsInfo()},"newPatient.Specialty":function(){var t=this,e=this.Specialities.filter(function(e){return e.Spcy_name_En==t.newPatient.Specialty})[0].Spcy_id,a=this;$.ajax({type:"POST",url:a.apiUrl+"endoresment/roomDetails.aspx/getConsultantsData",data:n()({info:{Spcy_id:e,Branch_ID:a.user.Branch_ID}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){a.Consultants=JSON.parse(t.d)}})}},created:function(){var t=this;this.path=this.$router.history.current.path.split("/")[2],$.ajax({type:"POST",url:t.apiUrl+"endoresment/roomDetails.aspx/getUnitsData",data:n()({branch:{id:t.user.Branch_ID}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.getUnitsData=JSON.parse(e.d),17==t.user.Role_id||12==t.user.Role_id?t.selectedUnit=JSON.parse(e.d).length>0?t.getUnitsData.filter(function(e){return e.U_id==t.user.Area_id})[0]:null:t.selectedUnit=JSON.parse(e.d).length>0?t.getUnitsData[0]:null,t.RoomsInfo()}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/roomDetails.aspx/getSpecialitiesData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Specialities=JSON.parse(e.d)}})}},et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"roomDetails p-3 text-capitalize"},[a("div",{staticClass:"container-fluid mt-2 bg-white pt-3 pb-3 card"},[a("div",{staticClass:"container text-center"},[t.selectedUnit?a("h1",{staticClass:"mt-4 text-secondary",staticStyle:{"text-decoration":"underline"}},[t._v("\n        "+t._s(t.selectedUnit.U_name)+" ......\n        "),a("span",{staticClass:"badge bg-primary text-white"},[t._v(t._s(t.getRoomsData.length)+" Rooms")])]):t._e(),t._v(" "),12!=t.user.Role_id&&17!=t.user.Role_id?a("div",[a("v-combobox",{staticStyle:{"max-width":"200px",margin:"30px auto 0 auto"},attrs:{items:t.getUnitsData,"item-text":"U_name","item-value":"U_name",name:"unit",label:"Unit",outlined:"",dense:""},model:{value:t.selectedUnit,callback:function(e){t.selectedUnit=e},expression:"selectedUnit"}})],1):t._e()])]),t._v(" "),a("div",{staticClass:"container-fluid mt-2 bg-white pt-3 pb-3 card viewPatients"},[t.getRoomsData.length>0?a("div",{staticClass:"container"},[a("ul",{staticClass:"list-unstyled"},[a("li",{staticClass:"cube-container"},[a("span",{staticClass:"cube bg-success rounded"},[t._v(t._s(t.RoomsDashboard.filter(function(t){return 1==t.Status_id}).length))]),t._v("\n          Available Beds\n        ")]),t._v(" "),a("li",{staticClass:"cube-container"},[a("span",{staticClass:"cube bg-danger rounded"},[t._v(t._s(t.RoomsDashboard.filter(function(t){return 2==t.Status_id}).length))]),t._v("\n          Occupied Beds\n        ")])]),t._v(" "),t.getRoomsData.filter(function(t){return 1==t.Room_type_id}).length>0?a("h4",{staticClass:"text-secondary text-left border-top pt-5",staticStyle:{"text-decoration":"underline"}},[t._v("\n        double rooms ----\n        "),a("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.getRoomsData.filter(function(t){return 1==t.Room_type_id}).length))])]):t._e(),t._v(" "),t.getRoomsData.filter(function(t){return 1==t.Room_type_id}).length>0?a("div",{staticClass:"row text-center"},t._l(t.getRoomsData.filter(function(t){return 1==t.Room_type_id}),function(e){return a("div",{key:e.R_id,staticClass:"col-md-4 p-2"},[a("div",{staticClass:"bg-light shadow p-2 container card"},[a("h4",{staticClass:"text-secondary font-weight-bold mb-3",staticStyle:{"text-decoration":"underline"}},[t._v("\n              room\n              "),a("span",{staticClass:"text-primary"},[t._v(t._s(e.Room_name))])]),t._v(" "),a("div",{staticClass:"shadow bg-white rounded row w-100 m-auto p-2"},t._l(t.RoomsDashboard.filter(function(t){return t.Room_id==e.id}),function(e){return a("div",{key:e.id,staticClass:"col-md-6 p-2"},[a("div",{staticClass:"card p-2 bg-light shadow icon",staticStyle:{height:"200px",transition:"0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55)",position:"relative"}},[a("div",{staticClass:"h-25 bg-light mb-2 rounded pt-2 shadow"},[a("span",{staticClass:"text-dark"},[t._v(t._s(e.Bed_name.substring(0,4)))]),t._v(" "),a("span",{class:1==e.Status_id?"ml-2 badge-success pl-2 pr-2 rounded":2==e.Status_id?"ml-2 badge-danger pl-2 pr-2 rounded":3==e.Status_id?"ml-2 badge-warning pl-2 pr-2 rounded":" "},[t._v(t._s(e.Bed_name[4]))])]),t._v(" "),a("div",{staticClass:"h-75 bg-light rounded pt-3 bed-background shadow card"}),t._v(" "),2==e.Status_id?a("div",{staticClass:"tooltip bg-white card p-4 text-secondary text-capitalize"},[a("h6",[a("span",{staticClass:"text-primary"},[t._v("full name :")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Patient_FullName))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("age : ")]),a("span",{staticClass:"ml-2"},[t._v("\n                        "+t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Age))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("gender : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Gender))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("medical number : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Medical_Number))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("specialty : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Specialty))])]),t._v(" "),a("router-link",{staticClass:"btn mt-3 btn-primary btn-sm shadow",attrs:{to:{name:"Patient Data",params:{id:t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].id}},target:"_blank"}},[t._v("Details")])],1):1==e.Status_id?a("div",{staticClass:"tooltip bg-white card p-4 text-center"},[a("button",{staticClass:"btn btn-primary btn-sm rounded open-pop shadow",attrs:{"data-pop-name":"patient-popup"},on:{click:function(a){return a.preventDefault(),t.popUp(e,"patientPop")}}},[t._v("\n                      Patient Registration\n                    ")])]):t._e()])])}),0)])])}),0):t._e(),t._v(" "),t.getRoomsData.filter(function(t){return 2==t.Room_type_id}).length>0?a("h4",{staticClass:"text-secondary text-left mt-5 border-top pt-5",staticStyle:{"text-decoration":"underline"}},[t._v("\n        single rooms ----\n        "),a("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.getRoomsData.filter(function(t){return 2==t.Room_type_id}).length))])]):t._e(),t._v(" "),t.getRoomsData.filter(function(t){return 2==t.Room_type_id}).length>0?a("div",{staticClass:"row text-center"},t._l(t.getRoomsData.filter(function(t){return 2==t.Room_type_id}),function(e){return a("div",{key:e.R_id,staticClass:"col-md-4 p-2"},[a("div",{staticClass:"bg-light shadow p-2 container card"},[a("h4",{staticClass:"text-secondary font-weight-bold mb-3",staticStyle:{"text-decoration":"underline"}},[t._v("\n              room\n              "),a("span",{staticClass:"text-primary"},[t._v(t._s(e.Room_name))])]),t._v(" "),a("div",{staticClass:"shadow bg-white rounded row w-100 m-auto p-2"},[a("div",{staticClass:"col-md-3 p-2"}),t._v(" "),t._l(t.RoomsDashboard.filter(function(t){return t.Room_id==e.id}),function(e){return a("div",{key:e.id,staticClass:"col-md-6 p-2"},[a("div",{staticClass:"card p-2 bg-light shadow icon",staticStyle:{transition:"0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55)",position:"relative",height:"200px"}},[a("div",{staticClass:"h-25 bg-light mb-2 rounded pt-2 shadow"},[a("span",{class:1==e.Status_id?"badge-success pl-3 pr-3 rounded":2==e.Status_id?"badge-danger pl-3 pr-3 rounded":3==e.Status_id?"badge-warning pl-3 pr-3 rounded":" "},[t._v(t._s(e.Bed_name.substring(0,4))+"\n                    ")])]),t._v(" "),a("div",{staticClass:"h-75 bg-light rounded pt-3 shadow card bed-background-single"}),t._v(" "),2==e.Status_id?a("div",{staticClass:"tooltip bg-white card p-4 text-secondary text-capitalize"},[a("h6",[a("span",{staticClass:"text-primary"},[t._v("full name :")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Patient_FullName))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("age : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Age))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("gender : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Gender))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("medical number : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Medical_Number))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("specialty : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Specialty))])]),t._v(" "),a("button",{staticClass:"btn mt-3 btn-primary btn-sm rounded"},[t._v("Details")])]):1==e.Status_id?a("div",{staticClass:"tooltip bg-white card p-4 text-center"},[a("button",{staticClass:"btn btn-primary btn-sm rounded open-pop shadow",attrs:{"data-pop-name":"patient-popup"},on:{click:function(a){return a.preventDefault(),t.popUp(e,"patientPop")}}},[t._v("\n                      Patient Registration\n                    ")])]):t._e()])])}),t._v(" "),a("div",{staticClass:"col-md-3 p-2"})],2)])])}),0):t._e(),t._v(" "),t.getRoomsData.filter(function(t){return 3==t.Room_type_id}).length>0?a("h4",{staticClass:"text-secondary text-left mt-5 border-top pt-5",staticStyle:{"text-decoration":"underline"}},[t._v("\n        suits ----\n        "),a("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.getRoomsData.filter(function(t){return 3==t.Room_type_id}).length))])]):t._e(),t._v(" "),t.getRoomsData.filter(function(t){return 3==t.Room_type_id}).length>0?a("div",{staticClass:"row text-center"},t._l(t.getRoomsData.filter(function(t){return 3==t.Room_type_id}),function(e){return a("div",{key:e.R_id,staticClass:"col-md-4 p-2"},[a("div",{staticClass:"bg-light shadow p-2 container card"},[a("h4",{staticClass:"text-secondary font-weight-bold mb-3",staticStyle:{"text-decoration":"underline"}},[t._v("\n              room\n              "),a("span",{staticClass:"text-primary"},[t._v(t._s(e.Room_name))])]),t._v(" "),a("div",{staticClass:"shadow bg-white rounded row w-100 m-auto p-2"},[a("div",{staticClass:"col-md-3 p-2"}),t._v(" "),t._l(t.RoomsDashboard.filter(function(t){return t.Room_id==e.id}),function(e){return a("div",{key:e.id,staticClass:"col-md-6 p-2"},[a("div",{staticClass:"card p-2 bg-light shadow icon",staticStyle:{transition:"0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55)",position:"relative",height:"200px"}},[a("div",{staticClass:"h-25 bg-light mb-2 rounded pt-2 shadow"},[a("span",{class:1==e.Status_id?"badge-success pl-3 pr-3 rounded":2==e.Status_id?"badge-danger pl-3 pr-3 rounded":3==e.Status_id?"badge-warning pl-3 pr-3 rounded":" "},[t._v(t._s(e.Bed_name.substring(0,4))+"\n                    ")])]),t._v(" "),a("div",{staticClass:"h-75 bg-light rounded pt-3 shadow card bed-background-single"}),t._v(" "),2==e.Status_id?a("div",{staticClass:"tooltip bg-white card p-4 text-secondary text-capitalize"},[a("h6",[a("span",{staticClass:"text-primary"},[t._v("full name :")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Patient_FullName))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("age : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Age))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("gender : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Gender))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("medical number : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Medical_Number))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("specialty : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Specialty))])]),t._v(" "),a("button",{staticClass:"btn mt-3 btn-primary btn-sm rounded"},[t._v("Details")])]):1==e.Status_id?a("div",{staticClass:"tooltip bg-white card p-4 text-center"},[a("button",{staticClass:"btn btn-primary btn-sm rounded open-pop shadow",attrs:{"data-pop-name":"patient-popup"},on:{click:function(a){return a.preventDefault(),t.popUp(e,"patientPop")}}},[t._v("\n                      Patient Registration\n                    ")])]):t._e()])])}),t._v(" "),a("div",{staticClass:"col-md-3 p-2"})],2)])])}),0):t._e(),t._v(" "),t.getRoomsData.filter(function(t){return 4==t.Room_type_id}).length>0?a("h4",{staticClass:"text-secondary text-left mt-5 border-top pt-5",staticStyle:{"text-decoration":"underline"}},[t._v("\n        daycase rooms ----\n        "),a("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.getRoomsData.filter(function(t){return 4==t.Room_type_id}).length))])]):t._e(),t._v(" "),t.getRoomsData.filter(function(t){return 4==t.Room_type_id}).length>0?a("div",{staticClass:"row text-center"},t._l(t.getRoomsData.filter(function(t){return 4==t.Room_type_id}),function(e){return a("div",{key:e.R_id,staticClass:"col-md-4 p-2"},[a("div",{staticClass:"bg-light shadow p-2 container card"},[a("h4",{staticClass:"text-secondary font-weight-bold mb-3",staticStyle:{"text-decoration":"underline"}},[t._v("\n              room\n              "),a("span",{staticClass:"text-primary"},[t._v(t._s(e.Room_name))])]),t._v(" "),a("div",{staticClass:"shadow bg-white rounded row w-100 m-auto p-2"},[a("div",{staticClass:"col-md-3 p-2"}),t._v(" "),t._l(t.RoomsDashboard.filter(function(t){return t.Room_id==e.id}),function(e){return a("div",{key:e.id,staticClass:"col-md-6 p-2"},[a("div",{staticClass:"card p-2 bg-light shadow icon",staticStyle:{height:"200px",transition:"0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55)",position:"relative"}},[a("div",{staticClass:"h-25 bg-light mb-2 rounded pt-2 shadow"},[a("span",{class:1==e.Status_id?"badge-success pl-3 pr-3 rounded":2==e.Status_id?"badge-danger pl-3 pr-3 rounded":3==e.Status_id?"badge-warning pl-3 pr-3 rounded":" "},[t._v(t._s(e.Bed_name.substring(0,4))+"\n                    ")])]),t._v(" "),a("div",{staticClass:"h-75 bg-light rounded pt-3 shadow card bed-background-single"}),t._v(" "),2==e.Status_id?a("div",{staticClass:"tooltip bg-white card p-4 text-secondary text-capitalize"},[a("h6",[a("span",{staticClass:"text-primary"},[t._v("full name :")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Patient_FullName))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("age : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Age))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("gender : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Gender))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("medical number : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Medical_Number))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("specialty : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Specialty))])]),t._v(" "),a("button",{staticClass:"btn mt-3 btn-primary btn-sm rounded"},[t._v("Details")])]):1==e.Status_id?a("div",{staticClass:"tooltip bg-white card p-4 text-center"},[a("button",{staticClass:"btn btn-danger btn-sm rounded open-pop shadow-sm",attrs:{"data-pop-name":"patient-popup"},on:{click:function(a){return a.preventDefault(),t.popUp(e,"patientPop")}}},[t._v("\n                      Patient Registration\n                    ")])]):t._e()])])}),t._v(" "),a("div",{staticClass:"col-md-3 p-2"})],2)])])}),0):t._e(),t._v(" "),t.getRoomsData.filter(function(t){return 5==t.Room_type_id}).length>0?a("h4",{staticClass:"text-secondary text-left mt-5 border-top pt-5",staticStyle:{"text-decoration":"underline"}},[t._v("\n        ccu rooms ----\n        "),a("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.getRoomsData.filter(function(t){return 5==t.Room_type_id}).length))])]):t._e(),t._v(" "),t.getRoomsData.filter(function(t){return 5==t.Room_type_id}).length>0?a("div",{staticClass:"row text-center"},t._l(t.getRoomsData.filter(function(t){return 5==t.Room_type_id}),function(e){return a("div",{key:e.R_id,staticClass:"col-md-4 p-2"},[a("div",{staticClass:"bg-light shadow p-2 container card"},[a("h4",{staticClass:"text-secondary font-weight-bold mb-3",staticStyle:{"text-decoration":"underline"}},[t._v("\n              room\n              "),a("span",{staticClass:"text-primary"},[t._v(t._s(e.Room_name))])]),t._v(" "),a("div",{staticClass:"shadow bg-white rounded row w-100 m-auto p-2"},[a("div",{staticClass:"col-md-3 p-2"}),t._v(" "),t._l(t.RoomsDashboard.filter(function(t){return t.Room_id==e.id}),function(e){return a("div",{key:e.id,staticClass:"col-md-6 p-2"},[a("div",{staticClass:"card p-2 bg-light shadow icon",staticStyle:{transition:"0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55)",position:"relative",height:"200px"}},[a("div",{staticClass:"h-25 bg-light mb-2 rounded pt-2 shadow"},[a("span",{class:1==e.Status_id?"badge-success pl-3 pr-3 rounded":2==e.Status_id?"badge-danger pl-3 pr-3 rounded":3==e.Status_id?"badge-warning pl-3 pr-3 rounded":" "},[t._v(t._s(e.Bed_name.substring(0,4))+"\n                    ")])]),t._v(" "),a("div",{staticClass:"h-75 bg-light rounded pt-3 shadow card bed-background-single"}),t._v(" "),2==e.Status_id?a("div",{staticClass:"tooltip bg-white card p-4 text-secondary text-capitalize"},[a("h6",[a("span",{staticClass:"text-primary"},[t._v("full name :")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Patient_FullName))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("age : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Age))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("gender : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Gender))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("medical number : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Medical_Number))])]),t._v(" "),a("h6",[a("span",{staticClass:"text-primary"},[t._v("specialty : ")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.PatientsData.filter(function(t){return t.Bed_id==e.id})[0].Specialty))])]),t._v(" "),a("button",{staticClass:"btn mt-3 btn-primary btn-sm rounded"},[t._v("Details")])]):1==e.Status_id?a("div",{staticClass:"tooltip bg-white card p-4 text-center"},[a("button",{staticClass:"btn btn-primary btn-sm rounded open-pop shadow",attrs:{"data-pop-name":"patient-popup"},on:{click:function(a){return a.preventDefault(),t.popUp(e,"patientPop")}}},[t._v("\n                      Patient Registration\n                    ")])]):t._e()])])}),t._v(" "),a("div",{staticClass:"col-md-3 p-2"})],2)])])}),0):t._e()]):a("div",{staticClass:"bg-light p-5 card shadow text-secondary w-75 m-auto"},[t._v("\n      No avalible rooms in this unit!\n    ")])]),t._v(" "),t.patientDetails?a("div",[1==t.patientDetails.patientPop?a("div",{class:t.patientDetails.patientPop?"patient-popup popup active":"patient-popup popup"},[a("div",{staticClass:"popup-body",staticStyle:{"max-width":"900px"}},[a("div",{staticClass:"custom-form m-auto pb-4"},[a("span",{staticClass:"close-pop",on:{click:t.close}},[t._v("Close")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"social-timeline-card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"general primary tabcontent active overflow-auto text-center",staticStyle:{"max-height":"400px"}},[a("h3",{staticClass:"text-center text-success",staticStyle:{"text-decoration":"underline"}},[t._v("\n                  "+t._s(t.patientDetails.Bed_name)+"\n                ")]),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.InsertPatient(t.patientDetails)}}},[a("div",{staticClass:"cu-form-group special shadow-sm grouped rounded mb-2 bg-light pr-3 pl-3 ml-auto mr-auto text-left"},[a("div",{staticClass:"row"},[a("div",{staticClass:"cu-field col-md-12"},[t._m(1),t._v(" "),a("div",{staticClass:"cu-input text-box",staticStyle:{"max-width":"100%"}},[a("span",{staticClass:"fa fa-edit"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPatient.Patient_FullName,expression:"newPatient.Patient_FullName"}],attrs:{type:"text",required:""},domProps:{value:t.newPatient.Patient_FullName},on:{input:function(e){e.target.composing||t.$set(t.newPatient,"Patient_FullName",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"cu-field col-md-6"},[t._m(2),t._v(" "),a("div",{staticClass:"cu-input text-box",staticStyle:{"max-width":"100%"}},[a("span",{staticClass:"fa fa-edit"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPatient.Medical_Number,expression:"newPatient.Medical_Number"}],attrs:{type:"number",required:""},domProps:{value:t.newPatient.Medical_Number},on:{input:function(e){e.target.composing||t.$set(t.newPatient,"Medical_Number",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"cu-field col-md-6"},[t._m(3),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.newPatient.Gender,expression:"newPatient.Gender"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newPatient,"Gender",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"Male"}},[t._v("Male")]),t._v(" "),a("option",{attrs:{value:"Female"}},[t._v("Female")])])])]),t._v(" "),a("div",{staticClass:"cu-field col-md-6"},[t._m(4),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-edit"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPatient.Date_Birth,expression:"newPatient.Date_Birth"}],attrs:{type:"date",max:t.currentDate,required:""},domProps:{value:t.newPatient.Date_Birth},on:{input:function(e){e.target.composing||t.$set(t.newPatient,"Date_Birth",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"cu-field col-md-6"},[t._m(5),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-edit"}),t._v(" "),a("span",{staticClass:"w-100 text-left"},[t._v(t._s(t.newPatient.Age))])])]),t._v(" "),a("div",{staticClass:"cu-field col-md-6"},[t._m(6),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.newPatient.Specialty,expression:"newPatient.Specialty"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newPatient,"Specialty",e.target.multiple?a:a[0])}}},t._l(t.Specialities,function(e){return a("option",{key:e.Spcy_id,domProps:{value:e.Spcy_name_En}},[t._v("\n                              "+t._s(e.Spcy_name_En)+"\n                            ")])}),0)])]),t._v(" "),a("div",{staticClass:"cu-field col-md-6"},[t._m(7),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-edit"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPatient.Addmission_date,expression:"newPatient.Addmission_date"}],attrs:{type:"date",max:t.currentDate,required:""},domProps:{value:t.newPatient.Addmission_date},on:{input:function(e){e.target.composing||t.$set(t.newPatient,"Addmission_date",e.target.value)}}})])]),t._v(" "),t.Consultants.length>0?a("div",{staticClass:"cu-field col-md-12"},[t._m(8),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.newPatient.Consultant_id,expression:"newPatient.Consultant_id"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newPatient,"Consultant_id",e.target.multiple?a:a[0])}}},t._l(t.Consultants,function(e){return a("option",{key:e.DR_Name,domProps:{value:e.Dr_Code}},[t._v("\n                              "+t._s(e.DR_Name)+"\n                            ")])}),0)])]):t._e()])]),t._v(" "),a("button",{staticClass:"btn btn-primary mt-4 shadow"},[t._v("Submit")])])])])])])])]):t._e()]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title text-center text-white"},[e("span",{staticClass:"bg-secondary pt-2 pb-2 pl-3 pr-3"},[this._v("Patient Registration")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Patient Full Name :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Medical Number :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Patient Gender :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Patient Birth Date :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Patient Age :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("specialty :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Addmission Date :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Consultant :")])])}]};var at=a("VU/8")(tt,et,!1,function(t){a("vZiA")},"data-v-ee2dae02",null).exports,st=a("Gu7T"),it=a.n(st),nt={name:"patientData",props:["link","user","UnitDash","DoctorPatients","NursesPatients"],data:function(){return{apiUrl:this.link,Units:[],Rooms:[],Beds:[],patientData:null,shiftData:null,id:this.$route.params.id,viewedShift:null,edit:!1,stat:0,today:"",dischargeDate:"",deathDate:"",Unit:"",Room:"",Bed_id:0}},watch:{Unit:function(){var t=this.Unit,e=this;$.ajax({type:"POST",url:e.apiUrl+"endoresment/patientData.aspx/getRoomsData",data:n()({unit:{U_id:t}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){e.Rooms=JSON.parse(t.d)}})},Room:function(){var t=this.Room,e=this;$.ajax({type:"POST",url:e.apiUrl+"endoresment/patientData.aspx/getBedsData",data:n()({room:{id:t}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){e.Beds=JSON.parse(t.d)}})}},methods:{LOS:function(t){var e=Math.round((new Date-new Date(t.trim()))/864e5);return 0==e?"Today":1==e?e+" Day":e+" Days"},transform:function(){var t=this,e=null,a=this;if($("form").is(":valid")){var s={id:this.id,Unit:this.Units.filter(function(e){return e.U_id==t.Unit})[0].U_name,Room:this.Rooms.filter(function(e){return e.id==t.Room})[0].Room_name,Bed_id:this.Bed_id};swal({title:"Are you sure?",buttons:!0}).then(function(t){t&&$.ajax({type:"POST",url:a.apiUrl+"endoresment/patientData.aspx/updateTransform",data:n()({detail:s}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(){e=a.shiftData.length>0?a.shiftData.filter(function(t){return t.id==Math.max.apply(Math,it()(a.shiftData.map(function(t){return t.id})))})[0]:{Patient_id:a.patientData.id,Insert_Nurse:0,Insert_Nurse_Name:"",Insert_Nurse_Time:0,Insert_Doctor:0,Insert_Doctor_Name:"",Insert_Doctor_Time:0},console.log(e);var t=(new Date).getHours()>=20?"Night":"Day";if(e.Transfer_From=a.patientData.Unit,e.Transfer_To=a.Units.filter(function(t){return t.U_id==a.Unit})[0].U_name,e.Shift=t,e.id&&"Today"==a.LOS(e.Entry_date)&&e.Shift.trim()==t?12==a.user.Role_id||17==a.user.Role_id?(e.Update_Nurse=a.user.Emp_id,e.Update_Nurse_Name=a.user.FullName,e.Update_Nurse_Time=moment(new Date).format("DD-MM-YYYY A HH-mm"),r()):10==a.user.Role_id&&(e.Update_Doctor=a.user.Emp_id,e.Update_Doctor_Name=a.user.FullName,e.Update_Doctor_Time=moment(new Date).format("DD-MM-YYYY A HH-mm"),r()):12==a.user.Role_id||17==a.user.Role_id?(e.Insert_Nurse=a.user.Emp_id,e.Insert_Nurse_Name=a.user.FullName,e.Insert_Nurse_Time=moment(new Date).format("DD-MM-YYYY A HH-mm"),e.Insert_Doctor=0,i()):10==a.user.Role_id&&(e.Insert_Doctor=a.user.Emp_id,e.Insert_Doctor_Name=a.user.FullName,e.Insert_Doctor_Time=moment(new Date).format("DD-MM-YYYY A HH-mm"),e.Insert_Nurse=0,i()),a.patientData.Unit!=s.Unit){var l=(new Date).getHours()>=20?"Night":"Day",o=new Date,c=[{Unit_name:a.patientData.Unit,Transfer_In:0,Transfer_Out:1,Shift:l,Shift_date:o,Total_Census:-1},{Unit_name:s.Unit,Transfer_In:1,Transfer_Out:0,Shift:l,Shift_date:o,Total_Census:1}];$.ajax({type:"POST",url:a.apiUrl+"endoresment/patientData.aspx/updateUnitsTransferOut",data:n()({unit:c[0]}),contentType:"application/json; charset=utf-8",dataType:"json"}),$.ajax({type:"POST",url:a.apiUrl+"endoresment/patientData.aspx/updateUnitsTransferIn",data:n()({unit:c[1]}),contentType:"application/json; charset=utf-8",dataType:"json"})}for(var d=[{id:a.patientData.Bed_id,Status_id:1,Status_name:"Empty"},{id:a.Bed_id,Status_id:2,Status_name:"Full"}],u=0;u<d.length;u++)$.ajax({type:"POST",url:a.apiUrl+"endoresment/patientData.aspx/updateRoomData",data:n()({room:{id:d[u].id,Status_id:d[u].Status_id,Status_name:d[u].Status_name}}),contentType:"application/json; charset=utf-8",dataType:"json"});swal({title:"Sweet!",text:"You successfully submit transfer ...",icon:"success",dangerMode:!0}).then(function(t){location.reload()})}})})}else swal({icon:"warning",dangerMode:!0,text:"Please Fill All Fields!"});function i(){$.ajax({type:"POST",url:a.apiUrl+"endoresment/patientData.aspx/insertFollowUpData",data:n()({patient:e}),contentType:"application/json; charset=utf-8",dataType:"json"})}function r(){$.ajax({type:"POST",url:a.apiUrl+"endoresment/patientData.aspx/updateFollowUpData",data:n()({patient:e}),contentType:"application/json; charset=utf-8",dataType:"json"})}},updateStat:function(t,e){if(this.dischargeDate||this.deathDate){var a=this;swal({title:"Are you sure?",icon:"warning",buttons:!0,dangerMode:!0}).then(function(s){if(s){var i={id:a.id,Patient_Status:t,Discharged_date:a.dischargeDate,Death_date:a.deathDate};$.ajax({type:"POST",url:a.apiUrl+"endoresment/patientData.aspx/updatePatientData",data:n()({patient:i}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(s){var i={id:e,Status_id:1,Status_name:"Empty"};$.ajax({type:"POST",url:a.apiUrl+"endoresment/patientData.aspx/updateRoomData",data:n()({room:i}),contentType:"application/json; charset=utf-8",dataType:"json"});var r=(new Date).getHours()>=20?"Night":"Day",l=a.dischargeDate?a.dischargeDate:a.deathDate,o={Unit_name:a.patientData.Unit,Shift:r,Shift_date:l,Death:3==t?1:0,Discharge:2==t?1:0};$.ajax({type:"POST",url:a.apiUrl+"endoresment/patientData.aspx/updateUnitsData",data:n()({unit:o}),contentType:"application/json; charset=utf-8",dataType:"json"}),swal({title:"Updated!",icon:"success"}),a.patientData.Patient_Status=t}})}})}else swal({title:"Enter Date!",icon:"warning"})}},created:function(){var t=this;t.today=moment(new Date).format("YYYY-MM-DD"),$.ajax({type:"POST",url:t.apiUrl+"endoresment/patientData.aspx/getUnitsData",data:n()({branch:{id:t.user.Branch_ID}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Units=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/patientData.aspx/getPatientData",data:n()({id:{id:t.id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.patientData=JSON.parse(e.d)[0],t.stat=t.patientData.Patient_Status,12==t.user.Role_id?t.edit=t.NursesPatients.filter(function(e){return e.id==t.id}).length>0:17==t.user.Role_id?t.edit=t.UnitDash.filter(function(e){return e.Unit_name.trim()==t.patientData.Unit.trim()}).length>0:10==t.user.Role_id&&(t.edit=t.DoctorPatients.filter(function(e){return e.id==t.id}).length>0)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/patientData.aspx/getShiftData",data:n()({data:{Patient_id:t.id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.shiftData=JSON.parse(e.d),t.viewedShift=t.shiftData?t.shiftData.slice(-1)[0]:null}})}},rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"patientData p-3"},[a("div",{staticClass:"mt-2 bg-white pt-3 pb-3 card"},[t.patientData?a("div",{staticClass:"container"},[a("div",{staticClass:"row form-group head-info rounded text-center pt-1 pb-1 mb-0"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"shadow bg-white rounded pt-3 pb-3"},[a("span",{staticClass:"text-info"},[t._v("Name :")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.patientData.Patient_FullName))])])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"shadow bg-white rounded pt-3 pb-3"},[a("span",{staticClass:"text-info"},[t._v("Medical Number :")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.patientData.Medical_Number))])])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"shadow bg-white rounded pt-3 pb-3"},[a("span",{staticClass:"text-info"},[t._v("Age:")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.patientData.Age))])])])]),t._v(" "),a("div",{staticClass:"row form-group text-center mt-2 mb-0",staticStyle:{"font-size":"20px"}},[a("div",{staticClass:"col-md-4"},[a("span",{staticClass:"text-secondary"},[t._v("Unit :")]),a("span",{staticClass:"ml-2 badge card badge-success text-uppercase pl-4 pr-4 shadow-sm"},[t._v(t._s(t.patientData.Unit))])]),t._v(" "),a("div",{staticClass:"col-md-4",staticStyle:{"text-decoration":"underline","font-size":"25px"}},[a("span",{staticClass:"text-success"},[t._v("Date of admission :")]),t._v(" "),a("span",{staticClass:"ml-2 text-secondary"},[t._v(t._s(t.patientData.Addmission_date))])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("span",{staticClass:"text-secondary"},[t._v("Room:")]),t._v(" "),a("span",{staticClass:"ml-2 badge card badge-success pl-4 pr-4 shadow-sm"},[t._v(t._s(t.patientData.Room))])])]),t._v(" "),a("div",{staticClass:"row text-center mb-4 mt-0"},[a("div",{staticClass:"col-md-6 mt-0"},[a("span",{staticClass:"bg-white p-2 shadow-sm border rounded"},[a("i",{staticClass:"fa fa-address-card-o text-secondary",attrs:{"aria-hidden":"true"}}),t._v(" "),a("span",{staticClass:"ml-2 text-info"},[t._v("Specialty :")]),a("span",{staticClass:"ml-2 text-danger"},[t._v(t._s(t.patientData.Specialty))])])]),t._v(" "),a("div",{staticClass:"col-md-6 mt-0"},[a("span",{staticClass:"bg-white p-2 shadow-sm border rounded"},[a("i",{staticClass:"fa fa-user-md text-secondary",attrs:{"aria-hidden":"true"}}),t._v(" "),a("span",{staticClass:"ml-2 text-info"},[t._v("Consultant :")]),a("span",{staticClass:"ml-2 text-danger"},[t._v(t._s(t.patientData.Consultant_Name))])])])]),t._v(" "),t.edit&&1==t.patientData.Patient_Status?a("div",{staticClass:"btn-options border-top text-center pt-3 m-0"},[t.stat>1?a("i",{staticClass:"close fa fa-close pull-right",on:{click:function(e){t.stat=1}}}):t._e(),t._v(" "),a("div",{staticClass:"row"},[t._m(0),t._v(" "),a("div",{staticClass:"col-sm-4 mb-1"},[a("button",{staticClass:"btn btn-block btn-danger shadow-sm btn-sm",on:{click:function(e){e.preventDefault(),t.stat=2,t.deathDate=""}}},[t._v("\n              Disharge\n            ")]),t._v(" "),2==t.stat?a("div",{staticClass:"mt-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dischargeDate,expression:"dischargeDate"}],staticClass:"form-control",attrs:{type:"date",max:t.today},domProps:{value:t.dischargeDate},on:{input:function(e){e.target.composing||(t.dischargeDate=e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-success mt-1 btn-sm",on:{click:function(e){return e.preventDefault(),t.updateStat(2,t.patientData.Bed_id)}}},[t._v("\n                Submit\n              ")])]):t._e()]),t._v(" "),a("div",{staticClass:"col-sm-4 mb-1"},[a("button",{staticClass:"btn btn-block btn-dark shadow-sm btn-sm",on:{click:function(e){e.preventDefault(),t.stat=3,t.dischargeDate=""}}},[t._v("\n              Death\n            ")]),t._v(" "),3==t.stat?a("div",{staticClass:"mt-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.deathDate,expression:"deathDate"}],staticClass:"form-control",attrs:{type:"date",max:t.today},domProps:{value:t.deathDate},on:{input:function(e){e.target.composing||(t.deathDate=e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-success mt-1 btn-sm",on:{click:function(e){return e.preventDefault(),t.updateStat(3,t.patientData.Bed_id)}}},[t._v("\n                Submit\n              ")])]):t._e()])])]):t._e(),t._v(" "),t.patientData.Patient_Status>1?a("div",{staticClass:"border-top text-center pt-5 pb-3 mt-3"},[a("p",[t._v("\n          Patient status:\n          "),2==t.patientData.Patient_Status?a("span",{staticClass:"text-danger"},[t._v("Discharged")]):t._e(),t._v(" "),3==t.patientData.Patient_Status?a("span",{staticClass:"text-danger"},[t._v("Dead")]):t._e()])]):t._e()]):t._e()]),t._v(" "),a("div",{staticClass:"container-fluid mt-2 bg-white pt-3 pb-3 card"},[t.shiftData&&t.viewedShift?a("div",{staticClass:"container"},[a("div",{staticClass:"row mt-4 text-left"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"form-group bg-white border p-3 shadow-sm"},[a("label",{attrs:{for:"exampleFormControlSelect1"}},[t._v("See previous shifts")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md 6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.viewedShift,expression:"viewedShift"}],staticClass:"form-control form-control-sm",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.viewedShift=e.target.multiple?a:a[0]}}},t._l(t.shiftData,function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v("\n                    "+t._s(e.Entry_date.substr(0,10)+" "+e.Shift)+"\n                  ")])}),0)])])])]),t._v(" "),t.edit?a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group bg-white border text-center shadow-sm"},[a("router-link",{staticClass:"special-btn pl-3 pr-3",attrs:{to:{name:"Insert Patient Data",params:{id:t.id}}}},[t._v("\n              Submit shift data\n            ")])],1)]):t._e()]),t._v(" "),a("div",{staticClass:"infoData"},[a("ul",{staticClass:"list-unstyled card bg-white shadow",class:"Day"==t.viewedShift.Shift.trim()?"Day-card":"Night-card"},[a("li",{staticClass:"cu-flex detail"},[a("span",[t._v("Inserted From: ")]),t._v(" "),a("span",[t._v("\n              "+t._s(t.viewedShift.Insert_Doctor?"Dr."+t.viewedShift.Insert_Doctor_Name:"Nurse: "+t.viewedShift.Insert_Nurse_Name)+"\n            ")])]),t._v(" "),t.viewedShift.Update_Doctor?a("li",{staticClass:"cu-flex detail"},[a("span",[t._v("Updated From Doctor: ")]),t._v(" "),a("span",[t._v("\n              "+t._s("Dr."+t.viewedShift.Update_Doctor_Name)+"\n              "),a("i",{staticClass:"pl-2 pr-2 text-primary fa fa-clock-o"}),t._v("\n              "+t._s(t.viewedShift.Update_Doctor_Time)+"\n            ")])]):t._e(),t._v(" "),t.viewedShift.Update_Nurse?a("li",{staticClass:"cu-flex detail"},[a("span",[t._v("Updated From Nurse: ")]),t._v(" "),a("span",[t._v("\n              "+t._s(t.viewedShift.Update_Nurse_Name)+"\n              "),a("i",{staticClass:"pl-2 pr-2 text-primary fa fa-clock-o"}),t._v("\n              "+t._s(t.viewedShift.Update_Nurse_Time)+"\n            ")])]):t._e(),t._v(" "),a("li",{staticClass:"cu-flex detail"},[a("span",[t._v("Shift")]),t._v(" "),a("span",[a("i",{class:"Day"==t.viewedShift.Shift.trim()?"fa fa-sun-o text-primary":"fa fa-moon-o  text-primary"}),t._v("\n              "+t._s(t.viewedShift.Shift)+"\n            ")])]),t._v(" "),a("li",{staticClass:"cu-flex detail"},[a("span",[t._v("Entry Date")]),t._v(" "),a("span",[t._v(t._s(t.viewedShift.Entry_date.substr(0,10)))])])])]),t._v(" "),a("div",{staticClass:"row mt-4 text-left"},[a("div",{staticClass:"col-xl-8 col-lg-7"},[a("div",{staticClass:"card shadow overflow-auto",staticStyle:{height:"250px"}},[t._m(1),t._v(" "),a("div",{staticClass:"card-body"},[t.viewedShift.DR_Diagnosis?a("i",{staticClass:"fa fa-circle text-danger small"}):t._e(),t._v("\n              "+t._s(t.viewedShift.DR_Diagnosis)+"\n            ")])])]),t._v(" "),a("div",{staticClass:"col-xl-4 col-lg-5"},[a("div",{staticClass:"card shadow overflow-auto",staticStyle:{height:"250px"}},[t._m(2),t._v(" "),a("div",{staticClass:"card-body"},[t.viewedShift.DR_ProgressNotes?a("i",{staticClass:"fa fa-circle text-danger small"}):t._e(),t._v("\n              "+t._s(t.viewedShift.DR_ProgressNotes)+"\n            ")])])])]),t._v(" "),a("div",{staticClass:"row mt-4 text-left"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card shadow"},[t._m(3),t._v(" "),a("div",{staticClass:"card-body row"},[a("div",{staticClass:"col-md-6"},[a("h4",{staticClass:"font-weight-bold text-dark mt-3"},[t._v("\n                  Pain Level\n                  "),a("span",{staticClass:"float-right text-success"},[t._v(t._s(t.viewedShift.Pain))])]),t._v(" "),a("div",{staticClass:"progress bg-light mb-4",staticStyle:{height:"60px"}},[a("input",{staticClass:"progress-bar bg-danger w-100",attrs:{type:"range",min:"0",max:"10",step:"1",id:"volume",disabled:""},domProps:{value:t.viewedShift.Pain}})])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"bg-light pt-2 pb-2 mb-3 w-100 shadow-sm"},[a("span",{staticClass:"ml-2 font-weight-bold text-dark"},[t._v("Fall :")]),t._v(" "),a("span",{staticClass:"font-weight-normal text-secondary ml-2"},[t._v(t._s(t.viewedShift.Fall))])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"bg-light pt-2 pb-2 mb-3 w-100 shadow-sm"},[a("span",{staticClass:"ml-2 font-weight-bold text-dark"},[t._v("Diet :")]),t._v(" "),a("span",{staticClass:"font-weight-normal text-secondary ml-2"},[t._v(t._s(t.viewedShift.Diet_Name))])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"bg-light pt-2 pb-2 mb-3 w-100 shadow-sm"},[a("span",{staticClass:"ml-2 font-weight-bold text-dark"},[t._v("Issolation :")]),t._v(" "),a("span",{staticClass:"font-weight-normal text-secondary ml-2"},[t._v(t._s(t.viewedShift.P_Isolation))])])]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"bg-light p-3 mb-3 w-100 shadow-sm h-100"},[a("span",{staticClass:"font-weight-bold text-dark"},[t._v("Allergy :")]),t._v(" "),a("span",{staticClass:"font-weight-normal text-secondary ml-2"},[t._v(t._s(t.viewedShift.Allergy))])])])])])])]),t._v(" "),a("div",{staticClass:"row mt-4 text-left"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"card shadow overflow-auto",staticStyle:{height:"250px"}},[t._m(4),t._v(" "),a("div",{staticClass:"card-body row m-0"},[a("div",{staticClass:"col-md-12"},[t.viewedShift.Investegation_ToDo?a("i",{staticClass:"fa fa-circle text-success small"}):t._e(),t._v("\n                "+t._s(t.viewedShift.Investegation_ToDo)+"\n              ")])])])]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"card shadow overflow-auto",staticStyle:{height:"250px"}},[t._m(5),t._v(" "),a("div",{staticClass:"card-body row m-0"},[a("div",{staticClass:"col-md-12"},[t.viewedShift.Investegation_FollowUp?a("i",{staticClass:"fa fa-circle text-success small"}):t._e(),t._v("\n                "+t._s(t.viewedShift.Investegation_FollowUp)+"\n              ")])])])]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"card shadow overflow-auto",staticStyle:{height:"250px"}},[t._m(6),t._v(" "),a("div",{staticClass:"card-body row m-0"},[a("div",{staticClass:"col-md-12"},[t.viewedShift.Contraptions_Infusions?a("i",{staticClass:"fa fa-circle text-success small"}):t._e(),t._v("\n                "+t._s(t.viewedShift.Contraptions_Infusions)+"\n              ")])])])]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"card shadow overflow-auto",staticStyle:{height:"250px"}},[t._m(7),t._v(" "),a("div",{staticClass:"card-body row m-0"},[a("div",{staticClass:"col-md-12"},[t.viewedShift.Routise_PlanOfCare?a("i",{staticClass:"fa fa-circle text-success small"}):t._e(),t._v("\n                "+t._s(t.viewedShift.Routise_PlanOfCare)+"\n              ")])])])])]),t._v(" "),a("div",{staticClass:"row mt-4 text-left"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card shadow overflow-auto",staticStyle:{height:"200px"}},[t._m(8),t._v(" "),a("div",{staticClass:"card-body row m-0"},[a("div",{staticClass:"col-md-12"},[t.viewedShift.DR_Consultaion_Progress?a("i",{staticClass:"fa fa-circle text-danger small"}):t._e(),t._v("\n                "+t._s(t.viewedShift.DR_Consultaion_Progress)+"\n              ")])])])])])]):a("div",{staticClass:"text-center not-found"},[t._m(9),t._v(" "),t.edit?a("router-link",{staticClass:"special-btn pl-3 pr-3",attrs:{to:{name:"Insert Patient Data",params:{id:t.id}}}},[t._v("\n        Submit shift data\n      ")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"exampleModalCenter",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(10),t._v(" "),a("div",{staticClass:"modal-body overflow-auto",staticStyle:{height:"450px"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.transform(e)}}},[a("div",{staticClass:"custom-form pt-1"},[a("div",{staticClass:"cu-container"},[a("div",{staticClass:"cu-form-group special",staticStyle:{"max-width":"900px"}},[t.Units.length>0?a("div",{staticClass:"cu-field"},[t._m(11),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.Unit,expression:"Unit"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.Unit=e.target.multiple?a:a[0]}}},t._l(t.Units,function(e){return a("option",{key:e.U_name,domProps:{value:e.U_id}},[t._v("\n                          "+t._s(e.U_name)+"\n                        ")])}),0)])]):t._e(),t._v(" "),t.Rooms.length>0?a("div",{staticClass:"cu-field"},[t._m(12),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.Room,expression:"Room"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.Room=e.target.multiple?a:a[0]}}},t._l(t.Rooms,function(e){return a("option",{key:e.Room_name,domProps:{value:e.id}},[t._v("\n                          "+t._s(e.Room_name)+"\n                        ")])}),0)])]):t._e(),t._v(" "),t.Beds.length>0?a("div",{staticClass:"cu-field"},[t._m(13),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.Bed_id,expression:"Bed_id"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.Bed_id=e.target.multiple?a:a[0]}}},t._l(t.Beds,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                          "+t._s(e.Bed_name)+"\n                        ")])}),0)])]):t._e(),t._v(" "),t._m(14)])])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-4 mb-1"},[e("button",{staticClass:"btn btn-block btn-primary shadow-sm btn-sm",attrs:{"data-toggle":"modal","data-target":"#exampleModalCenter"}},[this._v("\n              Transfer\n            ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0"},[this._v("Diagnosis")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0"},[this._v("Progress Notes")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0"},[this._v("Medical Details")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0"},[this._v("To Do")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0"},[this._v("Follow up")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0"},[this._v("Contraptions & Infusions")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0"},[this._v("Routise Plan of Care")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[e("h5",{staticClass:"m-0"},[this._v("Progress of consultations")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i",{staticClass:"fa fa-warning text-warning"}),this._v(" There is no follow up data yet for\n        this patient!\n      ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[this._v("Transfer To")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Unit :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Room :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Bed :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("button",{staticClass:"special-btn btn-sm"},[this._v("Submit")])])}]};var lt=a("VU/8")(nt,rt,!1,function(t){a("8aE0")},"data-v-23dbf974",null).exports,ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"or_patient"},[a("div",{staticClass:"internal-page"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.InsertPatient(e)}}},[a("div",{staticClass:"custom-form  pt-3"},[a("div",{staticClass:"cu-container"},[a("div",{staticClass:"cu-form-group special"},[t._m(0),t._v(" "),a("div",{staticClass:"row"},[t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"cu-field"},[t._m(3),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-calendar-o"}),t._v(" "),a("input",{attrs:{min:(new Date).toISOString().substr(0,10),type:"date",required:""}})])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[t._m(4),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-clock-o"}),t._v(" "),a("input",{attrs:{min:(new Date).toISOString().substr(0,10),type:"time",required:""}})])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[t._m(5),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-clock-o"}),t._v(" "),a("input",{attrs:{min:(new Date).toISOString().substr(0,10),type:"time",required:""}})])])]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"cu-field radio-group"},[a("div",{staticClass:"row align-items-end"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"cu-field"},[t._m(6),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectPatient,expression:"selectPatient"}],attrs:{id:"select1",type:"radio",name:"selectPatient",value:"1",required:""},domProps:{checked:t._q(t.selectPatient,"1")},on:{change:function(e){t.selectPatient="1"}}}),t._v(" "),t._m(7)])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"cu-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectPatient,expression:"selectPatient"}],attrs:{id:"select2",type:"radio",name:"selectPatient",value:"2",required:""},domProps:{checked:t._q(t.selectPatient,"2")},on:{change:function(e){t.selectPatient="2"}}}),t._v(" "),t._m(8)])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"cu-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectPatient,expression:"selectPatient"}],attrs:{id:"select3",type:"radio",name:"selectPatient",value:"3",required:""},domProps:{checked:t._q(t.selectPatient,"3")},on:{change:function(e){t.selectPatient="3"}}}),t._v(" "),t._m(9)])])])])]),t._v(" "),"1"==t.selectPatient?a("div",{staticClass:"col-md-6"},[t._m(10)]):t._e(),t._v(" "),"2"==t.selectPatient?a("div",{staticClass:"col-md-6"},[t._m(11)]):t._e(),t._v(" "),"3"==t.selectPatient?a("div",{staticClass:"col-md-12"},[t._m(12)]):t._e(),t._v(" "),a("div",{staticClass:"col-md-12 border-top"},[a("div",{staticClass:"cu-field"},[t._m(13),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.Speciality,expression:"Speciality"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.Speciality=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("...")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("Lorem Ipsum")])])])])]),t._v(" "),""!=t.Speciality?a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"cu-field checkbox-group"},[a("div",{staticClass:"row align-items-end"},[t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),a("div",{staticClass:"col-lg-3 col-md-6"},[a("div",{staticClass:"cu-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectPatient,expression:"selectPatient"}],attrs:{id:"doctor3",type:"checkbox",name:"doctor",value:"4",required:""},domProps:{checked:Array.isArray(t.selectPatient)?t._i(t.selectPatient,"4")>-1:t.selectPatient},on:{change:function(e){var a=t.selectPatient,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=t._i(a,"4");s.checked?n<0&&(t.selectPatient=a.concat(["4"])):n>-1&&(t.selectPatient=a.slice(0,n).concat(a.slice(n+1)))}else t.selectPatient=i}}}),t._v(" "),t._m(17)])])])])]):t._e(),t._v(" "),t._m(18)]),t._v(" "),t._m(19)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",[e("i",{staticClass:"fa fa-hospital-o mainColor mr-1"}),this._v(" Schedule Procedure")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"cu-field"},[e("h3",{staticClass:"cu-label"},[e("label",[this._v("Name of procedure :")])]),this._v(" "),e("div",{staticClass:"f-select"},[e("select",{staticClass:"form-control form-control-sm",attrs:{required:""}},[e("option",{attrs:{value:""}},[this._v("...")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"cu-field"},[e("h3",{staticClass:"cu-label"},[e("label",[this._v("OR Room :")])]),this._v(" "),e("div",{staticClass:"f-select"},[e("select",{staticClass:"form-control form-control-sm"},[e("option",{attrs:{value:""}},[this._v("...")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Procedure Date :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("From :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("To :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Select patient by:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"select1"}},[e("div",{staticClass:"cu-input cu-radio normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("Medical Number")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"select2"}},[e("div",{staticClass:"cu-input cu-radio normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("Bed Number")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"select3"}},[e("div",{staticClass:"cu-input cu-radio normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("Outside Hospital")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cu-field"},[e("h3",{staticClass:"cu-label"},[e("label",[this._v("Medical number of patient :")])]),this._v(" "),e("div",{staticClass:"cu-input text-box"},[e("span",{staticClass:"fa fa-edit"}),this._v(" "),e("input",{attrs:{type:"number",required:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cu-field"},[e("h3",{staticClass:"cu-label"},[e("label",[this._v("Bed number of patient :")])]),this._v(" "),e("div",{staticClass:"cu-input text-box"},[e("span",{staticClass:"fa fa-edit"}),this._v(" "),e("input",{attrs:{type:"number",required:""}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[a("h3",{staticClass:"cu-label"},[a("label",[t._v("Patient Full Name :")])]),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-edit"}),t._v(" "),a("input",{attrs:{type:"text",required:""}})])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[a("h3",{staticClass:"cu-label"},[a("label",[t._v("Patient Phone Number :")])]),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-phone"}),t._v(" "),a("input",{attrs:{type:"text",required:""}})])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[a("h3",{staticClass:"cu-label"},[a("label",[t._v("Medical number of patient :")])]),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-edit"}),t._v(" "),a("input",{attrs:{type:"number",required:""}})])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Speciality :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-lg-3 col-md-6"},[e("div",{staticClass:"cu-field"},[e("h3",{staticClass:"cu-label"},[e("label",[this._v("Select Consultant:")])]),this._v(" "),e("input",{attrs:{id:"doctor1",type:"checkbox",name:"doctor",value:"1",required:""}}),this._v(" "),e("label",{attrs:{for:"doctor1"}},[e("div",{staticClass:"cu-input cu-checkbox normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("John Doe")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-lg-3 col-md-6"},[e("div",{staticClass:"cu-field"},[e("input",{attrs:{id:"doctor1",type:"checkbox",name:"doctor",value:"2",required:""}}),this._v(" "),e("label",{attrs:{for:"doctor3"}},[e("div",{staticClass:"cu-input cu-checkbox normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("John Doe")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-lg-3 col-md-6"},[e("div",{staticClass:"cu-field"},[e("input",{attrs:{id:"doctor3",type:"checkbox",name:"doctor",value:"3",required:""}}),this._v(" "),e("label",{attrs:{for:"doctor3"}},[e("div",{staticClass:"cu-input cu-checkbox normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("John Doe")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"doctor3"}},[e("div",{staticClass:"cu-input cu-checkbox normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("John Doe")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"cu-field"},[e("h3",{staticClass:"cu-label"},[e("label",[this._v("Assistant Doctor : "),e("small",[this._v("Please enter the doctor code")])])]),this._v(" "),e("div",{staticClass:"cu-input text-box"},[e("span",{staticClass:"fa fa-edit"}),this._v(" "),e("input",{attrs:{type:"number",required:""}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("button",{staticClass:"special-btn"},[this._v("Submit")])])}]};var ct=a("VU/8")({name:"or_patient",props:["link"],data:function(){return{apiUrl:this.link,selectPatient:"",Speciality:""}}},ot,!1,function(t){a("0JDM")},"data-v-90513904",null).exports,dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"or_patient_edit"},[a("div",{staticClass:"internal-page"},[a("form",[a("div",{staticClass:"custom-form  pt-3"},[a("div",{staticClass:"cu-container"},[a("div",{staticClass:"cu-form-group special"},[t._m(0),t._v(" "),a("div",{staticClass:"row"},[t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"cu-field"},[t._m(3),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-calendar-o"}),t._v(" "),a("input",{attrs:{min:(new Date).toISOString().substr(0,10),type:"date",required:""}})])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[t._m(4),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-clock-o"}),t._v(" "),a("input",{attrs:{min:(new Date).toISOString().substr(0,10),type:"time",required:""}})])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[t._m(5),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-clock-o"}),t._v(" "),a("input",{attrs:{min:(new Date).toISOString().substr(0,10),type:"time",required:""}})])])]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"cu-field radio-group"},[a("div",{staticClass:"row align-items-end"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"cu-field"},[t._m(6),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectPatient,expression:"selectPatient"}],attrs:{id:"select1",type:"radio",name:"selectPatient",value:"1",required:""},domProps:{checked:t._q(t.selectPatient,"1")},on:{change:function(e){t.selectPatient="1"}}}),t._v(" "),t._m(7)])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"cu-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectPatient,expression:"selectPatient"}],attrs:{id:"select2",type:"radio",name:"selectPatient",value:"2",required:""},domProps:{checked:t._q(t.selectPatient,"2")},on:{change:function(e){t.selectPatient="2"}}}),t._v(" "),t._m(8)])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"cu-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectPatient,expression:"selectPatient"}],attrs:{id:"select3",type:"radio",name:"selectPatient",value:"3",required:""},domProps:{checked:t._q(t.selectPatient,"3")},on:{change:function(e){t.selectPatient="3"}}}),t._v(" "),t._m(9)])])])])]),t._v(" "),"1"==t.selectPatient?a("div",{staticClass:"col-md-6"},[t._m(10)]):t._e(),t._v(" "),"2"==t.selectPatient?a("div",{staticClass:"col-md-6"},[t._m(11)]):t._e(),t._v(" "),"3"==t.selectPatient?a("div",{staticClass:"col-md-12"},[t._m(12)]):t._e(),t._v(" "),a("div",{staticClass:"col-md-12 border-top"},[a("div",{staticClass:"cu-field"},[t._m(13),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.Speciality,expression:"Speciality"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.Speciality=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("...")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("Lorem Ipsum")])])])])]),t._v(" "),""!=t.Speciality?a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"cu-field checkbox-group"},[a("div",{staticClass:"row align-items-end"},[a("div",{staticClass:"col-lg-3 col-md-6"},[a("div",{staticClass:"cu-field"},[t._m(14),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectPatient,expression:"selectPatient"}],attrs:{id:"doctor1",type:"checkbox",name:"doctor",value:"1",required:""},domProps:{checked:Array.isArray(t.selectPatient)?t._i(t.selectPatient,"1")>-1:t.selectPatient},on:{change:function(e){var a=t.selectPatient,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=t._i(a,"1");s.checked?n<0&&(t.selectPatient=a.concat(["1"])):n>-1&&(t.selectPatient=a.slice(0,n).concat(a.slice(n+1)))}else t.selectPatient=i}}}),t._v(" "),t._m(15)])]),t._v(" "),a("div",{staticClass:"col-lg-3 col-md-6"},[a("div",{staticClass:"cu-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectPatient,expression:"selectPatient"}],attrs:{id:"doctor1",type:"checkbox",name:"doctor",value:"2",required:""},domProps:{checked:Array.isArray(t.selectPatient)?t._i(t.selectPatient,"2")>-1:t.selectPatient},on:{change:function(e){var a=t.selectPatient,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=t._i(a,"2");s.checked?n<0&&(t.selectPatient=a.concat(["2"])):n>-1&&(t.selectPatient=a.slice(0,n).concat(a.slice(n+1)))}else t.selectPatient=i}}}),t._v(" "),t._m(16)])]),t._v(" "),a("div",{staticClass:"col-lg-3 col-md-6"},[a("div",{staticClass:"cu-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectPatient,expression:"selectPatient"}],attrs:{id:"doctor3",type:"checkbox",name:"doctor",value:"3",required:""},domProps:{checked:Array.isArray(t.selectPatient)?t._i(t.selectPatient,"3")>-1:t.selectPatient},on:{change:function(e){var a=t.selectPatient,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=t._i(a,"3");s.checked?n<0&&(t.selectPatient=a.concat(["3"])):n>-1&&(t.selectPatient=a.slice(0,n).concat(a.slice(n+1)))}else t.selectPatient=i}}}),t._v(" "),t._m(17)])]),t._v(" "),a("div",{staticClass:"col-lg-3 col-md-6"},[a("div",{staticClass:"cu-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectPatient,expression:"selectPatient"}],attrs:{id:"doctor3",type:"checkbox",name:"doctor",value:"3",required:""},domProps:{checked:Array.isArray(t.selectPatient)?t._i(t.selectPatient,"3")>-1:t.selectPatient},on:{change:function(e){var a=t.selectPatient,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=t._i(a,"3");s.checked?n<0&&(t.selectPatient=a.concat(["3"])):n>-1&&(t.selectPatient=a.slice(0,n).concat(a.slice(n+1)))}else t.selectPatient=i}}}),t._v(" "),t._m(18)])])])])]):t._e(),t._v(" "),t._m(19)]),t._v(" "),t._m(20)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",[e("i",{staticClass:"fa fa-hospital-o mainColor mr-1"}),this._v(" Schedule Procedure")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"cu-field"},[e("h3",{staticClass:"cu-label"},[e("label",[this._v("Name of Procedure :")])]),this._v(" "),e("div",{staticClass:"f-select"},[e("select",{staticClass:"form-control form-control-sm",attrs:{required:""}},[e("option",{attrs:{value:""}},[this._v("...")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"cu-field"},[e("h3",{staticClass:"cu-label"},[e("label",[this._v("OR Room :")])]),this._v(" "),e("div",{staticClass:"f-select"},[e("select",{staticClass:"form-control form-control-sm"},[e("option",{attrs:{value:""}},[this._v("...")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Procedure Date :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("From :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("To :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Select patient by:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"select1"}},[e("div",{staticClass:"cu-input cu-radio normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("Medical Number")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"select2"}},[e("div",{staticClass:"cu-input cu-radio normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("Bed Number")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"select3"}},[e("div",{staticClass:"cu-input cu-radio normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("Outside Hospital")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cu-field"},[e("h3",{staticClass:"cu-label"},[e("label",[this._v("Medical number of patient :")])]),this._v(" "),e("div",{staticClass:"cu-input text-box"},[e("span",{staticClass:"fa fa-edit"}),this._v(" "),e("input",{attrs:{type:"number",required:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cu-field"},[e("h3",{staticClass:"cu-label"},[e("label",[this._v("Bed number of patient :")])]),this._v(" "),e("div",{staticClass:"cu-input text-box"},[e("span",{staticClass:"fa fa-edit"}),this._v(" "),e("input",{attrs:{type:"number",required:""}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[a("h3",{staticClass:"cu-label"},[a("label",[t._v("Patient Full Name :")])]),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-edit"}),t._v(" "),a("input",{attrs:{type:"text",required:""}})])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[a("h3",{staticClass:"cu-label"},[a("label",[t._v("Patient Phone Number :")])]),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-phone"}),t._v(" "),a("input",{attrs:{type:"text",required:""}})])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[a("h3",{staticClass:"cu-label"},[a("label",[t._v("Medical number of patient :")])]),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-edit"}),t._v(" "),a("input",{attrs:{type:"number",required:""}})])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Speciality :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Select doctors:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"doctor1"}},[e("div",{staticClass:"cu-input cu-checkbox normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("John Doe")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"doctor3"}},[e("div",{staticClass:"cu-input cu-checkbox normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("John Doe")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"doctor3"}},[e("div",{staticClass:"cu-input cu-checkbox normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("John Doe")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"doctor3"}},[e("div",{staticClass:"cu-input cu-checkbox normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("John Doe")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"cu-field"},[e("h3",{staticClass:"cu-label"},[e("label",[this._v("Assistant Doctor : "),e("small",[this._v("Please enter the doctor code")])])]),this._v(" "),e("div",{staticClass:"cu-input text-box"},[e("span",{staticClass:"fa fa-edit"}),this._v(" "),e("input",{attrs:{type:"number",required:""}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("button",{staticClass:"special-btn"},[this._v("Submit")])])}]};var ut=a("VU/8")({name:"or_patient",props:["link"],data:function(){return{apiUrl:this.link,selectPatient:"",Speciality:""}}},dt,!1,function(t){a("bPSx")},"data-v-8a621a94",null).exports,pt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"OR"},[e("h1",{staticClass:"mt-5 mb-5 bg-white p-3 pl-5 pr-5  cu-flex align-items-center"},[this._m(0),this._v(" "),e("router-link",{staticClass:"btn btn-primary text-white",attrs:{to:{name:"Schedule Procedure"},target:"_blank"}},[this._v("Schedule a procedure")])],1),this._v(" "),this._m(1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-heartbeat text-danger"}),this._v(" OR")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"content pt-3 pb-5"},[a("h3",{staticClass:"pl-3 pb-3 pt-3 mb-4 bg-white card"},[t._v("Today's Procedure")]),t._v(" "),a("div",{staticClass:"bg-white shadow table-responsive"},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Precedure")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Room Number")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Doctors")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Patient Name")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("From")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("To")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Date")])])]),t._v(" "),a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v("1")]),t._v(" "),a("td",[t._v("Heart Transplant")]),t._v(" "),a("td",[t._v("2")]),t._v(" "),a("td",[a("table",{staticClass:"table table-hover"},[a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v("1")]),t._v(" "),a("td",[t._v("Mark")]),t._v(" "),a("td",[t._v("Chardiology")])]),t._v(" "),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("2")]),t._v(" "),a("td",[t._v("Jack")]),t._v(" "),a("td",[t._v("Anesthesia ")])])])])]),t._v(" "),a("td",[t._v("John Doe")]),t._v(" "),a("td",[t._v("2:00 AM")]),t._v(" "),a("td",[t._v("3:00 AM")]),t._v(" "),a("td",[t._v("14/2/2021")]),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-primary btn-sm text-white",attrs:{href:"#"}},[t._v("Details")])]),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-success btn-sm text-white"},[a("i",{staticClass:"fa fa-edit"})])])]),t._v(" "),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("1")]),t._v(" "),a("td",[t._v("Heart Transplant")]),t._v(" "),a("td",[t._v("2")]),t._v(" "),a("td",[a("table",{staticClass:"table table-hover"},[a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v("1")]),t._v(" "),a("td",[t._v("Mark")]),t._v(" "),a("td",[t._v("Chardiology")])]),t._v(" "),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("2")]),t._v(" "),a("td",[t._v("Jack")]),t._v(" "),a("td",[t._v("Anesthesia ")])])])])]),t._v(" "),a("td",[t._v("John Doe")]),t._v(" "),a("td",[t._v("11:00 AM")]),t._v(" "),a("td",[t._v("12:00 PM")]),t._v(" "),a("td",[t._v("14/2/2021")]),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-primary btn-sm text-white",attrs:{href:"#"}},[t._v("Details")])]),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-success btn-sm text-white"},[a("i",{staticClass:"fa fa-edit"})])])])])])])]),t._v(" "),a("div",{staticClass:"content pt-3 pb-5"},[a("h3",{staticClass:"pl-3 pb-3 pt-3 mb-4 bg-primary text-white card"},[t._v("Scheduled Procedure")]),t._v(" "),a("div",{staticClass:"bg-white shadow table-responsive"},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Precedure")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Room Number")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Doctors")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Patient Name")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("From")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("To")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Date")])])]),t._v(" "),a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v("1")]),t._v(" "),a("td",[t._v("Heart Transplant")]),t._v(" "),a("td",[t._v("2")]),t._v(" "),a("td",[a("table",{staticClass:"table table-hover"},[a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v("1")]),t._v(" "),a("td",[t._v("Mark")]),t._v(" "),a("td",[t._v("Chardiology")])]),t._v(" "),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("2")]),t._v(" "),a("td",[t._v("Jack")]),t._v(" "),a("td",[t._v("Anesthesia ")])])])])]),t._v(" "),a("td",[t._v("John Doe")]),t._v(" "),a("td",[t._v("2:00 AM")]),t._v(" "),a("td",[t._v("3:00 AM")]),t._v(" "),a("td",[t._v("14/2/2021")]),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-primary btn-sm text-white",attrs:{href:"#"}},[t._v("Details")])]),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-success btn-sm text-white"},[a("i",{staticClass:"fa fa-edit"})])])]),t._v(" "),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("1")]),t._v(" "),a("td",[t._v("Heart Transplant")]),t._v(" "),a("td",[t._v("2")]),t._v(" "),a("td",[a("table",{staticClass:"table table-hover"},[a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v("1")]),t._v(" "),a("td",[t._v("Mark")]),t._v(" "),a("td",[t._v("Chardiology")])]),t._v(" "),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("2")]),t._v(" "),a("td",[t._v("Jack")]),t._v(" "),a("td",[t._v("Anesthesia ")])])])])]),t._v(" "),a("td",[t._v("John Doe")]),t._v(" "),a("td",[t._v("11:00 AM")]),t._v(" "),a("td",[t._v("12:00 PM")]),t._v(" "),a("td",[t._v("14/2/2021")]),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-primary btn-sm text-white",attrs:{href:"#"}},[t._v("Details")])]),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-success btn-sm text-white"},[a("i",{staticClass:"fa fa-edit"})])])])])])])]),t._v(" "),a("div",{staticClass:"content pt-3 pb-5"},[a("h3",{staticClass:"pl-3 pr-3 pt-1 pb-1 mb-4 bg-success text-white rounded cu-flex align-items-center"},[a("span",[t._v("Done Procedure")]),t._v(" "),a("div",{staticClass:"cu-flex filterDone"},[a("label",[t._v("Filter :")]),t._v(" "),a("select",{staticClass:"form-control form-control-sm"},[a("option",{attrs:{value:"1"}},[t._v("This Week")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("This Month")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("This Year")])])])]),t._v(" "),a("div",{staticClass:"bg-white shadow table-responsive"},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Precedure")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Room Number")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Doctors")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Patient Name")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("From")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("To")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Date")])])]),t._v(" "),a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v("1")]),t._v(" "),a("td",[t._v("Heart Transplant")]),t._v(" "),a("td",[t._v("2")]),t._v(" "),a("td",[a("table",{staticClass:"table table-hover"},[a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v("1")]),t._v(" "),a("td",[t._v("Mark")]),t._v(" "),a("td",[t._v("Chardiology")])]),t._v(" "),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("2")]),t._v(" "),a("td",[t._v("Jack")]),t._v(" "),a("td",[t._v("Anesthesia ")])])])])]),t._v(" "),a("td",[t._v("John Doe")]),t._v(" "),a("td",[t._v("2:00 AM")]),t._v(" "),a("td",[t._v("3:00 AM")]),t._v(" "),a("td",[t._v("14/2/2021")]),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-primary btn-sm text-white",attrs:{href:"#"}},[t._v("Details")])])]),t._v(" "),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("1")]),t._v(" "),a("td",[t._v("Heart Transplant")]),t._v(" "),a("td",[t._v("2")]),t._v(" "),a("td",[a("table",{staticClass:"table table-hover"},[a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v("1")]),t._v(" "),a("td",[t._v("Mark")]),t._v(" "),a("td",[t._v("Chardiology")])]),t._v(" "),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("2")]),t._v(" "),a("td",[t._v("Jack")]),t._v(" "),a("td",[t._v("Anesthesia ")])])])])]),t._v(" "),a("td",[t._v("John Doe")]),t._v(" "),a("td",[t._v("11:00 AM")]),t._v(" "),a("td",[t._v("12:00 PM")]),t._v(" "),a("td",[t._v("14/2/2021")]),t._v(" "),a("td",{staticClass:"text-center"},[a("a",{staticClass:"btn btn-primary btn-sm text-white",attrs:{href:"#"}},[t._v("Details")])])])])])])])])}]};var mt=a("VU/8")({name:"OR",props:["link"],data:function(){return{apiUrl:this.link}}},pt,!1,function(t){a("lA6d")},"data-v-e0dbd322",null).exports,vt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"OR_details"},[a("div",{staticClass:"container"},[a("div",{staticClass:"content card mt-5"},[a("h3",{staticClass:"title p-3 cu-flex align-items-center"},[a("span",[t._v("Heart Transplant")]),t._v(" "),a("a",{staticClass:"btn btn-sm btn-success text-white"},[a("i",{staticClass:"fa fa-edit"}),t._v(" Edit")])])]),t._v(" "),a("div",{staticClass:"card content mt-5 mb-5 p-3"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"info"},[a("h5",[a("span",[a("i",{staticClass:"fa fa-user-md"}),t._v(" Consultant Doctor:")]),t._v(" "),a("small",[t._v("Mohamed Ahmed")])])]),t._v(" "),a("div",{staticClass:"info"},[a("h5",[a("span",[a("i",{staticClass:"fa fa-user"}),t._v(" Patient Full Name:")]),t._v(" "),a("small",[t._v("Adel Shereef")])])]),t._v(" "),a("div",{staticClass:"info"},[a("h5",[a("span",[a("i",{staticClass:"fa fa-heartbeat"}),t._v(" Patient Medical Number:")]),t._v(" "),a("small",[t._v("1425")])])]),t._v(" "),a("div",{staticClass:"info"},[a("h5",[a("span",[a("i",{staticClass:"fa fa-plus-square"}),t._v(" Speciality:")]),t._v(" "),a("small",[t._v("Lorem Ipsum")])])]),t._v(" "),a("div",{staticClass:"info"},[a("h5",[a("span",[a("i",{staticClass:"fa fa-stethoscope "}),t._v(" Assistant Doctor:")]),t._v(" "),a("small",[t._v("Ahmed Saied")])])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"info"},[a("h5",[a("span",[a("i",{staticClass:"fa fa-calendar-o"}),t._v(" Date:")]),t._v(" "),a("small",[t._v("19-2-2021")])])]),t._v(" "),a("div",{staticClass:"info"},[a("h5",[a("span",[a("i",{staticClass:"fa fa-clock-o"}),t._v(" From:")]),t._v(" "),a("small",[t._v("02:00 PM")])])]),t._v(" "),a("div",{staticClass:"info"},[a("h5",[a("span",[a("i",{staticClass:"fa fa-clock-o"}),t._v(" To:")]),t._v(" "),a("small",[t._v("03:00 PM")])])]),t._v(" "),a("div",{staticClass:"info"},[a("h5",[a("span",[a("i",{staticClass:"fa fa-hospital-o"}),t._v(" OR Room:")]),t._v(" "),a("small",[t._v("3")])])])])])])]),t._v(" "),a("div",{staticClass:"content mb-5 bg-white shadow table-responsive"},[a("table",{staticClass:"table table-hover"},[a("thead",[a("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Participating Doctors")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Spicaility")])]),t._v(" "),a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v("1")]),t._v(" "),a("td",[t._v("Mohamed Ahmed")]),t._v(" "),a("td",[t._v("Chardiology")])]),t._v(" "),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("2")]),t._v(" "),a("td",[t._v("Ahmed Saied")]),t._v(" "),a("td",[t._v("Anesthesia ")])])])])])])])}]};var _t=a("VU/8")({name:"OR_details",data:function(){}},vt,!1,function(t){a("f6X8")},"data-v-5b2a9ce5",null).exports,ht=a("hR3v"),ft={directives:{dragscroll:ht.dragscroll},name:"Handover",props:["link","user","UnitDash","edits","DoctorPatients","NursesPatients"],data:function(){return{apiUrl:this.link,patients:[],patientsFollow:[],Diets:[],Rooms:[],Shift:"",today:"",thisday:"",Specialities:[]}},methods:{FollowData:function(t,e){var a=this.patientsFollow.filter(function(e){return e.Patient_id==t})[0];return"Fall"!=e&&"Diet_Name"!=e&&"P_Isolation"!=e||(a[e]=a[e].trim()),a},LOS:function(t){var e=Math.round((new Date-new Date(t.trim()))/864e5);return 0==e?"Today":1==e?e+" Day":e+" Days"},edit:function(t){this.$set(this.patients.filter(function(e){return e.id==t})[0],"edit",!0)},SaveEdits:function(t){var e=this,a=this;swal({title:"Are you sure?",icon:"warning",buttons:!0,dangerMode:!0}).then(function(s){s?$.ajax({type:"POST",url:a.apiUrl+"endoresment/handover.aspx/updatePatientData",data:n()({patient:e.patients.filter(function(e){return e.id==t})[0]}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){var s=a.patientsFollow.filter(function(e){return t==e.Patient_id})[0];function i(){$.ajax({type:"POST",url:a.apiUrl+"endoresment/handover.aspx/insertFollowUpData",data:n()({patient:s}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){swal({title:"Updated!",icon:"success"}),a.$set(a.patients.filter(function(e){return e.id==t})[0],"edit",!1),location.reload()}})}function r(){$.ajax({type:"POST",url:a.apiUrl+"endoresment/handover.aspx/updateFollowUpData",data:n()({patient:s}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){swal({title:"Updated!",icon:"success"}),a.$set(a.patients.filter(function(e){return e.id==t})[0],"edit",!1)}})}s.id&&"Today"==a.LOS(s.Entry_date)&&s.Shift.trim()==a.Shift?12==a.user.Role_id||17==a.user.Role_id?(s.Update_Nurse=a.user.Emp_id,s.Update_Nurse_Name=a.user.FullName,s.Update_Nurse_Time=moment(new Date).format("DD-MM-YYYY A HH-mm"),r()):10==a.user.Role_id&&(s.Update_Doctor=a.user.Emp_id,s.Update_Doctor_Name=a.user.FullName,s.Update_Doctor_Time=moment(new Date).format("DD-MM-YYYY A HH-mm"),r()):12==a.user.Role_id||17==a.user.Role_id?(s.Shift=a.Shift,s.Insert_Nurse=a.user.Emp_id,s.Insert_Nurse_Name=a.user.FullName,s.Insert_Nurse_Time=moment(new Date).format("DD-MM-YYYY A HH-mm"),s.Insert_Doctor=0,i()):10==a.user.Role_id&&(s.Shift=a.Shift,s.Insert_Doctor=a.user.Emp_id,s.Insert_Doctor_Name=a.user.FullName,s.Insert_Doctor_Time=moment(new Date).format("DD-MM-YYYY A HH-mm"),s.Insert_Nurse=0,i())}}):(swal("Canceled!"),e.$set(e.patients.filter(function(e){return e.id==t})[0],"edit",!1))})},getChargeUnits:function(){var t=this;t.UnitDash.length>0&&((new Date).getHours()<20&&(new Date).getHours()>=8?(t.Shift="Day",t.UnitDash.map(function(t){"Night"==t.Shift.trim()&&(t.Received=0,t.Admission=0,t.Total_Census=0)})):t.UnitDash.map(function(e){t.Shift="Night","Day"==e.Shift.trim()&&(e.Received=0,e.Admission=0,e.Total_Census=0)}))},getShifts:function(t,e){this.patientsFollow.push({Shift:e,Patient_id:t,Diet_id:0,Diet_Name:"",Pain:0,P_Isolation:"",Fall:"",Allergy:"",Investegation_ToDo:"",Investegation_FollowUp:"",Contraptions_Infusions:"",Routise_PlanOfCare:"",Surgury_Procedures:"",DR_Diagnosis:"",DR_ProgressNotes:"",DR_Consultaion_Progress:"",Insert_Nurse:"",Insert_Nurse_Name:"",Insert_Nurse_Time:"",Update_Nurse:0,Update_Nurse_Name:"",Update_Nurse_Time:"",Insert_Doctor:0,Insert_Doctor_Name:"",Insert_Doctor_Time:"",Update_Doctor:0,Update_Doctor_Name:"",Update_Doctor_Time:"",Consultaion:"",Transfer_From:"",Transfer_To:"",Entry_date:new Date})},patientsData:function(){var t=this;t.edits&&17==t.user.Role_id?$.ajax({type:"POST",url:t.apiUrl+"endoresment/handover.aspx/getPatientsData",data:n()({chargeNurse:t.user}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.patients=JSON.parse(e.d),t.patients.length>0&&t.patients.map(function(e){return t.$set(e,"edit",!1)});for(var a=function(e){t.patients[e].Room=t.patients[e].Room.trim(),$.ajax({type:"POST",url:t.apiUrl+"endoresment/handover.aspx/getShiftData",data:n()({data:{Patient_id:t.patients[e].id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){if(JSON.parse(a.d).length>0)t.patientsFollow.push(JSON.parse(a.d)[0]);else{var s=null;s=(new Date).getHours()<20&&(new Date).getHours()>=8?"Day":"Night",t.getShifts(t.patients[e].id,s)}}})},s=0;s<t.patients.length;s++)a(s)}}):$.ajax({type:"POST",url:t.apiUrl+"endoresment/handover.aspx/getPatientsData2",data:n()({chargeNurse:t.user}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.patients=JSON.parse(e.d),t.patients.length>0&&t.patients.map(function(e){return t.$set(e,"edit",!1)});for(var a=function(e){t.patients[e].Room=t.patients[e].Room.trim(),$.ajax({type:"POST",url:t.apiUrl+"endoresment/handover.aspx/getShiftData",data:n()({data:{Patient_id:t.patients[e].id}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){if(JSON.parse(a.d).length>0)t.patientsFollow.push(JSON.parse(a.d)[0]);else{var s=null;s=(new Date).getHours()<20&&(new Date).getHours()>=8?"Day":"Night",t.getShifts(t.patients[e].id,s)}}})},s=0;s<t.patients.length;s++)a(s)}})}},watch:{UnitDash:function(){this.getChargeUnits()}},created:function(){var t=this;t.today=moment(new Date).format("DD-MM-YYYY"),t.thisday=moment(new Date).format("YYYY-MM-DD"),t.getChargeUnits(),setTimeout(function(){t.patientsData()},1e3),$.ajax({type:"POST",url:t.apiUrl+"endoresment/handover.aspx/getDietsData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Diets=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/handover.aspx/getRoomsData",data:n()({branch:{id:t.user.Branch_ID}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Rooms=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/add_patient.aspx/getSpecialitiesData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Specialities=JSON.parse(e.d)}})}},Ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Handover pb-5 pt-5"},[a("div",{staticClass:"container-fluid"},[17!=t.user.Role_id||t.edits?t._e():a("v-alert",{staticClass:"bg-white text-danger",staticStyle:{"max-width":"500px",margin:"60px auto"},attrs:{border:"right","colored-border":"",type:"error",elevation:"2"}},[t._v("\n      You haven't recieved any units as a charge nurse for current shift yet!\n    ")]),t._v(" "),t._l(t.UnitDash,function(e){return t.patients.filter(function(t){return e.Unit_name.trim()==t.Unit.trim()}).length>0&&10!=t.user.Role_id||t.DoctorPatients.filter(function(t){return e.Unit_name.trim()==t.Unit.trim()}).length>0?a("div",{key:e.id,staticClass:"bg-white shadow table-responsive mb-5"},[a("h4",{staticClass:"cu-flex p-3 shadow"},[a("span",[a("i",{staticClass:"fa fa-hospital-o"}),t._v(" "+t._s(e.Unit_name))]),t._v(" "),a("router-link",{staticClass:"btn btn-primary shadow",attrs:{to:{name:"Nurses",params:{id:e.Unit_id}}}},[t._v("Nurses List")])],1),t._v(" "),a("div",{directives:[{name:"dragscroll",rawName:"v-dragscroll"}],staticClass:"scroll-box"},[t.patientsFollow.length==t.patients.length?a("table",{staticClass:"table table-bordered"},[a("thead",{staticClass:"seperated"},[a("th",{attrs:{scope:"col"}}),t._v(" "),a("th",{attrs:{colspan:"4",scope:"col"}},[a("span",[t._v("Date:")]),t._v(" "+t._s(t.today))]),t._v(" "),a("th",{attrs:{colspan:"6",scope:"col"}},[a("span",[t._v("Shift:")]),t._v(" "),a("span",{staticClass:"text-primary"},[a("i",{class:"Day"==t.Shift?"fa fa-sun-o":"fa fa-moon-o"}),t._v("\n                "+t._s(t.Shift))])]),t._v(" "),a("th",{attrs:{colspan:"2",scope:"col"}},[a("span",[t._v("Total Census:")]),t._v("\n              "+t._s(t.patients.filter(function(t){return t.Unit.trim()==e.Unit_name.trim()}).length)+"\n            ")]),t._v(" "),a("th",{attrs:{colspan:"4",scope:"col"}},[a("p",[a("span",[t._v("Endorsing Charge Nurse:")]),t._v(" "+t._s(e.Endorsing_ChargeNurse)+"\n              ")]),t._v(" "),a("p",[a("span",[t._v("Recieving Charge Nurse:")]),t._v(" "+t._s(e.Receive_ChargeNurse))])]),t._v(" "),a("th",{attrs:{colspan:"2"}})]),t._v(" "),a("tbody",[a("tr",[a("th"),t._v(" "),a("td",{attrs:{colspan:"4"}},[a("span",[t._v("Recieved:")]),t._v(" "+t._s(e.Received))]),t._v(" "),a("td",{attrs:{colspan:"6"}},[a("span",[t._v("Admission:")]),t._v(" "+t._s(e.Admission))]),t._v(" "),a("td",[a("span",[t._v("Transfer In:")]),t._v(" "+t._s(e.Transfer_In))]),t._v(" "),a("td",[a("span",[t._v("Transfer Out:")]),t._v(" "+t._s(e.Transfer_Out))]),t._v(" "),a("td",{attrs:{colspan:"2"}},[a("span",[t._v("Discharged:")]),t._v(" "+t._s(e.Discharge))]),t._v(" "),a("td",{attrs:{colspan:"2"}},[a("span",[t._v("Death:")]),t._v(" "+t._s(e.Death))])]),t._v(" "),t._m(0,!0),t._v(" "),t._l(t.patients.filter(function(t){return e.Unit_name.trim()==t.Unit.trim()}),function(e){return 10!=t.user.Role_id?a("tr",{key:e.id},[a("td",[a("span",[t._v(t._s(e.Room))])]),t._v(" "),a("td",[e.edit?a("input",{directives:[{name:"model",rawName:"v-model",value:e.Patient_FullName,expression:"patient.Patient_FullName"}],attrs:{type:"text"},domProps:{value:e.Patient_FullName},on:{input:function(a){a.target.composing||t.$set(e,"Patient_FullName",a.target.value)}}}):a("span",[t._v(t._s(e.Patient_FullName))])]),t._v(" "),a("td",[e.edit?a("input",{directives:[{name:"model",rawName:"v-model",value:e.Age,expression:"patient.Age"}],attrs:{type:"text"},domProps:{value:e.Age},on:{input:function(a){a.target.composing||t.$set(e,"Age",a.target.value)}}}):a("span",[t._v(t._s(e.Age))])]),t._v(" "),a("td",[e.edit?a("input",{directives:[{name:"model",rawName:"v-model",value:e.Addmission_date,expression:"patient.Addmission_date"}],attrs:{type:"date",max:t.thisday},domProps:{value:e.Addmission_date},on:{input:function(a){a.target.composing||t.$set(e,"Addmission_date",a.target.value)}}}):a("span",[t._v(t._s(e.Addmission_date))]),t._v(" "),a("br"),t._v(" "),e.edit?t._e():a("span",[t._v(t._s(t.LOS(e.Addmission_date)))])]),t._v(" "),a("td",{staticClass:"bigText"},[e.edit&&t.FollowData(e.id).DR_Diagnosis?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).DR_Diagnosis,expression:"FollowData(patient.id).DR_Diagnosis"}],class:12==t.user.Role_id||17==t.user.Role_id?"bg-grey":"",attrs:{disabled:""},domProps:{value:t.FollowData(e.id).DR_Diagnosis},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"DR_Diagnosis",a.target.value)}}}):e.edit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).DR_Diagnosis,expression:"FollowData(patient.id).DR_Diagnosis"}],domProps:{value:t.FollowData(e.id).DR_Diagnosis},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"DR_Diagnosis",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).DR_Diagnosis))])]),t._v(" "),a("td",{staticClass:"bigText"},[e.edit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).DR_ProgressNotes,expression:"FollowData(patient.id).DR_ProgressNotes"}],staticClass:"bg-danger",class:12==t.user.Role_id||17==t.user.Role_id?"bg-grey":"",attrs:{disabled:""},domProps:{value:t.FollowData(e.id).DR_ProgressNotes},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"DR_ProgressNotes",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).DR_ProgressNotes))])]),t._v(" "),a("td",[e.edit?a("select",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id,"Diet_Name").Diet_Name,expression:"FollowData(patient.id, 'Diet_Name').Diet_Name"}],on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.FollowData(e.id,"Diet_Name"),"Diet_Name",a.target.multiple?s:s[0])}}},t._l(t.Diets,function(s){return a("option",{key:s.id,domProps:{value:s.Diet_Name},on:{click:function(a){t.FollowData(e.id).Diet_id=s.id}}},[t._v("\n                    "+t._s(s.Diet_Name)+"\n                  ")])}),0):a("span",[t._v(t._s(t.FollowData(e.id,"Diet_Name").Diet_Name))])]),t._v(" "),a("td",[e.edit?a("select",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id,"Consultation").Consultaion,expression:"FollowData(patient.id, 'Consultation').Consultaion"}],on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.FollowData(e.id,"Consultation"),"Consultaion",a.target.multiple?s:s[0])}}},t._l(t.Specialities.filter(function(t){return e.Specialty.trim()!=t.Spcy_name_En.trim()}),function(s){return a("option",{key:s.Spcy_id,domProps:{value:s.Spcy_id},on:{click:function(a){t.FollowData(e.id).Consultaion=s.Spcy_id}}},[t._v("\n                    "+t._s(s.Spcy_name_En)+"\n                  ")])}),0):t.Specialities.filter(function(a){return a.Spcy_id==t.FollowData(e.id,"Consultation").Consultaion}).length>0?a("span",[t._v("\n                  "+t._s(t.Specialities.filter(function(a){return a.Spcy_id==t.FollowData(e.id,"Consultation").Consultaion})[0].Spcy_name_En))]):t._e()]),t._v(" "),a("td",[e.edit?a("select",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).Pain,expression:"FollowData(patient.id).Pain"}],on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.FollowData(e.id),"Pain",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:"0"}},[t._v("0")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("1")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("2")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("3")]),t._v(" "),a("option",{attrs:{value:"4"}},[t._v("4")]),t._v(" "),a("option",{attrs:{value:"5"}},[t._v("5")]),t._v(" "),a("option",{attrs:{value:"6"}},[t._v("6")]),t._v(" "),a("option",{attrs:{value:"7"}},[t._v("7")]),t._v(" "),a("option",{attrs:{value:"8"}},[t._v("8")]),t._v(" "),a("option",{attrs:{value:"9"}},[t._v("9")]),t._v(" "),a("option",{attrs:{value:"10"}},[t._v("10")])]):a("span",[t._v(t._s(t.FollowData(e.id).Pain))])]),t._v(" "),a("td",{staticClass:"bigText"},[e.edit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).Allergy,expression:"FollowData(patient.id).Allergy"}],domProps:{value:t.FollowData(e.id).Allergy},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"Allergy",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).Allergy))])]),t._v(" "),a("td",[e.edit?a("select",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id,"P_Isolation").P_Isolation,expression:"FollowData(patient.id, 'P_Isolation').P_Isolation"}],on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.FollowData(e.id,"P_Isolation"),"P_Isolation",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:"None"}},[t._v("None")]),t._v(" "),a("option",{attrs:{value:"Contact"}},[t._v("Contact")]),t._v(" "),a("option",{attrs:{value:"Droplet"}},[t._v("Droplet")]),t._v(" "),a("option",{attrs:{value:"Airborn"}},[t._v("Airborn")]),t._v(" "),a("option",{attrs:{value:"Contact Droplet"}},[t._v("Contact Droplet")]),t._v(" "),a("option",{attrs:{value:"Contact Airborn"}},[t._v("Contact Airborn")])]):a("span",[t._v(t._s(t.FollowData(e.id,"P_Isolation").P_Isolation))])]),t._v(" "),a("td",[e.edit?a("select",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id,"Fall").Fall,expression:"FollowData(patient.id, 'Fall').Fall"}],on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.FollowData(e.id,"Fall"),"Fall",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:"None"}},[t._v("None")]),t._v(" "),a("option",{attrs:{value:"F"}},[t._v("F")])]):a("span",[t._v(t._s(t.FollowData(e.id,"Fall").Fall))])]),t._v(" "),a("td",{staticClass:"bigText"},[e.edit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).Investegation_ToDo,expression:"FollowData(patient.id).Investegation_ToDo"}],domProps:{value:t.FollowData(e.id).Investegation_ToDo},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"Investegation_ToDo",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).Investegation_ToDo))])]),t._v(" "),a("td",{staticClass:"bigText"},[e.edit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).Investegation_FollowUp,expression:"FollowData(patient.id).Investegation_FollowUp"}],domProps:{value:t.FollowData(e.id).Investegation_FollowUp},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"Investegation_FollowUp",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).Investegation_FollowUp))])]),t._v(" "),a("td",{staticClass:"bigText"},[e.edit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).Contraptions_Infusions,expression:"FollowData(patient.id).Contraptions_Infusions"}],domProps:{value:t.FollowData(e.id).Contraptions_Infusions},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"Contraptions_Infusions",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).Contraptions_Infusions))])]),t._v(" "),a("td",{staticClass:"bigText"},[e.edit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).Routise_PlanOfCare,expression:"FollowData(patient.id).Routise_PlanOfCare"}],domProps:{value:t.FollowData(e.id).Routise_PlanOfCare},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"Routise_PlanOfCare",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).Routise_PlanOfCare))])]),t._v(" "),a("td",[e.edit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).Surgury_Procedures,expression:"FollowData(patient.id).Surgury_Procedures"}],attrs:{type:"text"},domProps:{value:t.FollowData(e.id).Surgury_Procedures},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"Surgury_Procedures",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).Surgury_Procedures))])]),t._v(" "),a("td",{staticClass:"bigText"},[e.edit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).DR_Consultaion_Progress,expression:"FollowData(patient.id).DR_Consultaion_Progress"}],class:12==t.user.Role_id||17==t.user.Role_id?"bg-grey":"",attrs:{disabled:"",type:"text"},domProps:{value:t.FollowData(e.id).DR_Consultaion_Progress},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"DR_Consultaion_Progress",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).DR_Consultaion_Progress))])]),t._v(" "),t.edits?a("td",[e.edit?a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return a.preventDefault(),t.SaveEdits(e.id)}}},[t._v("\n                  Save\n                ")]):a("button",{staticClass:"btn btn-primary btn-sm shadow",on:{click:function(a){return a.preventDefault(),t.edit(e.id)}}},[t._v("\n                  Edit\n                ")])]):t._e(),t._v(" "),a("td",[a("router-link",{staticClass:"btn btn-info shadow btn-sm",attrs:{to:{name:"Patient Data",params:{id:e.id}},target:"_blank"}},[t._v("Details")])],1)]):t._e()}),t._v(" "),t._l(t.patients.filter(function(t){return e.Unit_name.trim()==t.Unit.trim()}),function(e){return 10==t.user.Role_id&&t.DoctorPatients.filter(function(t){return t.id==e.id}).length>0?a("tr",{key:e.id},[a("td",[a("span",[t._v(t._s(e.Room))])]),t._v(" "),a("td",[e.edit?a("input",{directives:[{name:"model",rawName:"v-model",value:e.Patient_FullName,expression:"patient.Patient_FullName"}],attrs:{type:"text"},domProps:{value:e.Patient_FullName},on:{input:function(a){a.target.composing||t.$set(e,"Patient_FullName",a.target.value)}}}):a("span",[t._v(t._s(e.Patient_FullName))])]),t._v(" "),a("td",[e.edit?a("input",{directives:[{name:"model",rawName:"v-model",value:e.Age,expression:"patient.Age"}],attrs:{type:"text"},domProps:{value:e.Age},on:{input:function(a){a.target.composing||t.$set(e,"Age",a.target.value)}}}):a("span",[t._v(t._s(e.Age))])]),t._v(" "),a("td",[e.edit?a("input",{directives:[{name:"model",rawName:"v-model",value:e.Addmission_date,expression:"patient.Addmission_date"}],attrs:{type:"date",max:t.thisday},domProps:{value:e.Addmission_date},on:{input:function(a){a.target.composing||t.$set(e,"Addmission_date",a.target.value)}}}):a("span",[t._v(t._s(e.Addmission_date))]),t._v(" "),a("br"),t._v(" "),e.edit?t._e():a("span",[t._v(t._s(t.LOS(e.Addmission_date)))])]),t._v(" "),a("td",{staticClass:"bigText"},[e.edit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).DR_Diagnosis,expression:"FollowData(patient.id).DR_Diagnosis"}],domProps:{value:t.FollowData(e.id).DR_Diagnosis},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"DR_Diagnosis",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).DR_Diagnosis))])]),t._v(" "),a("td",{staticClass:"bigText"},[e.edit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).DR_ProgressNotes,expression:"FollowData(patient.id).DR_ProgressNotes"}],domProps:{value:t.FollowData(e.id).DR_ProgressNotes},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"DR_ProgressNotes",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).DR_ProgressNotes))])]),t._v(" "),a("td",[e.edit?a("select",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id,"Diet_Name").Diet_Name,expression:"FollowData(patient.id, 'Diet_Name').Diet_Name"}],on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.FollowData(e.id,"Diet_Name"),"Diet_Name",a.target.multiple?s:s[0])}}},t._l(t.Diets,function(s){return a("option",{key:s.id,domProps:{value:s.Diet_Name},on:{click:function(a){t.FollowData(e.id).Diet_id=s.id}}},[t._v("\n                    "+t._s(s.Diet_Name)+"\n                  ")])}),0):a("span",[t._v(t._s(t.FollowData(e.id,"Diet_Name").Diet_Name))])]),t._v(" "),a("td",[e.edit?a("select",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id,"Consultation").Consultaion,expression:"FollowData(patient.id, 'Consultation').Consultaion"}],on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.FollowData(e.id,"Consultation"),"Consultaion",a.target.multiple?s:s[0])}}},t._l(t.Specialities.filter(function(t){return e.Specialty.trim()!=t.Spcy_name_En.trim()}),function(s){return a("option",{key:s.Spcy_id,domProps:{value:s.Spcy_id},on:{click:function(a){t.FollowData(e.id).Consultaion=s.Spcy_id}}},[t._v("\n                    "+t._s(s.Spcy_name_En)+"\n                  ")])}),0):t.Specialities.filter(function(a){return a.Spcy_id==t.FollowData(e.id,"Consultation").Consultaion}).length>0?a("span",[t._v("\n                  "+t._s(t.Specialities.filter(function(a){return a.Spcy_id==t.FollowData(e.id,"Consultation").Consultaion})[0].Spcy_name_En))]):t._e()]),t._v(" "),a("td",[e.edit?a("select",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).Pain,expression:"FollowData(patient.id).Pain"}],on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.FollowData(e.id),"Pain",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:"0"}},[t._v("0")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("1")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("2")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("3")]),t._v(" "),a("option",{attrs:{value:"4"}},[t._v("4")]),t._v(" "),a("option",{attrs:{value:"5"}},[t._v("5")]),t._v(" "),a("option",{attrs:{value:"6"}},[t._v("6")]),t._v(" "),a("option",{attrs:{value:"7"}},[t._v("7")]),t._v(" "),a("option",{attrs:{value:"8"}},[t._v("8")]),t._v(" "),a("option",{attrs:{value:"9"}},[t._v("9")]),t._v(" "),a("option",{attrs:{value:"10"}},[t._v("10")])]):a("span",[t._v(t._s(t.FollowData(e.id).Pain))])]),t._v(" "),a("td",{staticClass:"bigText"},[e.edit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).Allergy,expression:"FollowData(patient.id).Allergy"}],domProps:{value:t.FollowData(e.id).Allergy},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"Allergy",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).Allergy))])]),t._v(" "),a("td",[e.edit?a("select",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id,"P_Isolation").P_Isolation,expression:"FollowData(patient.id, 'P_Isolation').P_Isolation"}],on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.FollowData(e.id,"P_Isolation"),"P_Isolation",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:"None"}},[t._v("None")]),t._v(" "),a("option",{attrs:{value:"Contact"}},[t._v("Contact")]),t._v(" "),a("option",{attrs:{value:"Droplet"}},[t._v("Droplet")]),t._v(" "),a("option",{attrs:{value:"Airborn"}},[t._v("Airborn")]),t._v(" "),a("option",{attrs:{value:"Contact Droplet"}},[t._v("Contact Droplet")]),t._v(" "),a("option",{attrs:{value:"Contact Airborn"}},[t._v("Contact Airborn")])]):a("span",[t._v(t._s(t.FollowData(e.id,"P_Isolation").P_Isolation))])]),t._v(" "),a("td",[e.edit?a("select",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id,"Fall").Fall,expression:"FollowData(patient.id, 'Fall').Fall"}],on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.FollowData(e.id,"Fall"),"Fall",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:"None"}},[t._v("None")]),t._v(" "),a("option",{attrs:{value:"F"}},[t._v("F")])]):a("span",[t._v(t._s(t.FollowData(e.id,"Fall").Fall))])]),t._v(" "),a("td",{staticClass:"bigText"},[e.edit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).Investegation_ToDo,expression:"FollowData(patient.id).Investegation_ToDo"}],domProps:{value:t.FollowData(e.id).Investegation_ToDo},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"Investegation_ToDo",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).Investegation_ToDo))])]),t._v(" "),a("td",{staticClass:"bigText"},[e.edit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).Investegation_FollowUp,expression:"FollowData(patient.id).Investegation_FollowUp"}],domProps:{value:t.FollowData(e.id).Investegation_FollowUp},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"Investegation_FollowUp",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).Investegation_FollowUp))])]),t._v(" "),a("td",{staticClass:"bigText"},[e.edit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).Contraptions_Infusions,expression:"FollowData(patient.id).Contraptions_Infusions"}],domProps:{value:t.FollowData(e.id).Contraptions_Infusions},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"Contraptions_Infusions",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).Contraptions_Infusions))])]),t._v(" "),a("td",{staticClass:"bigText"},[e.edit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).Routise_PlanOfCare,expression:"FollowData(patient.id).Routise_PlanOfCare"}],domProps:{value:t.FollowData(e.id).Routise_PlanOfCare},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"Routise_PlanOfCare",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).Routise_PlanOfCare))])]),t._v(" "),a("td",[e.edit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).Surgury_Procedures,expression:"FollowData(patient.id).Surgury_Procedures"}],attrs:{type:"text"},domProps:{value:t.FollowData(e.id).Surgury_Procedures},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"Surgury_Procedures",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).Surgury_Procedures))])]),t._v(" "),a("td",{staticClass:"bigText"},[e.edit?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FollowData(e.id).DR_Consultaion_Progress,expression:"FollowData(patient.id).DR_Consultaion_Progress"}],attrs:{type:"text"},domProps:{value:t.FollowData(e.id).DR_Consultaion_Progress},on:{input:function(a){a.target.composing||t.$set(t.FollowData(e.id),"DR_Consultaion_Progress",a.target.value)}}}):a("span",[t._v(t._s(t.FollowData(e.id).DR_Consultaion_Progress))])]),t._v(" "),t.edits?a("td",[e.edit?a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return a.preventDefault(),t.SaveEdits(e.id)}}},[t._v("\n                  Save\n                ")]):a("button",{staticClass:"btn btn-primary btn-sm shadow",on:{click:function(a){return a.preventDefault(),t.edit(e.id)}}},[t._v("\n                  Edit\n                ")])]):t._e(),t._v(" "),a("td",[a("router-link",{staticClass:"btn btn-info shadow btn-sm",attrs:{to:{name:"Patient Data",params:{id:e.id}},target:"_blank"}},[t._v("Details")])],1)]):t._e()})],2),t._v(" "),0==t.patients.filter(function(t){return e.Unit_name.trim()==t.Unit.trim()}).length?a("caption",{staticClass:"text-center"},[t._m(1,!0),t._v(" "),a("router-link",{staticClass:"special-btn",attrs:{to:{name:"Admission Form"}}},[t._v("Admission Form")])],1):t._e()]):t._e()])]):t._e()})],2)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"seperated"},[a("th",[a("span",[t._v("Room")])]),t._v(" "),a("th",[a("span",[t._v("Patient's Name & MR")])]),t._v(" "),a("th",[a("span",[t._v("Age")])]),t._v(" "),a("th",[a("span",[t._v("DOA & LOS")])]),t._v(" "),a("th",{staticClass:"bg-warning"},[a("span",[t._v("Diagnosis")])]),t._v(" "),a("th",{staticClass:"bg-warning"},[a("span",[t._v("Progress Notes")])]),t._v(" "),a("th",[a("span",[t._v("Diet")])]),t._v(" "),a("th",[a("span",[t._v("Consultantion")])]),t._v(" "),a("th",[a("span",[t._v("Pain")])]),t._v(" "),a("th",[a("span",[t._v("Allergy")])]),t._v(" "),a("th",[a("span",[t._v("Isolation")])]),t._v(" "),a("th",[a("span",[t._v("Fall")])]),t._v(" "),a("th",{attrs:{colspan:"2"}},[a("span",[t._v("Investigations")]),t._v(" "),a("div",{staticClass:"cu-flex"},[a("div",[t._v("To Do")]),t._v(" "),a("div",[t._v("Follow Up")])])]),t._v(" "),a("th",[a("span",[t._v("Contraptions & Infusions")])]),t._v(" "),a("th",[a("span",[t._v("Routise plan of care")])]),t._v(" "),a("th",[a("span",[t._v("Surgery, Procedures")])]),t._v(" "),a("th",{staticClass:"bg-warning"},[a("span",[t._v("Progress of consultations")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"mt-5 alert"},[e("i",{staticClass:"fa fa-warning text-warning"}),this._v(" There are no patients at this\n              unit!\n            ")])}]};var gt=a("VU/8")(ft,Ct,!1,function(t){a("/Yz9")},"data-v-36ebb8a0",null).exports,bt={name:"Nurses",props:["link","user","edits","UnitDash"],data:function(){return{Units:[],users:[],Endorsement_Nurse_patients:[],Endoresment_Nurses_Units:[],patients:[],patientDetails:[],path:"",apiUrl:this.link,editCharge:!1}},methods:{popUp:function(t,e){t.patientPop=!1,t[e]=!0,this.patientDetails=A()({},t),setTimeout(function(){$("."+e).addClass("active")},500)},close:function(){this.patientDetails=!1}},watch:{UnitDash:function(){var t=this;this.edits&&17==this.user.Role_id&&this.UnitDash.filter(function(e){return e.Unit_id==t.path}).length>0&&(this.editCharge=!0)}},created:function(){var t=this,e=this;this.path=this.$route.params.id,e.edits&&17==this.user.Role_id&&e.UnitDash.filter(function(e){return e.Unit_id==t.path}).length>0&&(e.editCharge=!0),$.ajax({type:"POST",url:e.apiUrl+"endoresment/Nurses.aspx/getUnitsData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){e.Units=JSON.parse(t.d)}}),$.ajax({type:"POST",url:e.apiUrl+"endoresment/Nurses.aspx/Endorsement_Nurse_patients",contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){e.Endorsement_Nurse_patients=JSON.parse(t.d)}}),$.ajax({type:"POST",url:e.apiUrl+"endoresment/Nurses.aspx/getadminusersData",contentType:"application/json; charset=utf-8",data:n()({user:{Area_id:e.path,Branch_ID:e.user.Branch_ID}}),dataType:"json",success:function(t){e.users=JSON.parse(t.d)}}),$.ajax({type:"POST",url:e.apiUrl+"endoresment/Nurses.aspx/getPatientsData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){e.patients=JSON.parse(t.d)}})}},yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Nurses text-capitalize pt-5"},[a("div",{staticClass:"container"},[a("div",{staticClass:"card shadow m-auto"},[a("div",{staticClass:"row align-items-center p-3"},[a("div",{staticClass:"col-lg-6"},[a("h1",{staticStyle:{"text-decoration":"underline"}},[t._v("\n            "+t._s(t.Units.filter(function(e){return e.U_id==t.path})[0].U_name)+"\n          ")])]),t._v(" "),t.editCharge?a("div",{staticClass:"col-md-6 p-4"},[a("router-link",{staticClass:"btn btn-primary shadow pull-right mt-3",staticStyle:{width:"150px"},attrs:{to:{name:"Edit Nurses",params:{id:t.path}}}},[a("i",{staticClass:"fa fa-pencil-square-o mr-3",attrs:{"aria-hidden":"true"}}),t._v("Edit Nurses\n            List")])],1):t._e()])]),t._v(" "),a("div",{staticClass:"nurses-container border bg-white shadow rounded row"},t._l(t.users,function(e){return a("div",{key:e.Id,staticClass:"mb-3 card bg-light col-md-6 nurse-card"},[a("div",{staticClass:"row"},[a("span",{staticClass:"col-md-8 text-secondary"},[a("i",{staticClass:"fa fa-user-md mr-1 text-primary",attrs:{"aria-hidden":"true"}}),t._v("\n            Nurse Name:\n            "),a("span",{staticClass:"text-dark"},[t._v(t._s(e.FullName))])]),t._v(" "),a("span",{staticClass:"col-lg-4 text-right"},[12!=t.user.Role_id?a("router-link",{staticClass:"text-danger text-right",staticStyle:{"text-decoration":"underline"},attrs:{to:{name:"Nurses Pdf",params:{id:e.Emp_id}}}},[t._v("nurses details PDF")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"row pt-3"},[a("span",{staticClass:"col-lg-12 text-right"},[a("a",{staticClass:"open-pop btn btn-primary text-white shadow patient-view-btn",attrs:{"data-pop-name":"patient-popup"},on:{click:function(a){return a.preventDefault(),t.popUp(e,"patientPop")}}},[t._v("\n              View patients\n            ")])])])])}),0)]),t._v(" "),t.patientDetails?a("div",[1==t.patientDetails.patientPop?a("div",{class:t.patientDetails.patientPop?"patient-popup popup active":"patient-popup popup"},[a("div",{staticClass:"popup-body",staticStyle:{"max-width":"1000px"}},[a("div",{staticClass:"container-fluid custom-form m-auto pb-4",staticStyle:{"max-width":"1000px"}},[a("div",{staticClass:"cu-container"},[a("span",{staticClass:"close-pop",on:{click:t.close}},[t._v("Close")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"social-timeline-card shadow"},[a("div",{staticClass:"card bg-light general info tabcontent active overflow-auto p-3",staticStyle:{"max-height":"380px"}},[a("h4",{staticClass:"text-secondary text-center",staticStyle:{"text-decoration":"underline"}},[t._v("\n                  "+t._s(t.patientDetails.FullName)+"\n                ")]),t._v(" "),t.editCharge?a("div",{staticClass:"text-right mt-3"},[a("router-link",{staticClass:"btn btn-primary shadow",staticStyle:{width:"200px"},attrs:{to:{name:"Edit Patients",params:{id:t.patientDetails.Emp_id}}}},[a("i",{staticClass:"fa fa-pencil-square-o mr-3",attrs:{"aria-hidden":"true"}}),t._v("Edit\n                    patients List")])],1):t._e(),t._v(" "),t.Endorsement_Nurse_patients.filter(function(e){return e.Nurse_id==t.patientDetails.Emp_id}).length>0?a("table",{staticClass:"table table-striped table-bordered shadow mt-3"},[t._m(1),t._v(" "),a("tbody",t._l(t.Endorsement_Nurse_patients.filter(function(e){return e.Nurse_id==t.patientDetails.Emp_id}),function(e,s){return a("tr",{key:e.id},[a("td",[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v("\n                        "+t._s(t.patients.filter(function(t){return t.id==e.Patient_id})[0].Patient_FullName)+"\n                      ")]),t._v(" "),a("td",[t._v("\n                        "+t._s(t.patients.filter(function(t){return t.id==e.Patient_id})[0].Medical_Number)+"\n                      ")]),t._v(" "),a("td",[t._v("\n                        "+t._s(t.patients.filter(function(t){return t.id==e.Patient_id})[0].Age)+"\n                      ")]),t._v(" "),a("td",[t._v("\n                        "+t._s(t.patients.filter(function(t){return t.id==e.Patient_id})[0].Specialty)+"\n                      ")]),t._v(" "),a("td",[t._v("\n                        "+t._s(t.patients.filter(function(t){return t.id==e.Patient_id})[0].Room)+"\n                      ")])])}),0)]):a("div",[t._m(2)])])])])])])]):t._e()]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title text-center text-white mb-5"},[e("span",{staticClass:"bg-secondary shadow pt-2 pb-2 pl-3 pr-3"},[this._v("patients list")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("patient name")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Medical Number")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("age")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Specialty")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("room")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center not-found"},[e("i",{staticClass:"fa fa-warning text-warning"}),this._v("\n                    No avalible data!\n                  ")])}]};var Dt=a("VU/8")(bt,yt,!1,function(t){a("UHTP")},"data-v-4be8080c",null).exports,wt={name:"editNurses",props:["link","user","edits","UnitDash"],data:function(){return{Units:[],users:[],Endoresment_Nurses_Units:[],Nurses:[],path:"",selectedNurse:[],oldNerses:[],filterNurses:[],selectedName:"",Names:[],updateDate:"",newUnitNurse:{Nurse_id:0,Unit_id:0,Entry_user:0,Active:1},apiUrl:this.link}},methods:{filterNames:function(t,e){return t.filter(function(t){return t.FullName.toLowerCase().indexOf(e)>-1})},namesList:function(t){"Enter"==t.key&&this.Names.push(this.selectedName)},OnSubmit:function(){var t=this,e=this,a=A()({},this.newUnitNurse);swal({title:"Are you sure ...",icon:"warning",buttons:!0,dangerMode:!0}).then(function(s){if(s){for(var i=function(s){0==t.Endoresment_Nurses_Units.filter(function(e){return e.Nurse_id==t.selectedNurse[s].id&&e.Unit_id==t.path}).length&&(a.Nurse_id=t.selectedNurse[s].id,a.Unit_id=t.path,a.Entry_user=JSON.parse(localStorage.getItem("user")).Emp_id,a.Active=1,$.ajax({type:"POST",url:e.apiUrl+"endoresment/editNurses.aspx/insertNurseSelection",data:n()({data:a}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(){s==e.selectedNurse.length-1&&(swal({title:"Sweet!",text:"You successfully made your selections ...",icon:"success",dangerMode:1}),location.reload())}}))},r=0;r<t.selectedNurse.length;r++)i(r);var l=e.oldNerses.map(function(t){return t.id}),o=e.selectedNurse.map(function(t){return t.id});if(l.filter(function(t){return!o.includes(t)}).length>0)if(e.filterNurses=l.filter(function(t){return!o.includes(t)}),""==t.updateDate)swal({title:"Error!",text:"Sorry, you should select the update date ! ",icon:"warning",dangerMode:!0});else for(var c=function(a){var s={id:t.Endoresment_Nurses_Units.filter(function(e){return e.Nurse_id==t.filterNurses[a]&&e.Unit_id==t.path})[0].Id,Nurse_id:t.filterNurses[a],Unit_id:t.path,Entry_user:JSON.parse(localStorage.getItem("user")).Emp_id,Last_Update:t.updateDate,Active:0};!function t(){return $.ajax({type:"POST",url:e.apiUrl+"endoresment/editNurses.aspx/updatedNurse",data:n()({detail:s}),contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(){swal({title:"Sending!",text:"Please wait!",buttons:!1,closeOnClickOutside:!1})},success:function(){a==e.filterNurses.length-1&&swal({title:"Sweet!",text:"You successfully updated the selection ...",icon:"success",dangerMode:!0}).then(function(){location.reload()})},error:function(){t()}})}()},d=0;d<t.filterNurses.length;d++)c(d)}else swal({title:"Canceled",text:"Sorry, the selection has been canceled!"})})}},created:function(){var t=this,e=this;this.path=this.$route.params.id,this.updateDate=moment(new Date).format("YYYY-MM-DD"),(this.edits&&0==this.UnitDash.filter(function(e){return e.Unit_id==t.path}).length||0==this.edits)&&this.$router.go(-1),$.ajax({type:"POST",url:e.apiUrl+"endoresment/editNurses.aspx/getUnitsData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){e.Units=JSON.parse(t.d)}}),$.ajax({type:"POST",url:e.apiUrl+"endoresment/editNurses.aspx/getadminusersData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){e.users=JSON.parse(t.d),$.ajax({type:"POST",url:e.apiUrl+"endoresment/editNurses.aspx/getEndoresment_Nurses_UnitsData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){e.Endoresment_Nurses_Units=JSON.parse(t.d),e.selectedNurse=e.Endoresment_Nurses_Units.filter(function(t){return t.Unit_id==e.path}).map(function(t){var a=t.Nurse_id;return t={id:a,name:e.users.filter(function(t){return t.Emp_id==a})[0].FullName}}),e.oldNerses=e.selectedNurse}})}})}},xt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editNurses pt-5"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card bg-light select-form p-4 text-left shadow"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("h1",[t._v(t._s(t.Units.filter(function(e){return e.U_id==t.path})[0].U_name))])]),t._v(" "),a("span",{staticClass:"col-md-6"},[a("button",{staticClass:"btn btn-primary pull-right shadow",on:{click:function(e){return e.preventDefault(),t.OnSubmit(e)}}},[t._v("\n            Submit selection\n          ")])]),t._v(" "),a("span",{staticClass:"col-lg-6"},[a("form",{staticClass:"form-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedName,expression:"selectedName"}],staticClass:"form-control mr-sm-2",staticStyle:{width:"85%"},attrs:{type:"text",placeholder:"Type a nurse name"},domProps:{value:t.selectedName},on:{keyup:t.namesList,keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||(t.selectedName=e.target.value)}}}),t._v(" "),t._m(0)])]),t._v(" "),a("span",{staticClass:"col-md-6 row"},[a("span",{staticClass:"col-md-3 text-right p-0 m-0",staticStyle:{"line-height":"2.1"}},[t._v("Updated Date")]),t._v(" "),a("span",{staticClass:"col-md-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.updateDate,expression:"updateDate"}],staticClass:"form-control",attrs:{type:"date",max:(new Date).toISOString().substring(0,10)},domProps:{value:t.updateDate},on:{input:function(e){e.target.composing||(t.updateDate=e.target.value)}}})])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-7"},[a("h3",{staticClass:"text-info",staticStyle:{"text-decoration":"underline"}},[t._v("\n            Nurses list - "+t._s(t.Units.filter(function(e){return e.U_id==t.path})[0].U_name)+"\n          ")]),t._v(" "),a("div",{staticClass:"card overflow-auto p-3 shadow rounded",staticStyle:{height:"500px"}},t._l(t.filterNames(t.users,t.selectedName.toLowerCase()),function(e,s){return a("div",{key:s+"f",staticClass:"p-2 border-bottom d-flex justify-content-between"},[a("span",{staticClass:"w-50"},[a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedNurse,expression:"selectedNurse"}],staticClass:"rounded bg-dark",staticStyle:{width:"20px",height:"20px"},attrs:{id:e.Emp_id,type:"checkbox",name:"role"},domProps:{value:{id:e.Emp_id,name:e.FullName},checked:Array.isArray(t.selectedNurse)?t._i(t.selectedNurse,{id:e.Emp_id,name:e.FullName})>-1:t.selectedNurse},on:{change:function(a){var s=t.selectedNurse,i=a.target,n=!!i.checked;if(Array.isArray(s)){var r={id:e.Emp_id,name:e.FullName},l=t._i(s,r);i.checked?l<0&&(t.selectedNurse=s.concat([r])):l>-1&&(t.selectedNurse=s.slice(0,l).concat(s.slice(l+1)))}else t.selectedNurse=n}}})]),t._v(" "),a("span",{staticClass:"ml-3"},[a("label",{attrs:{for:e.Emp_id}},[t._v(t._s(e.FullName))])])]),t._v(" "),a("span",{staticClass:"text-secondary text-left"},[a("span",{staticClass:"text-info"},[t._v("ID : ")]),t._v(t._s(e.Emp_id)+"\n              ")]),t._v(" "),t.Endoresment_Nurses_Units.filter(function(t){return t.Nurse_id==e.Emp_id&&1==t.Active}).length>0?a("span",{staticClass:"pull-right text-success"},[t._v("Registered in ..\n                "),t._l(t.Endoresment_Nurses_Units.filter(function(t){return t.Nurse_id==e.Emp_id&&1==t.Active}),function(e,s){return a("span",{key:s},[t._v(t._s(t.Units.filter(function(t){return t.U_id==e.Unit_id})[0].U_name)+"..")])}),t._v("\n                "+t._s())],2):a("span",{staticClass:"pull-right text-danger"},[t._v("Not registered in any unit")])])}),0)]),t._v(" "),a("div",{staticClass:"col-md-5"},[a("h3",{staticClass:"text-info",staticStyle:{"text-decoration":"underline"}},[t._v("\n            Selected nurses - "+t._s(t.Units.filter(function(e){return e.U_id==t.path})[0].U_name)+"\n          ")]),t._v(" "),a("div",{staticClass:"card overflow-auto p-3 shadow rounded",staticStyle:{height:"500px"}},t._l(t.selectedNurse,function(e,s){return a("div",{key:s+"b",staticClass:"pt-2 pb-2 border-bottom"},[a("span",[t._v(t._s(s+1))]),t._v(" "),a("span",{staticClass:"ml-3"},[t._v(t._s(e.name))])])}),0)])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"btn btn-primary shadow pt-1 pb-1 rounded mr-2 text-center",staticStyle:{width:"10%"}},[e("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])}]};var St=a("VU/8")(wt,xt,!1,function(t){a("RV6E")},"data-v-73033e9c",null).exports,Nt={name:"editPatients",props:["link","user"],data:function(){return{Units:[],users:[],Nurse_patients:[],Nurses:[],patients:[],path:"",selectedPatients:[],oldPatients:[],filterPatients:[],selectedName:"",Names:[],updateDate:"",newPatients:{Patient_id:0,Nurse_id:0,Entry_user:0,Bed_id:0,Nurse_name:"",Date_to:""},apiUrl:this.link}},methods:{filterNames:function(t,e){return t.filter(function(t){return t.Patient_FullName.toLowerCase().indexOf(e)>-1})},namesList:function(t){"Enter"==t.key&&this.Names.push(this.selectedName)},OnSubmit:function(){var t=this,e=this,a=A()({},this.newPatients);swal({title:"Are you sure ...",icon:"warning",buttons:!0,dangerMode:!0}).then(function(s){if(s){for(var i=function(s){0==t.Nurse_patients.filter(function(e){return e.Patient_id==t.selectedPatients[s].id&&e.Nurse_id==t.path}).length&&(""==t.updateDate?swal({title:"Error!",text:"Sorry, you should select the update date ! ",icon:"warning",dangerMode:!0}):(a.Patient_id=t.selectedPatients[s].id,a.Nurse_id=t.path,a.Entry_user=JSON.parse(localStorage.getItem("user")).Emp_id,a.Date_from=t.updateDate,a.Bed_id=t.patients.filter(function(e){return e.id==t.selectedPatients[s].id})[0].Bed_id,a.Nurse_name=t.users.filter(function(e){return e.Emp_id==t.path})[0].FullName,$.ajax({type:"POST",url:e.apiUrl+"endoresment/editPatients.aspx/insertPatientsSelection",data:n()({data:a}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(){s==e.selectedPatients.length-1&&(swal({title:"Sweet!",text:"You successfully made your selections ...",icon:"success",dangerMode:1}),location.reload())}})))},r=0;r<t.selectedPatients.length;r++)i(r);var l=e.oldPatients.map(function(t){return t.id}),o=e.selectedPatients.map(function(t){return t.id});if(l.filter(function(t){return!o.includes(t)}).length>0)if(e.filterPatients=l.filter(function(t){return!o.includes(t)}),""==t.updateDate)swal({title:"Error!",text:"Sorry, you should select the update date ! ",icon:"warning",dangerMode:!0});else for(var c=function(a){var s={id:t.Nurse_patients.filter(function(e){return e.Patient_id==t.filterPatients[a]&&e.Nurse_id==t.path})[0].id,Patient_id:t.filterPatients[a],Nurse_id:0,Entry_user:JSON.parse(localStorage.getItem("user")).Emp_id,Date_to:t.updateDate,Bed_id:t.patients.filter(function(e){return e.id==t.filterPatients[a]})[0].Bed_id,Nurse_name:""};$.ajax({type:"POST",url:e.apiUrl+"endoresment/editPatients.aspx/updatedPatient",data:n()({detail:s}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(){a==e.filterPatients.length-1&&swal({title:"Sweet!",text:"You successfully updated the selection ...",icon:"success",dangerMode:!0}).then(function(){location.reload()})}})},d=0;d<t.filterPatients.length;d++)c(d)}else swal({title:"Canceled",text:"Sorry, the selection has been canceled!"})})}},created:function(){var t=this;this.path=this.$router.history.current.path.split("/")[2],this.updateDate=moment(new Date).format("YYYY-MM-DD"),$.ajax({type:"POST",url:t.apiUrl+"endoresment/editPatients.aspx/getPatientsData",contentType:"application/json; charset=utf-8",data:n()({data:{Unit:t.path,Branch_id:t.user.Branch_ID}}),dataType:"json",success:function(e){t.patients=JSON.parse(e.d),$.ajax({type:"POST",url:t.apiUrl+"endoresment/editPatients.aspx/Endorsement_Nurse_patients",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Nurse_patients=JSON.parse(e.d),t.selectedPatients=t.Nurse_patients.filter(function(e){return e.Nurse_id==t.path}).map(function(e){var a=e.Patient_id;return e={id:a,name:t.patients.filter(function(t){return t.id==a})[0].Patient_FullName}}),t.oldPatients=t.selectedPatients}})}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/editPatients.aspx/getadminusersData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.users=JSON.parse(e.d)}})}},Pt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editPatients"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card bg-light select-form p-4 text-left shadow"},[a("div",{staticClass:"row mt-5"},[a("span",{staticClass:"col-md-10"},[a("h3",{staticClass:"text-center",staticStyle:{"text-decoration":"underline"}},[a("span",{staticClass:"text-success"},[t._v("Patient List For / ")]),t._v("\n            "+t._s(t.users.filter(function(e){return e.Emp_id==t.path})[0].FullName)+"\n          ")])]),t._v(" "),a("span",{staticClass:"col-md-2"},[a("button",{staticClass:"btn btn-primary pull-right shadow",on:{click:function(e){return e.preventDefault(),t.OnSubmit(e)}}},[t._v("\n            Submit selection\n          ")])]),t._v(" "),a("span",{staticClass:"col-md-6 mt-0"},[a("form",{staticClass:"form-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedName,expression:"selectedName"}],staticClass:"form-control mr-sm-2",staticStyle:{width:"85%"},attrs:{type:"text",placeholder:"Type a patient name.."},domProps:{value:t.selectedName},on:{keyup:t.namesList,keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||(t.selectedName=e.target.value)}}}),t._v(" "),t._m(0)])]),t._v(" "),a("span",{staticClass:"col-md-6 row mt-0"},[a("span",{staticClass:"col-md-3 text-right p-0 m-0",staticStyle:{"line-height":"2.1"}},[t._v("Updated Date:")]),t._v(" "),a("span",{staticClass:"col-md-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.updateDate,expression:"updateDate"}],staticClass:"form-control",attrs:{type:"date",min:(new Date).toISOString().substring(0,10)},domProps:{value:t.updateDate},on:{input:function(e){e.target.composing||(t.updateDate=e.target.value)}}})])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-7"},[a("h5",{staticClass:"text-info",staticStyle:{"text-decoration":"underline"}},[t._v("\n            Patients list for "+t._s(t.users.filter(function(e){return e.Emp_id==t.path})[0].FullName)+"\n          ")]),t._v(" "),a("div",{staticClass:"card overflow-auto p-3 shadow rounded",staticStyle:{height:"500px"}},t._l(t.filterNames(t.patients,t.selectedName.toLowerCase()),function(e,s){return a("div",{key:s+"f",staticClass:"pt-2 pb-2 border-bottom d-flex justify-content-between"},[a("span",{staticClass:"w-50"},[a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedPatients,expression:"selectedPatients"}],staticClass:"rounded bg-dark",staticStyle:{width:"20px",height:"20px"},attrs:{id:e.id,type:"checkbox",name:"role"},domProps:{value:{id:e.id,name:e.Patient_FullName},checked:Array.isArray(t.selectedPatients)?t._i(t.selectedPatients,{id:e.id,name:e.Patient_FullName})>-1:t.selectedPatients},on:{change:function(a){var s=t.selectedPatients,i=a.target,n=!!i.checked;if(Array.isArray(s)){var r={id:e.id,name:e.Patient_FullName},l=t._i(s,r);i.checked?l<0&&(t.selectedPatients=s.concat([r])):l>-1&&(t.selectedPatients=s.slice(0,l).concat(s.slice(l+1)))}else t.selectedPatients=n}}})]),t._v(" "),a("span",{staticClass:"ml-3"},[a("label",{attrs:{for:e.id}},[t._v(t._s(e.Patient_FullName))])])]),t._v(" "),a("span",{staticClass:"text-left w-25"},[a("span",{staticClass:"text-secondary"},[t._v("Medicl Number : ")]),t._v(t._s(e.Medical_Number))]),t._v(" "),a("span",{staticClass:"text-right w-25"},[a("span",{staticClass:"text-secondary"},[t._v("Room : ")]),a("span",{staticClass:"text-success"},[t._v(t._s(e.Room))])])])}),0)]),t._v(" "),a("div",{staticClass:"col-md-5"},[a("h5",{staticClass:"text-info",staticStyle:{"text-decoration":"underline"}},[t._v("\n            Selected patients with\n            "+t._s(t.users.filter(function(e){return e.Emp_id==t.path})[0].FullName)+"\n          ")]),t._v(" "),a("div",{staticClass:"card overflow-auto p-3 shadow rounded",staticStyle:{height:"500px"}},t._l(t.selectedPatients,function(e,s){return a("div",{key:s+"b",staticClass:"pt-2 pb-2 border-bottom"},[a("span",[t._v(t._s(s+1))]),t._v(" "),a("span",{staticClass:"ml-3"},[t._v(t._s(e.name))])])}),0)])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"btn btn-primary shadow pt-1 pb-1 rounded mr-2 text-center",staticStyle:{width:"10%"}},[e("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])}]};var Ut=a("VU/8")(Nt,Pt,!1,function(t){a("ARCj")},"data-v-6d2a81c2",null).exports,kt={name:"nursesPdf",props:["link","user","edits","UnitDash"],data:function(){return{Units:[],users:[],Endorsement_Nurse_patients:[],Endoresment_Nurses_Units:[],patients:[],ShiftsData:[],month:(new Date).toISOString().slice(0,10).substring(0,7),modal:!1,patientDetails:[],path:"",apiUrl:this.link}},methods:{pdf:function(){var t=document.getElementById("statistics");html2pdf().from(t).set({margin:.3,filename:"pdf-nurse-statistics",image:{type:"jpeg",quality:.98},html2canvas:{dpi:192,letterRendering:!0},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).save()}},watch:{},created:function(){var t=this;this.path=this.$route.params.id,$.ajax({type:"POST",url:t.apiUrl+"endoresment/nursesPdf.aspx/getUnitsData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Units=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/nursesPdf.aspx/Endorsement_Nurse_patients",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Endorsement_Nurse_patients=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/nursesPdf.aspx/getEndoresment_Nurses_UnitsData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Endoresment_Nurses_Units=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/nursesPdf.aspx/getadminusersData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.users=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/nursesPdf.aspx/getPatientsData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.patients=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/nursesPdf.aspx/getshiftsData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.ShiftsData=JSON.parse(e.d)}})}},$t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nursesPdf pt-5"},[a("div",{staticClass:"container"},[a("v-dialog",{ref:"dialog",attrs:{width:"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"card p-5 mb-3",attrs:{label:"Pick a month",readonly:""},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}},"v-text-field",i,!1),s))]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[t._v(" "),a("v-date-picker",{attrs:{type:"month",scrollable:"",color:"green lighten-1"},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1),t._v(" "),a("div",{staticClass:"card bg-white p-5",attrs:{id:"statistics"}},[a("h2",{staticClass:"text-danger text-center"},[t._v("\n        Endoresment Report\n        "),a("span",{staticClass:"text-dark"},[t._v(" "+t._s(t.month))])]),t._v(" "),a("h3",{staticClass:"text-center text-dark"},[t._v("\n        "+t._s(t.users.filter(function(e){return e.Emp_id==t.path})[0].FullName)+"\n      ")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row card shadow mb-4 mt-2"},[t._m(0),t._v(" "),a("div",{staticClass:"collapse show"},[a("div",{staticClass:"card-body"},[t.Endorsement_Nurse_patients.filter(function(e){return e.Nurse_id==t.path&&new Date(e.Date_from)<=new Date(t.month+"-30")&&(new Date(t.month+"-01")<=new Date(e.Date_to)||new Date(e.Date_to)>new Date)}).length>0?a("table",{staticClass:"table bg-white shadow-sm table-bordered",staticStyle:{"font-size":"16px"}},[t._m(1),t._v(" "),a("tbody",{staticClass:"text-secondary"},t._l(t.Endorsement_Nurse_patients.filter(function(e){return e.Nurse_id==t.path&&new Date(e.Date_from)<=new Date(t.month+"-30")&&(new Date(t.month+"-01")<=new Date(e.Date_to.substr(0,10))||new Date(e.Date_to)>new Date)}),function(e){return a("tr",{key:e.id},[a("td",[t._v("\n                    "+t._s(t.patients.filter(function(t){return t.id==e.Patient_id})[0].Patient_FullName)+"\n                  ")]),t._v(" "),a("td",[t._v(t._s(e.Date_from.substr(0,10)))]),t._v(" "),e.Date_to.length>0?a("td",[t._v("\n                    "+t._s(e.Date_to.substr(0,10))+"\n                  ")]):a("td",[t._v("Tell Now")])])}),0)]):t.Endorsement_Nurse_patients.filter(function(e){return e.Nurse_id==t.path&&new Date(e.Date_from).toISOString().slice(0,7)==t.month&&e.Date_to.trim().substr(0,10)==(new Date).toISOString().substr(0,10)}).length>0?a("table",{staticClass:"table bg-white shadow-sm table-bordered",staticStyle:{"font-size":"16px"}},[t._m(2),t._v(" "),a("tbody",{staticClass:"text-secondary"},t._l(t.Endorsement_Nurse_patients.filter(function(e){return e.Nurse_id==t.path&&new Date(e.Date_from).toISOString().slice(0,7)==t.month&&e.Date_to.trim().substr(0,10)==(new Date).toISOString().substr(0,10)}),function(e){return a("tr",{key:e.id},[a("td",[t._v("\n                    "+t._s(t.patients.filter(function(t){return t.id==e.Patient_id})[0].Patient_FullName)+"\n                  ")]),t._v(" "),a("td",[t._v(t._s(e.Date_from.split(" ")[0]))]),t._v(" "),e.Date_to.length>0?a("td",[t._v(t._s(e.Date_to))]):a("td",[t._v("Tell Now")])])}),0)]):a("div",{staticClass:"text-secondary text-center"},[a("i",{staticClass:"fa fa-exclamation-triangle text-warning mr-2",attrs:{"aria-hidden":"true"}}),t._v("no data avaliable\n            ")])])])]),t._v(" "),a("div",{staticClass:"row card shadow mb-4"},[t._m(3),t._v(" "),a("div",{staticClass:"collapse show"},[a("div",{staticClass:"card-body"},[t.ShiftsData.filter(function(e){return e.Nurse_id==t.path&&new Date(e.Shift_date).toISOString().slice(0,7)==t.month}).length>0?a("div",[a("table",{staticClass:"table bg-white shadow-sm table-bordered",staticStyle:{"font-size":"16px"}},[t._m(4),t._v(" "),a("tbody",{staticClass:"text-secondary"},t._l(t.ShiftsData.filter(function(e){return e.Nurse_id==t.path&&new Date(e.Shift_date).toISOString().slice(0,7)==t.month}),function(e){return a("tr",{key:e.id},[a("td",[t._v("\n                      "+t._s(t.Units.filter(function(t){return t.U_id==e.Unit_id})[0].U_name)+"\n                    ")]),t._v(" "),a("td",[t._v(t._s(e.Receive_name))]),t._v(" "),a("td",[t._v(t._s(e.Shift))]),t._v(" "),a("td",[t._v(t._s(e.Shift_date.substr(0,10)))]),t._v(" "),0==e.Confirm?a("td",{staticClass:"text-danger"},[t._v("Not Confirmed")]):a("td",[t._v("Confirmed")]),t._v(" "),0==e.Completed?a("td",{staticClass:"text-danger"},[t._v("\n                      Not Completed\n                    ")]):a("td",[t._v("Completed")])])}),0)])]):a("div",{staticClass:"text-secondary text-center"},[a("i",{staticClass:"fa fa-exclamation-triangle text-warning mr-2",attrs:{"aria-hidden":"true"}}),t._v("no data avaliable\n            ")])])])]),t._v(" "),a("div",{staticClass:"row card shadow"},[t._m(5),t._v(" "),a("div",{staticClass:"collapse show"},[a("div",{staticClass:"card-body"},[t.Endoresment_Nurses_Units.filter(function(e){return e.Nurse_id==t.path&&new Date(e.Entry_date).toISOString().slice(0,7)==t.month}).length>0?a("table",{staticClass:"table bg-white shadow-sm table-bordered",staticStyle:{"font-size":"16px"}},[t._m(6),t._v(" "),a("tbody",{staticClass:"text-secondary"},t._l(t.Endoresment_Nurses_Units.filter(function(e){return e.Nurse_id==t.path&&new Date(e.Entry_date).toISOString().slice(0,7)==t.month}),function(e){return a("tr",{key:e.Id},[a("td",[t._v("\n                    "+t._s(t.Units.filter(function(t){return t.U_id==e.Unit_id})[0].U_name)+"\n                  ")]),t._v(" "),a("td",[t._v("\n                    "+t._s(t.users.filter(function(t){return t.Emp_id==e.Entry_user})[0].FullName)+"\n                  ")]),t._v(" "),0==e.Last_Update.length?a("td",{staticClass:"text-danger"},[t._v("\n                    No Date Registered\n                  ")]):e.Last_Update.length>0?a("td",[t._v("\n                    "+t._s(e.Last_Update)+"\n                  ")]):t._e(),t._v(" "),0==e.Active?a("td",[t._v("Not Registered In The Unit")]):1==e.Active?a("td",[t._v("still working in the unit")]):t._e()])}),0)]):a("div",{staticClass:"text-secondary text-center"},[a("i",{staticClass:"fa fa-exclamation-triangle text-warning mr-2",attrs:{"aria-hidden":"true"}}),t._v("no data avaliable\n            ")])])])])]),t._v(" "),a("div",{staticClass:"d-flex justify-content-center mt-4"},[a("button",{staticClass:"btn btn-danger",staticStyle:{width:"100px"},on:{click:function(e){return e.preventDefault(),t.pdf(e)}}},[t._v("\n        get PDF\n      ")])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header",attrs:{id:"patients"}},[e("h3",{staticClass:"text-primary"},[this._v("Patients ....")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("Patient")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("From")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("To")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("Patient")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("From")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("To")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header",attrs:{id:"shifts"}},[e("h3",{staticClass:"text-primary"},[this._v("Shifts ....")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Unit")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Received From")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Type")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Shift Date")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Confirmed")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Completed")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header",attrs:{id:"units"}},[e("h3",{staticClass:"text-primary"},[this._v("Units ....")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("unit")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Updated By")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Updated Date")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Status")])])])}]};var Tt=a("VU/8")(kt,$t,!1,function(t){a("TH8/")},"data-v-48f944e8",null).exports,Et={name:"Nursing_schedule",props:["link","user"],data:function(){return{apiUrl:this.link,Units:[],adminusers:[],displayNurses:[],today:"",newSchdule:{Date:"",Shift:"",Unit_id:0,Unit_name:"",Nurse_id:0,Nurse_role:0,Nurse_name:""}}},watch:{"newSchdule.Unit_id":function(){var t=this;this.displayNurses=this.adminusers.filter(function(e){return e.Area_id==t.newSchdule.Unit_id})}},methods:{InsertPatient:function(){if($("form").is(":valid")){var t=this;t.newSchdule.Unit_name=t.Units.filter(function(e){return e.U_id==t.newSchdule.Unit_id})[0].U_name,t.newSchdule.Nurse_name=t.adminusers.filter(function(e){return e.Emp_id==t.newSchdule.Nurse_id})[0].FullName,$.ajax({type:"POST",url:t.apiUrl+"endoresment/Nursing_schedule.aspx/newSchdule",data:n()({data:t.newSchdule}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){swal({title:"Done!",text:"You successfully added a new schedule ...",icon:"success"})}})}else swal({icon:"warning",dangerMode:!0,text:"Please Fill All Fields!"})}},created:function(){var t=this;t.today=moment(new Date).format("YYYY-MM-DD"),$.ajax({type:"POST",url:t.apiUrl+"endoresment/Nursing_schedule.aspx/getUnitsData",data:n()({branch:{id:t.user.Branch_ID}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Units=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/Nursing_schedule.aspx/getadminusersData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.adminusers=JSON.parse(e.d)}})}},At={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Nursing_schedule"},[t._m(0),t._v(" "),a("div",{staticClass:"internal-page",attrs:{id:"auth"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.InsertPatient(e)}}},[a("div",{staticClass:"custom-form pt-3"},[a("div",{staticClass:"cu-container"},[a("div",{staticClass:"cu-form-group special",staticStyle:{"max-width":"900px"}},[t._m(1),t._v(" "),a("div",{staticClass:"cu-field"},[t._m(2),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-calendar-o"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newSchdule.Date,expression:"newSchdule.Date"}],attrs:{min:t.today,type:"date",required:""},domProps:{value:t.newSchdule.Date},on:{input:function(e){e.target.composing||t.$set(t.newSchdule,"Date",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"cu-field"},[t._m(3),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.newSchdule.Shift,expression:"newSchdule.Shift"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newSchdule,"Shift",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"Day"}},[t._v("Day")]),t._v(" "),a("option",{attrs:{value:"Night"}},[t._v("Night")])])])]),t._v(" "),a("div",{staticClass:"cu-field"},[t._m(4),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.newSchdule.Unit_id,expression:"newSchdule.Unit_id"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newSchdule,"Unit_id",e.target.multiple?a:a[0])}}},t._l(t.Units,function(e){return a("option",{key:e.U_name,domProps:{value:e.U_id}},[t._v("\n                    "+t._s(e.U_name)+"\n                  ")])}),0)])]),t._v(" "),a("div",{staticClass:"cu-field radio-group"},[a("div",{staticClass:"row align-items-end"},[a("div",{staticClass:"col-md-6"},[t._m(5),t._v(" "),a("div",{staticClass:"cu-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newSchdule.Nurse_role,expression:"newSchdule.Nurse_role"}],attrs:{id:"Charge",type:"radio",name:"nurse",value:"17",required:""},domProps:{checked:t._q(t.newSchdule.Nurse_role,"17")},on:{change:function(e){return t.$set(t.newSchdule,"Nurse_role","17")}}}),t._v(" "),t._m(6)])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newSchdule.Nurse_role,expression:"newSchdule.Nurse_role"}],attrs:{id:"Staff",type:"radio",name:"nurse",value:"12",required:""},domProps:{checked:t._q(t.newSchdule.Nurse_role,"12")},on:{change:function(e){return t.$set(t.newSchdule,"Nurse_role","12")}}}),t._v(" "),t._m(7)])])])]),t._v(" "),12==t.newSchdule.Nurse_role?a("div",{staticClass:"cu-field"},[t._m(8),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.newSchdule.Nurse_id,expression:"newSchdule.Nurse_id"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newSchdule,"Nurse_id",e.target.multiple?a:a[0])}}},t._l(t.displayNurses.filter(function(t){return 12==t.Role_id}),function(e){return a("option",{key:e.Emp_id,domProps:{value:e.Emp_id}},[t._v("\n                    "+t._s(e.FullName)+"\n                  ")])}),0)])]):t._e(),t._v(" "),17==t.newSchdule.Nurse_role?a("div",{staticClass:"cu-field"},[t._m(9),t._v(" "),a("div",{staticClass:"f-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.newSchdule.Nurse_id,expression:"newSchdule.Nurse_id"}],staticClass:"form-control form-control-sm",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newSchdule,"Nurse_id",e.target.multiple?a:a[0])}}},t._l(t.displayNurses.filter(function(t){return 17==t.Role_id}),function(e){return a("option",{key:e.Emp_id,domProps:{value:e.Emp_id}},[t._v("\n                    "+t._s(e.FullName)+"\n                  ")])}),0)])]):t._e(),t._v(" "),t._m(10)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-wave"},[e("div",{staticClass:"wave"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",[e("i",{staticClass:"fa fa-hospital-o mainColor mr-1"}),this._v("Nursing_schedule")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Select Date :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Select Shift :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Select Unit :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cu-field"},[e("h3",{staticClass:"cu-label"},[e("label",[this._v("Nurse Type")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"Charge"}},[e("div",{staticClass:"cu-input cu-radio normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("Charge Nurse")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"Staff"}},[e("div",{staticClass:"cu-input cu-radio normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("Staff Nurse")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Select Staff Nurse :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Select Charge Nurse :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("button",{staticClass:"special-btn"},[this._v("Save")])])}]};var Ft=a("VU/8")(Et,At,!1,function(t){a("A27Q")},"data-v-40df776a",null).exports,Rt={name:"display_schdule",props:["link","user"],directives:{dragscroll:ht.dragscroll},data:function(){return{apiUrl:this.link,items:["All","Nurses","Charge Nurses"],filtered:"All",Units:[],adminusers:[],Nurses:[],displayed:[],Endorsement_Nursing_schedule:[],displayTable:!1,date:"",month:"",unit:0,shift:"",monthCalendar:[],selectedMonth:[],dialog:!1,modal:!1}},methods:{monthDays:function(){swal({title:"Preparing table!",text:"Please wait!",buttons:!1,closeOnClickOutside:!1}),this.monthCalendar=function(t){for(var e=[],a=moment(t,"YYYY-MM"),s=moment(a).add(1,"month");a.isBefore(s);a.add(1,"day"))e.push({fullDate:a.format("YYYY-MM-DD"),day:a.format("D-ddd")});return e}(this.month),this.date=moment(this.month).format("MMMM-YYYY");var t=this;$.ajax({type:"POST",url:t.apiUrl+"endoresment/display_schdule.aspx/getEndorsement_Nursing_scheduleData",contentType:"application/json; charset=utf-8",data:n()({unit:{U_id:t.unit}}),dataType:"json",success:function(e){t.Endorsement_Nursing_schedule=JSON.parse(e.d),t.selectedMonth=t.Endorsement_Nursing_schedule,t.displayTable=!0,$.ajax({type:"POST",url:t.apiUrl+"endoresment/display_schdule.aspx/getadminusersData",data:n()({data:{Area_id:t.unit}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.adminusers=JSON.parse(e.d),t.tableData()}})}})},tableData:function(){this.Nurses=this.adminusers;var t=this;t.Nurses.map(function(e,a){e.shifts=[],e.Total=0,e.Nurse_name=e.FullName,e.Nurse_role=e.Role_id,e.Nurse_id=e.Emp_id,e.Unit_id=t.unit,e.Unit_name=t.Units.filter(function(e){return e.U_id==t.unit})[0].U_name,t.monthCalendar.map(function(a){var s={};s.name=a.day,t.Endorsement_Nursing_schedule.filter(function(t){return t.Nurse_name==e.FullName&&a.fullDate.trim()==t.Date.trim()}).length>0?(s.shift=t.Endorsement_Nursing_schedule.filter(function(t){return t.Nurse_name==e.FullName&&a.fullDate.trim()==t.Date.trim()})[0].Shift.trim(),s.work=!0,e.Total++):(s.shift="",s.work=!1),s.fullDate=a.fullDate,e.shifts.push(s)}),a==t.Nurses.length-1&&(t.displayed=t.Nurses.sort(function(t,e){return t.Role_id<e.Role_id}),t.filterTable())}),swal.close()},filterTable:function(){"All"==this.filtered?this.displayed=this.Nurses.sort(function(t,e){return t.Role_id<e.Role_id}):"Nurses"==this.filtered?this.displayed=this.Nurses.filter(function(t){return 12==t.Nurse_role}):this.displayed=this.Nurses.filter(function(t){return 17==t.Nurse_role})},edit:function(){swal({title:"Updating!",text:"Please wait!",buttons:!1,closeOnClickOutside:!1});for(var t=0,e=this.displayed.length*this.displayed[0].shifts.length,a=0;a<this.displayed.length;a++)for(var s=0;s<this.displayed[a].shifts.length;s++){t++,console.log(t);var i=this.displayed[a].shifts[s],r={Date:i.fullDate,Shift:i.shift,Unit_id:this.displayed[a].Unit_id,Unit_name:this.displayed[a].Unit_name,Nurse_role:this.displayed[a].Nurse_role,Nurse_name:this.displayed[a].Nurse_name,Nurse_id:this.displayed[a].Nurse_id};i.shift.length>0&&i.work?$.ajax({type:"POST",url:this.apiUrl+"endoresment/Nursing_schedule.aspx/updateSchdule",data:n()({data:r}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){t==e&&swal({title:"Done!",text:"You successfully updated scheduled shifts!",icon:"success"}).then(function(t){$(".modal").modal("hide"),location.reload()})}}):i.shift.length>0&&0==i.work?$.ajax({type:"POST",url:this.apiUrl+"endoresment/Nursing_schedule.aspx/newSchdule",data:n()({data:r}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){t==e&&swal({title:"Done!",text:"You successfully updated scheduled shifts!",icon:"success"}).then(function(t){$(".modal").modal("hide"),location.reload()})}}):t==e&&swal({title:"Done!",text:"You successfully updated scheduled shifts!",icon:"success"}).then(function(t){$(".modal").modal("hide"),location.reload()})}}},created:function(){var t=this;t.month=(new Date).toISOString().substr(0,10),this.monthCalendar=function(t){for(var e=[],a=moment(t,"YYYY-MM"),s=moment(a).add(1,"month");a.isBefore(s);a.add(1,"day"))e.push({fullDate:a.format("YYYY-MM-DD"),day:a.format("D-ddd")});return e}(this.month),this.date=moment(this.month).format("MMMM-YYYY"),$.ajax({type:"POST",url:t.apiUrl+"endoresment/display_schdule.aspx/getUnitsData",data:n()({branch:{id:t.user.Branch_ID}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Units=JSON.parse(e.d),t.unit=17!=t.user.Role_id?t.Units[0].U_id:t.user.Area_id,$.ajax({type:"POST",url:t.apiUrl+"endoresment/display_schdule.aspx/getEndorsement_Nursing_scheduleData",contentType:"application/json; charset=utf-8",data:n()({unit:{U_id:t.unit}}),dataType:"json",success:function(e){t.Endorsement_Nursing_schedule=JSON.parse(e.d),t.selectedMonth=t.Endorsement_Nursing_schedule,t.displayTable=!0,$.ajax({type:"POST",url:t.apiUrl+"endoresment/display_schdule.aspx/getadminusersData",data:n()({data:{Area_id:t.unit}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.adminusers=JSON.parse(e.d),t.tableData()}})}})}})}},Mt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"display_schdule"},[a("div",{staticClass:"internal-page"},[a("form",[a("div",{staticClass:"container-fluid pt-5"},[a("div",{staticClass:"card shadow"},[a("div",{staticClass:"row p-4 align-items-center"},[a("div",{staticClass:"col-lg-4 col-md-6"},[a("v-dialog",{ref:"dialog",attrs:{width:"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Pick a month",readonly:""},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}},"v-text-field",i,!1),s))]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[t._v(" "),a("v-date-picker",{attrs:{type:"month",scrollable:"",color:"green lighten-1"},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1)],1),t._v(" "),17!=t.user.Role_id?a("div",{staticClass:"col-lg-4 col-md-6"},[a("div",{staticClass:"cu-field"},[a("v-select",{attrs:{items:t.Units,"item-text":"U_name","item-value":"U_id",label:"Select Unit",name:"unit"},model:{value:t.unit,callback:function(e){t.unit=e},expression:"unit"}})],1)]):t._e(),t._v(" "),a("div",{staticClass:"col-lg-4 col-md-6"},[a("v-select",{attrs:{items:t.items,label:"Filter"},on:{change:function(e){return t.filterTable()}},model:{value:t.filtered,callback:function(e){t.filtered=e},expression:"filtered"}})],1)]),t._v(" "),a("div",{staticClass:"text-center mt-0"},[a("button",{staticClass:"special-btn shadow mt-0",on:{click:function(e){return e.preventDefault(),t.monthDays(e)}}},[t._v("\n              Display Nursing Schedule\n            ")])]),t._v(" "),19==t.user.Role_id||18==t.user.Role_id||17==t.user.Role_id?a("v-btn",{staticClass:"mx-2",attrs:{fab:"",bottom:"",left:"",absolute:"",dark:"",big:"",color:"green accent-3","data-toggle":"modal","data-target":"#exampleModalCenter"}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-pencil ")])],1):t._e()],1)]),t._v(" "),a("div",{staticClass:"container-fluid pt-5 pb-5"},[a("div",{staticClass:"card shadow p-3"},[a("v-simple-table",{attrs:{"fixed-header":"",height:"350px"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("Staff Name")]),t._v(" "),a("th",[t._v("ID")]),t._v(" "),t._l(t.monthCalendar,function(e,s){return a("th",{key:e.day,staticClass:"text-center pl-1 pr-1",class:"Fri"==e.day.substr(-3,3)?"bg-grey":"bg-white"},[a("span",{staticClass:"d-block"},[t._v(t._s(s+1))]),t._v(" "),a("span",{staticClass:"d-block"},[t._v(t._s(e.day.substr(-3,3)))])])}),t._v(" "),a("th",{staticClass:"bg-primary text-white"},[t._v("Total")])],2)]),t._v(" "),t.displayed.length>0?a("tbody",t._l(t.displayed,function(e,s){return a("tr",{key:e.Nurse_id},[17==e.Role_id?a("td",{staticStyle:{"background-color":"#fff7c1"}},[t._v("\n                    "+t._s(s+1)+"\n                  ")]):a("td",[t._v(t._s(s+1))]),t._v(" "),17==e.Role_id?a("td",{staticStyle:{"min-width":"120px","background-color":"#fff7c1"}},[t._v("\n                    "+t._s(e.Nurse_name)+"\n                  ")]):a("td",{staticStyle:{"min-width":"120px"}},[t._v("\n                    "+t._s(e.Nurse_name)+"\n                  ")]),t._v(" "),17==e.Role_id?a("td",{staticStyle:{"background-color":"#fff7c1"}},[t._v("\n                    "+t._s(e.Nurse_id)+"\n                  ")]):a("td",[t._v(t._s(e.Nurse_id))]),t._v(" "),t._l(e.shifts,function(e){return a("td",{key:e.fullDate},[a("span",{staticClass:"calendar-span",class:e.shift?"bg-success":"Fri"!=e.name.substr(-3,3)?"bg-light border":"bg-grey"},[t._v(t._s(e.shift.substr(0,1)))])])}),t._v(" "),a("td",{staticClass:"bg-primary text-white text-center"},[t._v(t._s(e.Total))])],2)}),0):t._e()]},proxy:!0}])})],1)])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"exampleModalCenter",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg modal-dialog-centered",staticStyle:{"max-width":"1300px","margin-top":"120px"},attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid pt-5 pb-5"},[a("div",{staticClass:"card shadow p-3"},[a("v-simple-table",{attrs:{"fixed-header":"",height:"350px"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("Staff Name")]),t._v(" "),a("th",[t._v("ID")]),t._v(" "),t._l(t.monthCalendar,function(e,s){return a("th",{key:"i"+e.day,staticClass:"text-center pl-1 pr-1",class:"Fri"==e.day.substr(-3,3)?"bg-grey":"bg-white"},[a("span",{staticClass:"d-block"},[t._v(t._s(s+1))]),t._v(" "),a("span",{staticClass:"d-block"},[t._v(t._s(e.day.substr(-3,3)))])])}),t._v(" "),a("th",{staticClass:"bg-primary text-white"},[t._v("Total")])],2)]),t._v(" "),a("tbody",{directives:[{name:"show",rawName:"v-show",value:t.displayed.length>0,expression:"displayed.length > 0"}]},[t._l(t.displayed,function(e,s){return 19==t.user.Role_id||18==t.user.Role_id?a("tr",{key:"i"+e.Nurse_id},[a("td",[t._v(t._s(s+1))]),t._v(" "),a("td",{staticStyle:{"min-width":"120px"}},[t._v(t._s(e.Nurse_name))]),t._v(" "),a("td",[t._v(t._s(e.Nurse_id))]),t._v(" "),t._l(e.shifts,function(e){return a("td",{key:"i"+e.fullDate},[a("v-select",{class:""==e.shift?"text-secondary":"text-success",attrs:{items:[{name:"Day",val:"Day"},{name:"Night",val:"Night"},{name:"None",val:""}],"item-text":"name","item-value":"val"},model:{value:e.shift,callback:function(a){t.$set(e,"shift",a)},expression:"shift.shift"}})],1)}),t._v(" "),a("td",{staticClass:"bg-primary text-white text-center"},[t._v("\n                        "+t._s(e.Total)+"\n                      ")])],2):t._e()}),t._v(" "),t._l(t.Nurses.filter(function(t){return 12==t.Nurse_role}),function(e,s){return 17==t.user.Role_id?a("tr",{key:"i"+e.Nurse_id},[a("td",[t._v(t._s(s+1))]),t._v(" "),a("td",{staticStyle:{"min-width":"120px"}},[t._v(t._s(e.Nurse_name))]),t._v(" "),a("td",[t._v(t._s(e.Nurse_id))]),t._v(" "),t._l(e.shifts,function(e){return a("td",{key:"i"+e.fullDate},[a("v-select",{class:""==e.shift?"text-secondary":"text-success",attrs:{items:[{name:"Day",val:"Day"},{name:"Night",val:"Night"},{name:"None",val:""}],"item-text":"name","item-value":"val"},model:{value:e.shift,callback:function(a){t.$set(e,"shift",a)},expression:"shift.shift"}})],1)}),t._v(" "),a("td",{staticClass:"bg-primary text-white text-center"},[t._v("\n                        "+t._s(e.Total)+"\n                      ")])],2):t._e()})],2)]},proxy:!0}])}),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary shadow",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n                  Close\n                ")]),t._v(" "),a("button",{staticClass:"btn btn-primary shadow",attrs:{type:"button"},on:{click:function(e){return t.edit()}}},[t._v("\n                  Edit\n                ")])])],1)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[e("i",{staticClass:"fa fa-edit text-success"}),this._v("\n            Edit Schedule\n          ")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var jt=a("VU/8")(Rt,Mt,!1,function(t){a("7RTq")},"data-v-538491a2",null).exports,Ot={name:"doctorInfo",props:["link","user"],data:function(){return{apiUrl:this.link,Units:[],Branches:[],Specialities:[],Doctors_Data:[],Doctors_Shifts:[],PatientsData:[],PatientFollow:[],month:"",Special:40,doctorType:"Resident",Branch:1,filterData:[],selectedName:"",Names:[]}},watch:{month:function(){this.shiftData()},Special:function(){this.shiftData()}},methods:{shiftData:function(){var t=this;$.ajax({type:"POST",url:t.apiUrl+"endoresment/doctorInfo.aspx/getDoctors_ShiftsData",data:n()({shift:{Branch_id:t.user.Branch_ID,Spcy_id:t.Special,Shift_date:t.month+"-01",endDate:moment(t.month).add(1,"Month").format("YYYY-MM-DD")}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Doctors_Shifts=JSON.parse(e.d)}})},filterNames:function(t,e){return t.filter(function(t){return t.DR_Name.toLowerCase().indexOf(e)>-1})},namesList:function(t){"Enter"==t.key&&this.Names.push(this.selectedName)},pdf:function(){var t=document.getElementById("statistics");html2pdf().from(t).set({margin:.5,filename:"pdf-nurse-statistics",image:{type:"jpeg",quality:.98},html2canvas:{dpi:192,letterRendering:!0},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).save()}},created:function(){var t=this;t.today=moment(new Date).format("YYYY-MM-DD"),t.month=(new Date).toISOString().substr(0,7),$.ajax({type:"POST",url:t.apiUrl+"endoresment/doctorInfo.aspx/getBranchesData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Branches=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/doctorInfo.aspx/getUnitsData",data:n()({branch:{id:t.user.Branch_ID}}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Units=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/doctorInfo.aspx/getPatientFollowData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.PatientFollow=JSON.parse(e.d),t.PatientFollow.map(function(t){return t.Entry_date=moment(t.Entry_date.substr(0,10)).format("YYYY-MM-DD")})}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/doctorInfo.aspx/getSpecialitiesData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Specialities=JSON.parse(e.d)}}),$.ajax({type:"POST",url:t.apiUrl+"endoresment/doctorInfo.aspx/getdoctorsData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.Doctors_Data=JSON.parse(e.d)}}),t.shiftData(),$.ajax({type:"POST",url:t.apiUrl+"endoresment/doctorInfo.aspx/getPatientsData",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){t.PatientsData=JSON.parse(e.d)}})}},It={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"doctorInfo"},[t._m(0),t._v(" "),a("div",{staticClass:"internal-page",attrs:{id:"auth"}},[a("form",{staticClass:"mb-0"},[a("div",{staticClass:"custom-form pt-3"},[a("div",{staticClass:"cu-container"},[a("div",{staticClass:"cu-form-group special shadow",staticStyle:{"max-width":"900px"}},[t._m(1),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 mt-5"},[a("div",{staticClass:"cu-field"},[t._m(2),t._v(" "),a("div",{staticClass:"f-select bg-white"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.Branch,expression:"Branch"}],staticClass:"form-control form-control-sm",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.Branch=e.target.multiple?a:a[0]}}},t._l(t.Branches,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                        "+t._s(e.Branch_EName)+"\n                      ")])}),0)])]),t._v(" "),a("div",{staticClass:"cu-field"},[t._m(3),t._v(" "),a("div",{staticClass:"f-select bg-white"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.Special,expression:"Special"}],staticClass:"form-control form-control-sm",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.Special=e.target.multiple?a:a[0]}}},t._l(t.Specialities,function(e){return a("option",{key:e.Spcy_id,domProps:{value:e.Spcy_id}},[t._v("\n                        "+t._s(e.Spcy_name_En)+"\n                      ")])}),0)])]),t._v(" "),a("div",{staticClass:"cu-field radio-group"},[a("div",{staticClass:"row align-items-end"},[a("div",{staticClass:"col-md-6"},[t._m(4),t._v(" "),a("div",{staticClass:"cu-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.doctorType,expression:"doctorType"}],attrs:{id:"Resident",type:"radio",name:"doctor",value:"Resident",required:""},domProps:{checked:t._q(t.doctorType,"Resident")},on:{change:function(e){t.doctorType="Resident"}}}),t._v(" "),t._m(5)])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"cu-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.doctorType,expression:"doctorType"}],attrs:{id:"Consultant",type:"radio",name:"doctor",value:"Consultant",required:""},domProps:{checked:t._q(t.doctorType,"Consultant")},on:{change:function(e){t.doctorType="Consultant"}}}),t._v(" "),t._m(6)])])])])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",[a("v-row",{staticClass:"mt-3 mb-3",attrs:{justify:"center"}},[a("v-date-picker",{staticClass:"bg-primary shadow m-auto",attrs:{type:"month"},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1)],1)])])])])])]),t._v(" "),a("form",{staticClass:"mt-0"},[a("div",{staticClass:"custom-form pt-3 mt-0"},[a("div",{staticClass:"cu-container mt-0"},[a("div",{staticClass:"cu-form-group special mt-0",staticStyle:{"max-width":"1000px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"cu-field"},[t._m(7),t._v(" "),a("div",{staticClass:"cu-input text-box"},[a("span",{staticClass:"fa fa-search"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedName,expression:"selectedName"}],attrs:{type:"text"},domProps:{value:t.selectedName},on:{keyup:t.namesList,keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||(t.selectedName=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"w-100 h-100 d-flex justify-content-center"},[a("a",{staticClass:"btn btn-danger text-white",staticStyle:{height:"37px","margin-top":"55px"},on:{click:function(e){return e.preventDefault(),t.pdf(e)}}},[t._v("\n                    View Pdf\n                  ")])])])]),t._v(" "),a("hr"),t._v(" "),a("div",{attrs:{id:"statistics"}},[a("h1",{staticClass:"text-danger text-center"},[t._v("\n                Endoresment Report\n                "),a("span",{staticClass:"text-dark"},[t._v(" "+t._s(t.month))])]),t._v(" "),a("hr"),t._v(" "),t._l(t.filterNames(t.Doctors_Data.filter(function(e){return e.Spcy_id==t.Special&&e.Type==t.doctorType&&e.Branch==t.Branch}),t.selectedName.toLowerCase()),function(e){return t.PatientsData.filter(function(a){return a.Consultant_id==e.Dr_Code&&new Date(a.Addmission_date.trim())<=new Date(t.month+"-30")}).length>0||t.PatientFollow.filter(function(a){return new Date(a.Entry_date)<=new Date(t.month+"-30")&&new Date(t.month+"-01")<=new Date(a.Entry_date)&&a.Consultaion==e.Dr_Code}).length>0||t.Doctors_Shifts.filter(function(t){return t.Doctor_id==e.Dr_Code}).length>0?a("div",{key:e.Dr_Code,staticClass:"p-4 bg-light mb-3 shadow-sm card"},[a("div",{staticClass:"row"},[a("span",{staticClass:"text-dark col-md-8",staticStyle:{"font-size":"20px"}},[t._v("Dr.\n                    "),a("span",{staticClass:"ml-2 text-secondary font-weight-bold text-capitalize"},[t._v(t._s(e.DR_Name))])]),t._v(" "),a("span",{staticClass:"text-dark col-md-4 text-right"},[t._v("Speciality :"),a("span",{staticClass:"ml-2 text-success font-weight-bold text-capitalize"},[t._v(t._s(t.Specialities.filter(function(e){return e.Spcy_id==t.Special})[0].Spcy_name_En))])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",[t.PatientsData.filter(function(a){return a.Consultant_id==e.Dr_Code&&new Date(a.Addmission_date.trim())<=new Date(t.month+"-30")}).length>0?a("div",[a("hr"),t._v(" "),a("h5",{staticClass:"text-success",staticStyle:{"text-decoration":"underline"}},[t._v("\n                          Primary Patients List\n                        ")]),t._v(" "),a("table",{staticClass:"table bg-white shadow-sm table-bordered"},[t._m(8,!0),t._v(" "),a("tbody",t._l(t.PatientsData.filter(function(a){return a.Consultant_id==e.Dr_Code&&a.Addmission_date.split("-")[0]==t.month.split("-")[0]&&a.Addmission_date.split("-")[1]==t.month.split("-")[1]}),function(e,s){return a("tr",{key:e.id},[a("th",[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.Patient_FullName))]),t._v(" "),a("td",[t._v(t._s(e.Medical_Number))]),t._v(" "),a("td",[t._v(t._s(e.Gender))]),t._v(" "),a("td",[t._v(t._s(e.Age))]),t._v(" "),a("td",[t._v(t._s(e.Room))])])}),0)])]):t._e(),t._v(" "),t.PatientFollow.filter(function(a){return new Date(a.Entry_date)<=new Date(t.month+"-30")&&new Date(t.month+"-01")<=new Date(a.Entry_date)&&a.Consultaion==e.Dr_Code}).length>0?a("div",[a("hr"),t._v(" "),a("h5",{staticClass:"text-success",staticStyle:{"text-decoration":"underline"}},[t._v("\n                          Consultation Patients List\n                        ")]),t._v(" "),a("table",{staticClass:"table bg-white shadow-sm table-bordered"},[t._m(9,!0),t._v(" "),a("tbody",t._l(t.PatientFollow.filter(function(a){return new Date(a.Entry_date)<=new Date(t.month+"-30")&&new Date(t.month+"-01")<=new Date(a.Entry_date)&&a.Consultaion==e.Dr_Code}),function(e,s){return a("tr",{key:e.id},[a("th",[t._v(t._s(s+1))]),t._v(" "),t.PatientsData.filter(function(t){return t.id==e.Patient_id}).length>0?a("td",[t._v("\n                                "+t._s(t.PatientsData.filter(function(t){return t.id==e.Patient_id})[0].Patient_FullName)+"\n                              ")]):a("td",{staticClass:"text-secondary"},[t._v("no data registered")]),t._v(" "),t.PatientsData.filter(function(t){return t.id==e.Patient_id}).length>0?a("td",[t._v("\n                                "+t._s(t.PatientsData.filter(function(t){return t.id==e.Patient_id})[0].Medical_Number)+"\n                              ")]):a("td",{staticClass:"text-secondary"},[t._v("no data registered")]),t._v(" "),t.PatientsData.filter(function(t){return t.id==e.Patient_id}).length>0?a("td",[t._v("\n                                "+t._s(t.PatientsData.filter(function(t){return t.id==e.Patient_id})[0].Gender)+"\n                              ")]):a("td",{staticClass:"text-secondary"},[t._v("no data registered")]),t._v(" "),t.PatientsData.filter(function(t){return t.id==e.Patient_id}).length>0?a("td",[t._v("\n                                "+t._s(t.PatientsData.filter(function(t){return t.id==e.Patient_id})[0].Age)+"\n                              ")]):a("td",{staticClass:"text-secondary"},[t._v("no data registered")]),t._v(" "),t.PatientsData.filter(function(t){return t.id==e.Patient_id}).length>0?a("td",[t._v("\n                                "+t._s(t.PatientsData.filter(function(t){return t.id==e.Patient_id})[0].Room)+"\n                              ")]):a("td",{staticClass:"text-secondary"},[t._v("no data registered")]),t._v(" "),e.Shift.length>0?a("td",[t._v("\n                                "+t._s(e.Shift)+"\n                              ")]):a("td",{staticClass:"text-secondary"},[t._v("no data registered")]),t._v(" "),a("td",[t._v("\n                                "+t._s(e.Insert_Doctor?e.Insert_Doctor_Time.substr(0,10):e.Insert_Nurse_Time.substr(0,10))+"\n                              ")])])}),0)])]):t._e(),t._v(" "),t.Doctors_Shifts.filter(function(t){return t.Doctor_id==e.Dr_Code}).length>0?a("div",[a("hr"),t._v(" "),a("div",[a("div",{staticClass:"row"},t._l(t.Doctors_Shifts.filter(function(t){return t.Doctor_id==e.Dr_Code}),function(e,s){return a("div",{key:s+"r",staticClass:"col-md-12"},[a("h5",{staticClass:"text-success",staticStyle:{"text-decoration":"underline"}},[t._v("\n                                Shift date "+t._s(e.Shift_date.split(" ")[0])+"\n                              ")]),t._v(" "),a("table",{staticClass:"table bg-white shadow-sm table-bordered"},[t._m(10,!0),t._v(" "),t.PatientsData.filter(function(e){return e.Specialty.trim()==t.Specialities.filter(function(e){return e.Spcy_id==t.Special})[0].Spcy_name_En}).length>0?a("tbody",t._l(t.PatientsData.filter(function(e){return e.Specialty.trim()==t.Specialities.filter(function(e){return e.Spcy_id==t.Special})[0].Spcy_name_En}),function(s,i){return new Date(e.Shift_date.trim())<new Date(s.Discharged_date.trim())||0==s.Discharged_date?a("tr",{key:s.id},[a("th",[t._v(t._s(i+1))]),t._v(" "),a("td",[t._v(t._s(s.Patient_FullName))]),t._v(" "),a("td",[t._v(t._s(s.Medical_Number))]),t._v(" "),a("td",[t._v(t._s(s.Gender))]),t._v(" "),a("td",[t._v(t._s(s.Age))]),t._v(" "),a("td",[t._v(t._s(s.Room))])]):t._e()}),0):a("tbody",[a("div",{staticClass:"alert card text-danger text-center"},[t._v("There is no patients at this specialty!")])])])])}),0)])]):t._e()])])])]):t._e()}),t._v(" "),a("hr")],2)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-wave"},[e("div",{staticClass:"wave"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",[e("i",{staticClass:"fa fa-hospital-o mainColor mr-1"}),this._v("Doctors Info")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Select Branch :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("Select speciality :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cu-field"},[e("h3",{staticClass:"cu-label"},[e("label",[this._v("Doctor Type")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"Resident"}},[e("div",{staticClass:"cu-input cu-radio normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("Resident")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"Consultant"}},[e("div",{staticClass:"cu-input cu-radio normal"},[e("div",{staticClass:"contain"},[e("span",{staticClass:"fa fa-check"}),this._v(" "),e("div",[this._v("Consultant")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"cu-label"},[e("label",[this._v("search for specific name:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("No")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Name")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Medicl No")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Gender")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Age")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Room")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("No")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Name")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Medicl No")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Gender")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Age")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Room")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Shift")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Date")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("No")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Name")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Medicl No")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Gender")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Age")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Room")])])])}]};var Yt=a("VU/8")(Ot,It,!1,function(t){a("KOSX")},"data-v-6d6f39f5",null).exports;s.default.use(m.a);var Bt=new m.a({routes:[{path:"/login",name:"login",component:h,meta:{viewMenu:!1}},{path:"/Profile",name:"Profile",component:g,meta:{viewMenu:!1}},{path:"/",name:"Units Dashboard",component:S,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!0,auth:"all",authCheck:!0}},{path:"/Endorsement",name:"Endorsement",component:gt,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!0,auth:"all",authCheck:!0}},{path:"/Charge",name:"Charge Nurse Endorsing",component:D,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!0,auth:"17",authCheck:!1}},{path:"/selectUnit",name:"Rooms Dashboard",component:at,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!0,auth:"all",authCheck:!0}},{path:"/UnitDetails/:id",name:"Unit Details",component:q,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!1,auth:"all",authCheck:!0}},{path:"/ShiftDetails/:id",name:"Shift Details",component:L,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!1,auth:"all",authCheck:!0}},{path:"/editShiftDetials/:id",name:"Edit Shift Details",component:z,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!1,auth:"17",authCheck:!0}},{path:"/addmition",name:"Admission Form",component:U,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!0,auth:"all",authCheck:!0}},{path:"/viewPatients",name:"Doctors Patients",component:M,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!0,auth:"10",authCheck:!1}},{path:"/patientsNurse",name:"Nurses Patients",component:I,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!0,auth:"12",authCheck:!1}},{path:"/patientData/:id",name:"Patient Data",component:lt,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!1,auth:"all",authCheck:!0}},{path:"/insertPatientData/:id",name:"Insert Patient Data",component:K,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!1,auth:"all",authCheck:!0}},{path:"/roomDetails/:id",name:"Room Details",component:at,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!1,auth:"all",authCheck:!0}},{path:"/or_patient_edit:id",name:"Edit Procedure",component:ut,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!1,auth:"all",authCheck:!0}},{path:"/nursesPdf/:id",name:"Nurses Pdf",component:Tt,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!1,auth:"all",authCheck:!0}},{path:"/Nursing_schedule",name:"Create Schedule",component:Ft,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!0,auth:"19",authCheck:!0}},{path:"/display_schdule",name:"Display Nurses Schedule",component:jt,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!0,auth:"all",authCheck:!0}},{path:"/doctorInfo",name:"Doctors Info",component:Yt,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!0,auth:"19",authCheck:!0}},{path:"/or_patient",name:"Schedule Procedure",component:ct,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!1,auth:"all",authCheck:!0}},{path:"/OR",name:"OR",component:mt,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!1,auth:"all",authCheck:!0}},{path:"/OR_details:id",name:"OR Details",component:_t,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!1,auth:"all",authCheck:!0}},{path:"/Nurses/:id",name:"Nurses",component:Dt,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!1,auth:"all",authCheck:!0}},{path:"/editNurses/:id",name:"Edit Nurses",component:St,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!1,auth:"17",authCheck:!1}},{path:"/editPatients/:id",name:"Edit Patients",component:Ut,meta:{requiresAuth:!0,cat:"Endoresment",viewMenu:!1,auth:"17",authCheck:!1}}]}),qt=localStorage.getItem("user");Bt.beforeEach(function(t,e,a){t.matched.some(function(t){return t.meta.requiresAuth})?qt?a():a({name:"login"}):a()});var Jt=Bt.options.routes;localStorage.getItem("user")&&Jt.map(function(t){t.meta.authCheck="all"==t.meta.auth||t.meta.auth==JSON.parse(localStorage.getItem("user")).Role_id});var Ht=Bt,Lt=a("3EgV"),Vt=a.n(Lt);a("7zck");s.default.use(Vt.a);var Gt=new Vt.a({theme:{disable:!0}});s.default.config.productionTip=!1,new s.default({el:"#app",router:Ht,vuetify:Gt,components:{App:p},template:"<App/>"})},O1eD:function(t,e){},"P/wj":function(t,e){},QzZx:function(t,e){},RV6E:function(t,e){},Skau:function(t,e){},"TH8/":function(t,e){},UHTP:function(t,e){},UmCu:function(t,e){},Xq1N:function(t,e){window.onload=function(){!function(){for(var t=document.querySelectorAll("[data-mate-select='active']"),e="",i=0;i<t.length;i++){t[i].setAttribute("data-indx-select",i),t[i].setAttribute("data-selec-open","false");var n=document.querySelectorAll("[data-indx-select='"+i+"'] > .cont_list_select_mate > ul"),r=(e=document.querySelectorAll("[data-indx-select='"+i+"'] >select")[0]).options;document.querySelectorAll("[data-indx-select='"+i+"']  > .selecionado_opcion ")[0].setAttribute("data-n-select",i),document.querySelectorAll("[data-indx-select='"+i+"']  > .icon_select_mate ")[0].setAttribute("data-n-select",i);for(var l=0;l<r.length;l++)a[l]=document.createElement("li"),1!=r[l].selected&&e.value!=r[l].innerHTML||(a[l].className="active",document.querySelector("[data-indx-select='"+i+"']  > .selecionado_opcion ").innerHTML=r[l].innerHTML),a[l].setAttribute("data-index",l),a[l].setAttribute("data-selec-index",i),a[l].addEventListener("click",function(){s(this.getAttribute("data-index"),this.getAttribute("data-selec-index"))}),a[l].innerHTML=r[l].innerHTML,n[0].appendChild(a[l])}}()},$(function(){var t=$(".topbar .menu .main-menu"),e=$(".page-container"),a=$(".sideBar");$("body").on("click",".toggleBar",function(){$(a).toggleClass("collapsed"),$(window).width()>767&&$(e).toggleClass("expand"),$(a).css("position","fixed")}),$(".close-btn").click(function(){$(a).removeClass("collapsed")}),$("body").on("click",".sideBar ul li .sid-links",function(t){$(".sideBar").find(".main-menu").removeClass("open"),$(this).closest(".sideBar").find(".sub-menu").slideUp(),$(this).closest(".sideBar").find(".sid-links").removeClass("for-a-active"),$(this).addClass("for-a-active"),$(this).find("> ul").slideToggle().parent().siblings().find("ul").slideUp()}),$("body").on("click",".topbar .menu .main-menu",function(t){t.stopPropagation(),$(this).toggleClass("active"),$(this).siblings().removeClass("active")}),$("html").on("click","body",function(){$(t).removeClass("active")}),$(document).ready(function(){$(".nice-select").val(""),$(".nice-select").on("change",function(){1==$(this).val()?$(".sub-table").fadeIn():$(".sub-table").fadeOut()})}),$(document).ready(function(){$(".choose-opd").siblings().on("click touchstart",function(){$(".sub-table").css("display","none")})}),function(){if(void 0!==$.plot){for(var t=[],e=0;e<30;e++)t.push([new Date(Date.today().add(e).days()).getTime(),Math.floor(21*Math.random())+20+e+e+10]);var a={grid:{show:!0,aboveData:!0,color:"#888",labelMargin:10,axisMargin:0,borderWidth:0,borderColor:null,minBorderMargin:5,clickable:!0,hoverable:!0,autoHighlight:!0,mouseActiveRadius:100},series:{lines:{show:!0,fill:!0,lineWidth:2,steps:!1},points:{show:!0,radius:4.5,symbol:"circle",lineWidth:3}},legend:{position:"ne",margin:[0,-25],noColumns:0,labelBoxBorderColor:null,labelFormatter:function(t,e){return t+"&nbsp;&nbsp;"},width:40,height:1},colors:["#26c677","#3F97EB","#00b85d","#6f7a8a","#f7cb38","#046132","#2c7282"],shadowSize:0,tooltip:!0,tooltipOpts:{content:"%s: %y.0",xDateFormat:"%d/%m",shifts:{x:-30,y:-50},defaultTheme:!1},yaxis:{min:0},xaxis:{mode:"time",minTickSize:[1,"day"],timeformat:"%d/%m/%y",min:t[0][0],max:t[20][0]}};$(".active .chart-box").length&&$.plot($(".active .chart-box"),[{label:"Revenue",data:t,lines:{fillColor:"rgba(0,184,93,.12)"},points:{fillColor:"#fff"}}],a)}}(),$(".internal-page .new").on("click",function(t){t.preventDefault(),$(this).hasClass("show")?$(this).find("span").text("+"):$(this).find("span").text("-"),$(this).toggleClass("hide show"),$(this).siblings(".new-form").slideToggle()});for(var s=$(".internal-page .table-grid tr input:checked"),i=0;i<s.length;i++)$($(s)[i]).closest("tr").addClass("checked");$(".internal-page .table-grid tr").click(function(){$(this).hasClass("checked")?$(this).find('input[type="checkbox"]').prop("checked",!1):$(this).find('input[type="checkbox"]').prop("checked",!0),$(this).toggleClass("checked")}),$(".cu-form-group.with-title").each(function(t,e){$(e).prepend("<div class='title'><span>"+(t+1)+"</span></div>")})}),$("body").on("click",".open-pop",function(t){t.preventDefault(),$(".popup").removeClass("active"),$("."+$(this).data("pop-name")).addClass("active"),$(this).hasClass("stopProp")||$(".tablinks").length>0&&($(".tablinks").removeClass("stylish"),$(".tabcontent").removeClass("active"),$(".tablinks").eq(0).addClass("stylish"),$(".tabcontent").eq(0).addClass("active"))}),$("body").on("click",".popup, .popup .close-pop",function(){$(this).removeClass("active"),$(this).closest(".popup").removeClass("active")}),$("body").on("click",".popup-body",function(t){t.stopPropagation(),$(".popup-body .dropdown-menu").removeClass("show")}),$("body").on("click",".popup-body .btn",function(t){t.stopPropagation(),$(this).siblings(".dropdown-menu").toggleClass("show")}),$("body").on("click",".open-pop.stopProp",function(){$(this).closest(".popup").addClass("active")}),$("body").on("click",".niceProgress span",function(){var t=$(this).data("num");$(this).closest(".progress-con").find(".niceProgress .niceProg").css("width",t+"%"),$(this).closest(".progress-con").find(".progress-input").val(t)}),$("body").on("change",".progress-input",function(){var t=$(this).val();$(this).closest(".progress-con").find(".niceProgress .niceProg").css("width",t+"%")}),$("body").on("keyup",".progress-input",function(){var t=$(this).val();$(this).closest(".progress-con").find(".niceProgress .niceProg").css("width",t+"%")}),$("body").on("change",".Courses .progress-input",function(){$(this).closest(".grouped").find(".save-btn").addClass("active")}),$("body").on("click",".Courses .progress_span",function(){$(this).closest(".grouped").find(".save-btn").addClass("active")}),$("body").on("click",".checkall_field .checkall",function(){$(this).is(":checked")?$(this).closest(".checkall_field").find('.checkall-inputs input[type="checkbox"]').prop("checked",!0):$(this).closest(".checkall_field").find('.checkall-inputs input[type="checkbox"]').prop("checked",!1)}),$("body").on("click",'.checkall_field .checkall-inputs input[type="checkbox"]',function(){var t=$(this).closest(".checkall_field").find('.checkall-inputs input[type="checkbox"]').length;$(this).closest(".checkall_field").find(".checkall-inputs input:checked").length==t?$(this).closest(".checkall_field").find(".checkall").prop("checked",!0):$(this).closest(".checkall_field").find(".checkall").prop("checked",!1)}),$("body").on("click",".rosey",function(t){t.preventDefault(),t.stopPropagation(),$(".felp").toggleClass("active"),$(this).siblings().removeClass("active")}),$("body").on("click",".email-wrapper .mail-sidebar .menu-bar .menu-items li",function(t){t.preventDefault(),t.stopPropagation(),$(".email-wrapper .mail-sidebar .menu-bar .menu-items li").addClass("active"),$(this).siblings().removeClass("active")}),$("body").on("click",".tasks",function(t){t.preventDefault(),t.stopPropagation(),$(".add-task").toggleClass("active"),$(this).siblings().removeClass("active")}),$("body").on("click",".notes",function(t){t.preventDefault(),t.stopPropagation(),$(".add-note").toggleClass("active"),$(this).siblings().removeClass("active")}),$("body").on("click",".btn-default",function(t){t.preventDefault(),t.stopPropagation(),$(".btn-default").addClass("active"),$(this).siblings().removeClass("active")}),$("body").on("click",".tablinks",function(t){t.preventDefault(),t.stopPropagation(),$(".tabcontent").removeClass("active"),$($(this).data("tab")).addClass("active"),console.log($($(this).data("tab")))}),$("body").on("click",".tablinks",function(t){t.preventDefault(),t.stopPropagation(),$(".tablinks").removeClass("stylish"),$(this).addClass("stylish"),console.log($($(this).data("tab")))}),$("body").on("click",".one .tablin",function(t){t.preventDefault(),t.stopPropagation(),$(".one .tabcon").removeClass("active"),$($(this).data("tab")).addClass("active"),console.log($($(this).data("tab")))}),$("body").on("click",".tablin",function(t){t.preventDefault(),t.stopPropagation(),$(".tablin").removeClass("stylish"),$(this).addClass("stylish"),console.log($($(this).data("tab")))}),$(".picked-date").val(""),$("#date-end").bootstrapMaterialDatePicker({weekStart:0,time:!1}),$("#date-start").bootstrapMaterialDatePicker({weekStart:0,time:!1}),$(".picked-date").change(function(){var t=$(this);""!=$(t).val()&&$(t).siblings(".picked").addClass("active")}),$("#time-start1").bootstrapMaterialDatePicker({date:!1,format:"HH:mm"}),$("#time-end1").bootstrapMaterialDatePicker({date:!1,format:"HH:mm"});var a=new Array;function s(t,e){for(var a=document.querySelectorAll("[data-indx-select='"+e+"'] > select")[0],s=document.querySelectorAll("[data-indx-select='"+e+"'] .cont_select_int > li"),i=(document.querySelectorAll("[data-indx-select='"+e+"'] > .selecionado_opcion")[0].innerHTML=s[t].innerHTML,document.querySelectorAll("[data-indx-select='"+e+"'] > select > option")),n=0;n<s.length;n++)"active"==s[n].className&&(s[n].className=""),s[t].className="active";i[t].selected=!0,a.selectedIndex=t,a.onchange(),function(t){document.querySelectorAll("[data-indx-select='"+t+"'] > select")[0],document.querySelectorAll("[data-indx-select='"+t+"'] > .cont_list_select_mate > ul")[0].style.height="0px",document.querySelector("[data-indx-select='"+t+"'] > .icon_select_mate").style.transform="rotate(0deg)",document.querySelectorAll("[data-indx-select='"+t+"']")[0].setAttribute("data-selec-open","false")}(e)}var i=document.querySelectorAll("[data-mate-select='active']"),n=document.querySelectorAll(".select_mate");i&&(window.onclick=function(){for(var t=0;t<i.length;t++)i[t].setAttribute("data-selec-open","false"),document.querySelectorAll("[data-indx-select='"+t+"'] > .icon_select_mate")[0].style.transform="rotate(0deg)",document.querySelectorAll("[data-indx-select='"+t+"'] > .icon_select_mate")[0].style.top="5px",document.querySelectorAll("[data-indx-select='"+t+"'] > .cont_list_select_mate > ul")[0].style.height="0px"}),n.forEach(function(t,e){t.onclick=function(t){t.stopPropagation();for(var a=0;a<i.length;a++)a!=e&&(i[a].setAttribute("data-selec-open","false"),document.querySelectorAll("[data-indx-select='"+a+"'] > .icon_select_mate")[0].style.transform="rotate(0deg)",document.querySelectorAll("[data-indx-select='"+a+"'] > .icon_select_mate")[0].style.top="5px",document.querySelectorAll("[data-indx-select='"+a+"'] > .cont_list_select_mate > ul")[0].style.height="0px");return!1}}),$(".responsive").slick({dots:!0,infinite:!0,speed:300,autoplaySpeed:2e3,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:1299,settings:{slidesToShow:2,slidesToScroll:2,infinite:!0,dots:!0}},{breakpoint:991,settings:{slidesToShow:1,slidesToScroll:1}}]}),$("body").on("click",".ui-datepicker-calendar tr td a",function(t){t.preventDefault()}),$.expr[":"].textEquals=function(t,e,a){return new RegExp("^"+a[3]+"$").test($(t).text())},document.getElementById("chartjs-1gh")&&new Chart(document.getElementById("chartjs-1gh"),{type:"bar",data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First Dataset",data:[60,59,80,81,56,55,40],fill:!1,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}),document.getElementById("chartjs-1gh")&&new Chart(document.getElementById("chartjs-2gh"),{type:"bar",data:{labels:["Jan","February","March","April","May","June","July"],datasets:[{label:"My First Dataset",data:[80,10,80,81,50,5,30],fill:!1,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}),document.getElementById("chartjs-1gh")&&new Chart(document.getElementById("chartjs-5gh"),{type:"doughnut",data:{labels:["Happy","Normal","Sad"],datasets:[{label:"My First Dataset",data:[300,50,100],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)"]}]}}),$(document).ready(function(){$(".sub-menu").width();$(".panel-theme").mouseenter(function(){$(".sub-menu").animate({width:"270px"})}),$(".panel-theme").mouseleave(function(){$(".sub-menu").animate({width:0})})}),$(function(){$("#generate").click(function(){var t,e="https://chart.googleapis.com/chart?cht=qr&chl="+(t=$("#content").val(),$("<div/>").text(t).html())+"&chs=160x160&chld=L|0";$(".qr-code").attr("src",e)})})},bINk:function(t,e){},bPSx:function(t,e){},ddge:function(t,e){},eXaP:function(t,e,a){t.exports=a.p+"static/img/logo.fcf0358.png"},f6X8:function(t,e){},lA6d:function(t,e){},lJsb:function(t,e){!function(t,e){var a="bootstrapMaterialDatePicker",s="plugin_"+a;function i(a,s){this.currentView=0,this.minDate,this.maxDate,this._attachedEvents=[],this.element=a,this.$element=t(a),this.params={date:!0,time:!0,format:"YYYY-MM-DD",minDate:null,maxDate:null,currentDate:null,lang:"en",weekStart:0,disabledDays:[],shortTime:!1,clearButton:!1,nowButton:!1,cancelText:"Cancel",okText:"OK",clearText:"Clear",nowText:"Now",switchOnClick:!1,triggerEvent:"focus",monthPicker:!1,year:!0},this.params=t.fn.extend(this.params,s),this.name="dtp_"+this.setName(),this.$element.attr("data-dtp",this.name),e.locale(this.params.lang),this.init()}e.locale("en"),t.fn[a]=function(e,a){return this.each(function(){t.data(this,s)?("function"==typeof t.data(this,s)[e]&&t.data(this,s)[e](a),"destroy"===e&&t.data(this,s)):t.data(this,s,new i(this,e))}),this},i.prototype={init:function(){this.initDays(),this.initDates(),this.initTemplate(),this.initButtons(),this._attachEvent(t(window),"resize",this._centerBox.bind(this)),this._attachEvent(this.$dtpElement.find(".dtp-content"),"click",this._onElementClick.bind(this)),this._attachEvent(this.$dtpElement,"click",this._onBackgroundClick.bind(this)),this._attachEvent(this.$dtpElement.find(".dtp-close > a"),"click",this._onCloseClick.bind(this)),this._attachEvent(this.$element,this.params.triggerEvent,this._fireCalendar.bind(this))},initDays:function(){this.days=[];for(var t=this.params.weekStart;this.days.length<7;t++)6<t&&(t=0),this.days.push(t.toString())},initDates:function(){var t;0<this.$element.val().length?void 0!==this.params.format&&null!==this.params.format?this.currentDate=e(this.$element.val(),this.params.format).locale(this.params.lang):this.currentDate=e(this.$element.val()).locale(this.params.lang):void 0!==this.$element.attr("value")&&null!==this.$element.attr("value")&&""!==this.$element.attr("value")?"string"==typeof this.$element.attr("value")&&(void 0!==this.params.format&&null!==this.params.format?this.currentDate=e(this.$element.attr("value"),this.params.format).locale(this.params.lang):this.currentDate=e(this.$element.attr("value")).locale(this.params.lang)):void 0!==this.params.currentDate&&null!==this.params.currentDate?("string"==typeof this.params.currentDate?void 0!==this.params.format&&null!==this.params.format?this.currentDate=e(this.params.currentDate,this.params.format).locale(this.params.lang):this.currentDate=e(this.params.currentDate).locale(this.params.lang):void 0===this.params.currentDate.isValid||"function"!=typeof this.params.currentDate.isValid?(t=this.params.currentDate.getTime(),this.currentDate=e(t,"x").locale(this.params.lang)):this.currentDate=this.params.currentDate,this.$element.val(this.currentDate.format(this.params.format))):this.currentDate=e(),void 0!==this.params.minDate&&null!==this.params.minDate?"string"==typeof this.params.minDate?void 0!==this.params.format&&null!==this.params.format?this.minDate=e(this.params.minDate,this.params.format).locale(this.params.lang):this.minDate=e(this.params.minDate).locale(this.params.lang):void 0===this.params.minDate.isValid||"function"!=typeof this.params.minDate.isValid?(t=this.params.minDate.getTime(),this.minDate=e(t,"x").locale(this.params.lang)):this.minDate=this.params.minDate:null===this.params.minDate&&(this.minDate=null),void 0!==this.params.maxDate&&null!==this.params.maxDate?"string"==typeof this.params.maxDate?void 0!==this.params.format&&null!==this.params.format?this.maxDate=e(this.params.maxDate,this.params.format).locale(this.params.lang):this.maxDate=e(this.params.maxDate).locale(this.params.lang):void 0===this.params.maxDate.isValid||"function"!=typeof this.params.maxDate.isValid?(t=this.params.maxDate.getTime(),this.maxDate=e(t,"x").locale(this.params.lang)):this.maxDate=this.params.maxDate:null===this.params.maxDate&&(this.maxDate=null),this.isAfterMinDate(this.currentDate)||(this.currentDate=e(this.minDate)),this.isBeforeMaxDate(this.currentDate)||(this.currentDate=e(this.maxDate))},initTemplate:function(){for(var e="",a=this.currentDate.year(),s=a-3;s<a+4;s++)e+='<div class="year-picker-item" data-year="'+s+'">'+s+"</div>";this.midYear=a;var i='<div class="dtp-picker-year hidden" ><div><a href="javascript:void(0);" class="btn btn-default dtp-select-year-range before" style="margin: 0;"><i class="material-icons">keyboard_arrow_up</i></a></div>'+e+'<div><a href="javascript:void(0);" class="btn btn-default dtp-select-year-range after" style="margin: 0;"><i class="material-icons">keyboard_arrow_down</i></a></div></div>';this.template='<div class="dtp hidden" id="'+this.name+'"><div class="dtp-content"><div class="dtp-date-view"><header class="dtp-header"><div class="dtp-actual-day">Lundi</div><div class="dtp-close"><a href="javascript:void(0);"><i class="material-icons">clear</i></a></div></header><div class="dtp-date hidden"><div><div class="left center p10"><a href="javascript:void(0);" class="dtp-select-month-before"><i class="material-icons">chevron_left</i></a></div><div class="dtp-actual-month p80">MAR</div><div class="right center p10"><a href="javascript:void(0);" class="dtp-select-month-after"><i class="material-icons">chevron_right</i></a></div><div class="clearfix"></div></div><div class="dtp-actual-num">13</div><div><div class="left center p10"><a href="javascript:void(0);" class="dtp-select-year-before"><i class="material-icons">chevron_left</i></a></div><div class="dtp-actual-year p80'+(this.params.year?"":" disabled")+'">2014</div><div class="right center p10"><a href="javascript:void(0);" class="dtp-select-year-after"><i class="material-icons">chevron_right</i></a></div><div class="clearfix"></div></div></div><div class="dtp-time hidden"><div class="dtp-actual-maxtime">23:55</div></div><div class="dtp-picker"><div class="dtp-picker-calendar"></div><div class="dtp-picker-datetime hidden"><div class="dtp-actual-meridien"><div class="left p20"><a class="dtp-meridien-am" href="javascript:void(0);">AM</a></div><div class="dtp-actual-time p60"></div><div class="right p20"><a class="dtp-meridien-pm" href="javascript:void(0);">PM</a></div><div class="clearfix"></div></div><div id="dtp-svg-clock"></div></div>'+i+'</div></div><div class="dtp-buttons"><button class="dtp-btn-now btn btn-flat hidden">'+this.params.nowText+'</button><button class="dtp-btn-clear btn btn-flat hidden">'+this.params.clearText+'</button><button class="dtp-btn-cancel btn btn-flat">'+this.params.cancelText+'</button><button class="dtp-btn-ok btn btn-flat">'+this.params.okText+'</button><div class="clearfix"></div></div></div></div>',t("body").find("#"+this.name).length<=0&&(t("body").append(this.template),this&&(this.dtpElement=t("body").find("#"+this.name)),this.$dtpElement=t(this.dtpElement))},initButtons:function(){this._attachEvent(this.$dtpElement.find(".dtp-btn-cancel"),"click",this._onCancelClick.bind(this)),this._attachEvent(this.$dtpElement.find(".dtp-btn-ok"),"click",this._onOKClick.bind(this)),this._attachEvent(this.$dtpElement.find("a.dtp-select-month-before"),"click",this._onMonthBeforeClick.bind(this)),this._attachEvent(this.$dtpElement.find("a.dtp-select-month-after"),"click",this._onMonthAfterClick.bind(this)),this._attachEvent(this.$dtpElement.find("a.dtp-select-year-before"),"click",this._onYearBeforeClick.bind(this)),this._attachEvent(this.$dtpElement.find("a.dtp-select-year-after"),"click",this._onYearAfterClick.bind(this)),this._attachEvent(this.$dtpElement.find(".dtp-actual-year"),"click",this._onActualYearClick.bind(this)),this._attachEvent(this.$dtpElement.find("a.dtp-select-year-range.before"),"click",this._onYearRangeBeforeClick.bind(this)),this._attachEvent(this.$dtpElement.find("a.dtp-select-year-range.after"),"click",this._onYearRangeAfterClick.bind(this)),this._attachEvent(this.$dtpElement.find("div.year-picker-item"),"click",this._onYearItemClick.bind(this)),!0===this.params.clearButton&&(this._attachEvent(this.$dtpElement.find(".dtp-btn-clear"),"click",this._onClearClick.bind(this)),this.$dtpElement.find(".dtp-btn-clear").removeClass("hidden")),!0===this.params.nowButton&&(this._attachEvent(this.$dtpElement.find(".dtp-btn-now"),"click",this._onNowClick.bind(this)),this.$dtpElement.find(".dtp-btn-now").removeClass("hidden")),!0===this.params.nowButton&&!0===this.params.clearButton?this.$dtpElement.find(".dtp-btn-clear, .dtp-btn-now, .dtp-btn-cancel, .dtp-btn-ok").addClass("btn-xs"):!0!==this.params.nowButton&&!0!==this.params.clearButton||this.$dtpElement.find(".dtp-btn-clear, .dtp-btn-now, .dtp-btn-cancel, .dtp-btn-ok").addClass("btn-sm")},initMeridienButtons:function(){this.$dtpElement.find("a.dtp-meridien-am").off("click").on("click",this._onSelectAM.bind(this)),this.$dtpElement.find("a.dtp-meridien-pm").off("click").on("click",this._onSelectPM.bind(this))},initDate:function(t){this.currentView=0,!1===this.params.monthPicker&&this.$dtpElement.find(".dtp-picker-calendar").removeClass("hidden"),this.$dtpElement.find(".dtp-picker-datetime").addClass("hidden"),this.$dtpElement.find(".dtp-picker-year").addClass("hidden");var e,a=void 0!==this.currentDate&&null!==this.currentDate?this.currentDate:null,s=this.generateCalendar(this.currentDate);void 0!==s.week&&void 0!==s.days&&(e=this.constructHTMLCalendar(a,s),this.$dtpElement.find("a.dtp-select-day").off("click"),this.$dtpElement.find(".dtp-picker-calendar").html(e),this.$dtpElement.find("a.dtp-select-day").on("click",this._onSelectDate.bind(this)),this.toggleButtons(a)),this._centerBox(),this.showDate(a)},initHours:function(){this.currentView=1,this.showTime(this.currentDate),this.initMeridienButtons(),this.currentDate.hour()<12?this.$dtpElement.find("a.dtp-meridien-am").click():this.$dtpElement.find("a.dtp-meridien-pm").click();var t=this.params.shortTime?"h":"H";this.$dtpElement.find(".dtp-picker-datetime").removeClass("hidden"),this.$dtpElement.find(".dtp-picker-calendar").addClass("hidden"),this.$dtpElement.find(".dtp-picker-year").addClass("hidden");for(var e=this.createSVGClock(!0),a=0;a<12;a++){var s=-162*Math.sin(2*-Math.PI*(a/12)),i=-162*Math.cos(2*-Math.PI*(a/12)),n=this.currentDate.format(t)==a?"#8BC34A":"transparent",r=this.currentDate.format(t)==a?"#fff":"#000",l=this.createSVGElement("circle",{id:"h-"+a,class:"dtp-select-hour",style:"cursor:pointer",r:"30",cx:s,cy:i,fill:n,"data-hour":a});(o=this.createSVGElement("text",{id:"th-"+a,class:"dtp-select-hour-text","text-anchor":"middle",style:"cursor:pointer","font-weight":"bold","font-size":"20",x:s,y:i+7,fill:r,"data-hour":a})).textContent=0===a&&this.params.shortTime?12:a,this.toggleTime(a,!0)?(l.addEventListener("click",this._onSelectHour.bind(this)),o.addEventListener("click",this._onSelectHour.bind(this))):(l.className+=" disabled",o.className+=" disabled",o.setAttribute("fill","#bdbdbd")),e.appendChild(l),e.appendChild(o)}if(!this.params.shortTime){for(a=0;a<12;a++){var o;s=-110*Math.sin(2*-Math.PI*(a/12)),i=-110*Math.cos(2*-Math.PI*(a/12)),n=this.currentDate.format(t)==a+12?"#8BC34A":"transparent",r=this.currentDate.format(t)==a+12?"#fff":"#000",l=this.createSVGElement("circle",{id:"h-"+(a+12),class:"dtp-select-hour",style:"cursor:pointer",r:"30",cx:s,cy:i,fill:n,"data-hour":a+12});(o=this.createSVGElement("text",{id:"th-"+(a+12),class:"dtp-select-hour-text","text-anchor":"middle",style:"cursor:pointer","font-weight":"bold","font-size":"22",x:s,y:i+7,fill:r,"data-hour":a+12})).textContent=a+12,this.toggleTime(a+12,!0)?(l.addEventListener("click",this._onSelectHour.bind(this)),o.addEventListener("click",this._onSelectHour.bind(this))):(l.className+=" disabled",o.className+=" disabled",o.setAttribute("fill","#bdbdbd")),e.appendChild(l),e.appendChild(o)}this.$dtpElement.find("a.dtp-meridien-am").addClass("hidden"),this.$dtpElement.find("a.dtp-meridien-pm").addClass("hidden")}this._centerBox()},initMinutes:function(){this.currentView=2,this.showTime(this.currentDate),this.initMeridienButtons(),this.currentDate.hour()<12?this.$dtpElement.find("a.dtp-meridien-am").click():this.$dtpElement.find("a.dtp-meridien-pm").click(),this.$dtpElement.find(".dtp-picker-year").addClass("hidden"),this.$dtpElement.find(".dtp-picker-calendar").addClass("hidden"),this.$dtpElement.find(".dtp-picker-datetime").removeClass("hidden");for(var t=this.createSVGClock(!1),e=0;e<60;e++){var a=e%5==0?162:158,s=e%5==0?30:20,i=-a*Math.sin(2*-Math.PI*(e/60)),n=-a*Math.cos(2*-Math.PI*(e/60)),r=this.currentDate.format("m")==e?"#8BC34A":"transparent",l=this.createSVGElement("circle",{id:"m-"+e,class:"dtp-select-minute",style:"cursor:pointer",r:s,cx:i,cy:n,fill:r,"data-minute":e});this.toggleTime(e,!1)?l.addEventListener("click",this._onSelectMinute.bind(this)):l.className+=" disabled",t.appendChild(l)}var o;for(e=0;e<60;e++)e%5==0&&(i=-162*Math.sin(2*-Math.PI*(e/60)),n=-162*Math.cos(2*-Math.PI*(e/60)),r=this.currentDate.format("m")==e?"#fff":"#000",(o=this.createSVGElement("text",{id:"tm-"+e,class:"dtp-select-minute-text","text-anchor":"middle",style:"cursor:pointer","font-weight":"bold","font-size":"20",x:i,y:n+7,fill:r,"data-minute":e})).textContent=e,this.toggleTime(e,!1)?o.addEventListener("click",this._onSelectMinute.bind(this)):(o.className+=" disabled",o.setAttribute("fill","#bdbdbd")),t.appendChild(o));this._centerBox()},animateHands:function(){var t=this.currentDate.hour(),e=this.currentDate.minute();this.$dtpElement.find(".hour-hand")[0].setAttribute("transform","rotate("+360*t/12+")"),this.$dtpElement.find(".minute-hand")[0].setAttribute("transform","rotate("+360*e/60+")")},createSVGClock:function(t){var e,a,s=this.params.shortTime?-120:-90,i=this.createSVGElement("svg",{class:"svg-clock",viewBox:"0,0,400,400"}),n=this.createSVGElement("g",{transform:"translate(200,200) "}),r=this.createSVGElement("circle",{r:"192",fill:"#eee",stroke:"#bdbdbd","stroke-width":2}),l=this.createSVGElement("circle",{r:"15",fill:"#757575"});return n.appendChild(r),t?(e=this.createSVGElement("line",{class:"minute-hand",x1:0,y1:0,x2:0,y2:-150,stroke:"#bdbdbd","stroke-width":2}),a=this.createSVGElement("line",{class:"hour-hand",x1:0,y1:0,x2:0,y2:s,stroke:"#8BC34A","stroke-width":8}),n.appendChild(e),n.appendChild(a)):(e=this.createSVGElement("line",{class:"minute-hand",x1:0,y1:0,x2:0,y2:-150,stroke:"#8BC34A","stroke-width":2}),a=this.createSVGElement("line",{class:"hour-hand",x1:0,y1:0,x2:0,y2:s,stroke:"#bdbdbd","stroke-width":8}),n.appendChild(a),n.appendChild(e)),n.appendChild(l),i.appendChild(n),this.$dtpElement.find("#dtp-svg-clock").empty(),this.$dtpElement.find("#dtp-svg-clock")[0].appendChild(i),this.animateHands(),n},createSVGElement:function(t,e){var a=document.createElementNS("http://www.w3.org/2000/svg",t);for(var s in e)a.setAttribute(s,e[s]);return a},isAfterMinDate:function(t,a,s){var i,n,r=!0;return void 0!==this.minDate&&null!==this.minDate&&(i=e(this.minDate),n=e(t),a||s||(i.hour(0),i.minute(0),n.hour(0),n.minute(0)),i.second(0),n.second(0),i.millisecond(0),n.millisecond(0),s||(n.minute(0),i.minute(0)),r=parseInt(n.format("X"))>=parseInt(i.format("X"))),r},isBeforeMaxDate:function(t,a,s){var i,n,r=!0;return void 0!==this.maxDate&&null!==this.maxDate&&(i=e(this.maxDate),n=e(t),a||s||(i.hour(0),i.minute(0),n.hour(0),n.minute(0)),i.second(0),n.second(0),i.millisecond(0),n.millisecond(0),s||(n.minute(0),i.minute(0)),r=parseInt(n.format("X"))<=parseInt(i.format("X"))),r},rotateElement:function(e,a){t(e).css({WebkitTransform:"rotate("+a+"deg)","-moz-transform":"rotate("+a+"deg)"})},showDate:function(t){t&&(this.$dtpElement.find(".dtp-actual-day").html(t.locale(this.params.lang).format("dddd")),this.$dtpElement.find(".dtp-actual-month").html(t.locale(this.params.lang).format("MMM").toUpperCase()),this.$dtpElement.find(".dtp-actual-num").html(t.locale(this.params.lang).format("DD")),this.$dtpElement.find(".dtp-actual-year").html(t.locale(this.params.lang).format("YYYY")))},showTime:function(t){var e,a;t&&(e=t.minute(),a=(this.params.shortTime?t.format("hh"):t.format("HH"))+":"+(2==e.toString().length?e:"0"+e)+(this.params.shortTime?" "+t.format("A"):""),this.params.date?this.$dtpElement.find(".dtp-actual-time").html(a):(this.params.shortTime?this.$dtpElement.find(".dtp-actual-day").html(t.format("A")):this.$dtpElement.find(".dtp-actual-day").html("&nbsp;"),this.$dtpElement.find(".dtp-actual-maxtime").html(a)))},selectDate:function(t){t&&(this.currentDate.date(t),this.showDate(this.currentDate),this.$element.trigger("dateSelected",this.currentDate))},generateCalendar:function(t){var a={};if(null!==t){var s=e(t).locale(this.params.lang).startOf("month"),i=e(t).locale(this.params.lang).endOf("month"),n=s.format("d");a.week=this.days,a.days=[];for(var r=s.date();r<=i.date();r++){if(r===s.date()){var l=a.week.indexOf(n.toString());if(0<l)for(var o=0;o<l;o++)a.days.push(0)}a.days.push(e(s).locale(this.params.lang).date(r))}}return a},constructHTMLCalendar:function(t,a){var s="";s+='<div class="dtp-picker-month">'+t.locale(this.params.lang).format("MMMM YYYY")+"</div>",s+='<table class="table dtp-picker-days"><thead>';for(var i=0;i<a.week.length;i++)s+="<th>"+e(parseInt(a.week[i]),"d").locale(this.params.lang).format("dd").substring(0,1)+"</th>";for(s+="</thead>",s+="<tbody><tr>",i=0;i<a.days.length;i++)i%7==0&&(s+="</tr><tr>"),s+='<td data-date="'+e(a.days[i]).locale(this.params.lang).format("D")+'">',0!=a.days[i]&&(!1===this.isBeforeMaxDate(e(a.days[i]),!1,!1)||!1===this.isAfterMinDate(e(a.days[i]),!1,!1)||-1!==this.params.disabledDays.indexOf(a.days[i].isoWeekday())?s+='<span class="dtp-select-day">'+e(a.days[i]).locale(this.params.lang).format("DD")+"</span>":e(a.days[i]).locale(this.params.lang).format("DD")===e(this.currentDate).locale(this.params.lang).format("DD")?s+='<a href="javascript:void(0);" class="dtp-select-day selected">'+e(a.days[i]).locale(this.params.lang).format("DD")+"</a>":s+='<a href="javascript:void(0);" class="dtp-select-day">'+e(a.days[i]).locale(this.params.lang).format("DD")+"</a>",s+="</td>");return s+"</tr></tbody></table>"},setName:function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<5;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},isPM:function(){return this.$dtpElement.find("a.dtp-meridien-pm").hasClass("selected")},setElementValue:function(){this.$element.trigger("beforeChange",this.currentDate),void 0!==t.material&&this.$element.removeClass("empty"),this.$element.val(e(this.currentDate).locale(this.params.lang).format(this.params.format)),this.$element.trigger("change",this.currentDate)},toggleButtons:function(t){var a,s,i,n;t&&t.isValid()&&(a=e(t).locale(this.params.lang).startOf("month"),s=e(t).locale(this.params.lang).endOf("month"),this.isAfterMinDate(a,!1,!1)?this.$dtpElement.find("a.dtp-select-month-before").removeClass("invisible"):this.$dtpElement.find("a.dtp-select-month-before").addClass("invisible"),this.isBeforeMaxDate(s,!1,!1)?this.$dtpElement.find("a.dtp-select-month-after").removeClass("invisible"):this.$dtpElement.find("a.dtp-select-month-after").addClass("invisible"),i=e(t).locale(this.params.lang).startOf("year"),n=e(t).locale(this.params.lang).endOf("year"),this.isAfterMinDate(i,!1,!1)?this.$dtpElement.find("a.dtp-select-year-before").removeClass("invisible"):this.$dtpElement.find("a.dtp-select-year-before").addClass("invisible"),this.isBeforeMaxDate(n,!1,!1)?this.$dtpElement.find("a.dtp-select-year-after").removeClass("invisible"):this.$dtpElement.find("a.dtp-select-year-after").addClass("invisible"))},toggleTime:function(t,a){var s;return a?((s=e(this.currentDate)).hour(this.convertHours(t)).minute(0).second(0),!(!1===this.isAfterMinDate(s,!0,!1)||!1===this.isBeforeMaxDate(s,!0,!1))):((s=e(this.currentDate)).minute(t).second(0),!(!1===this.isAfterMinDate(s,!0,!0)||!1===this.isBeforeMaxDate(s,!0,!0)))},_attachEvent:function(t,e,a){t.on(e,null,null,a),this._attachedEvents.push([t,e,a])},_detachEvents:function(){for(var t=this._attachedEvents.length-1;0<=t;t--)this._attachedEvents[t][0].off(this._attachedEvents[t][1],this._attachedEvents[t][2]),this._attachedEvents.splice(t,1)},_fireCalendar:function(){this.currentView=0,this.$element.blur(),this.initDates(),this.show(),this.params.date?(this.$dtpElement.find(".dtp-date").removeClass("hidden"),this.initDate()):this.params.time&&(this.$dtpElement.find(".dtp-time").removeClass("hidden"),this.initHours())},_onBackgroundClick:function(t){t.stopPropagation(),this.hide()},_onElementClick:function(t){t.stopPropagation()},_onKeydown:function(t){27===t.which&&this.hide()},_onCloseClick:function(){this.hide()},_onClearClick:function(){this.currentDate=null,this.$element.trigger("beforeChange",this.currentDate),this.hide(),void 0!==t.material&&this.$element.addClass("empty"),this.$element.val(""),this.$element.trigger("change",this.currentDate)},_onNowClick:function(){if(this.currentDate=e(),!0===this.params.date&&(this.showDate(this.currentDate),0===this.currentView&&this.initDate()),!0===this.params.time){switch(this.showTime(this.currentDate),this.currentView){case 1:this.initHours();break;case 2:this.initMinutes()}this.animateHands()}},_onOKClick:function(){switch(this.currentView){case 0:!0===this.params.time?this.initHours():(this.setElementValue(),this.hide());break;case 1:this.initMinutes();break;case 2:this.setElementValue(),this.hide()}},_onCancelClick:function(){if(this.params.time)switch(this.currentView){case 0:this.hide();break;case 1:this.params.date?this.initDate():this.hide();break;case 2:this.initHours()}else this.hide()},_onMonthBeforeClick:function(){this.currentDate.subtract(1,"months"),this.initDate(this.currentDate),this._closeYearPicker()},_onMonthAfterClick:function(){this.currentDate.add(1,"months"),this.initDate(this.currentDate),this._closeYearPicker()},_onYearBeforeClick:function(){this.currentDate.subtract(1,"years"),this.initDate(this.currentDate),this._closeYearPicker()},_onYearAfterClick:function(){this.currentDate.add(1,"years"),this.initDate(this.currentDate),this._closeYearPicker()},refreshYearItems:function(){var a=this.currentDate.year(),s=this.midYear,i=1850;void 0!==this.minDate&&null!==this.minDate&&(i=e(this.minDate).year());var n=2200;void 0!==this.maxDate&&null!==this.maxDate&&(n=e(this.maxDate).year()),this.$dtpElement.find(".dtp-picker-year .invisible").removeClass("invisible"),this.$dtpElement.find(".year-picker-item").each(function(e,r){var l=s-3+e;t(r).attr("data-year",l).text(l).data("year",l),a==l?t(r).addClass("active"):t(r).removeClass("active"),(l<i||n<l)&&t(r).addClass("invisible")}),s-3<=i&&this.$dtpElement.find(".dtp-select-year-range.before").addClass("invisible"),n<=s+3&&this.$dtpElement.find(".dtp-select-year-range.after").addClass("invisible"),this.$dtpElement.find(".dtp-select-year-range").data("mid",s)},_onActualYearClick:function(){this.params.year&&(0<this.$dtpElement.find(".dtp-picker-year.hidden").length?(this.$dtpElement.find(".dtp-picker-datetime").addClass("hidden"),this.$dtpElement.find(".dtp-picker-calendar").addClass("hidden"),this.$dtpElement.find(".dtp-picker-year").removeClass("hidden"),this.midYear=this.currentDate.year(),this.refreshYearItems()):this._closeYearPicker())},_onYearRangeBeforeClick:function(){this.midYear-=7,this.refreshYearItems()},_onYearRangeAfterClick:function(){this.midYear+=7,this.refreshYearItems()},_onYearItemClick:function(e){var a=t(e.currentTarget).data("year")-this.currentDate.year();this.currentDate.add(a,"years"),this.initDate(this.currentDate),this._closeYearPicker(),this.$element.trigger("yearSelected",this.currentDate)},_closeYearPicker:function(){this.$dtpElement.find(".dtp-picker-calendar").removeClass("hidden"),this.$dtpElement.find(".dtp-picker-year").addClass("hidden")},enableYearPicker:function(){this.params.year=!0,this.$dtpElement.find(".dtp-actual-year").reomveClass("disabled")},disableYearPicker:function(){this.params.year=!1,this.$dtpElement.find(".dtp-actual-year").addClass("disabled"),this._closeYearPicker()},_onSelectDate:function(e){this.$dtpElement.find("a.dtp-select-day").removeClass("selected"),t(e.currentTarget).addClass("selected"),this.selectDate(t(e.currentTarget).parent().data("date")),!0===this.params.switchOnClick&&!0===this.params.time&&setTimeout(this.initHours.bind(this),200),!0===this.params.switchOnClick&&!1===this.params.time&&setTimeout(this._onOKClick.bind(this),200)},_onSelectHour:function(e){if(!t(e.target).hasClass("disabled")){for(var a=t(e.target).data("hour"),s=t(e.target).parent(),i=s.find(".dtp-select-hour"),n=0;n<i.length;n++)t(i[n]).attr("fill","transparent");var r=s.find(".dtp-select-hour-text");for(n=0;n<r.length;n++)t(r[n]).attr("fill","#000");t(s.find("#h-"+a)).attr("fill","#8BC34A"),t(s.find("#th-"+a)).attr("fill","#fff"),this.currentDate.hour(parseInt(a)),!0===this.params.shortTime&&this.isPM()&&this.currentDate.add(12,"hours"),this.showTime(this.currentDate),this.animateHands(),!0===this.params.switchOnClick&&setTimeout(this.initMinutes.bind(this),200)}},_onSelectMinute:function(e){if(!t(e.target).hasClass("disabled")){for(var a=t(e.target).data("minute"),s=t(e.target).parent(),i=s.find(".dtp-select-minute"),n=0;n<i.length;n++)t(i[n]).attr("fill","transparent");var r=s.find(".dtp-select-minute-text");for(n=0;n<r.length;n++)t(r[n]).attr("fill","#000");t(s.find("#m-"+a)).attr("fill","#8BC34A"),t(s.find("#tm-"+a)).attr("fill","#fff"),this.currentDate.minute(parseInt(a)),this.showTime(this.currentDate),this.animateHands(),!0===this.params.switchOnClick&&setTimeout(function(){this.setElementValue(),this.hide()}.bind(this),200)}},_onSelectAM:function(e){t(".dtp-actual-meridien").find("a").removeClass("selected"),t(e.currentTarget).addClass("selected"),12<=this.currentDate.hour()&&this.currentDate.subtract(12,"hours")&&this.showTime(this.currentDate),this.toggleTime(1===this.currentView)},_onSelectPM:function(e){t(".dtp-actual-meridien").find("a").removeClass("selected"),t(e.currentTarget).addClass("selected"),this.currentDate.hour()<12&&this.currentDate.add(12,"hours")&&this.showTime(this.currentDate),this.toggleTime(1===this.currentView)},_hideCalendar:function(){this.$dtpElement.find(".dtp-picker-calendar").addClass("hidden")},convertHours:function(t){var e=t;return!0===this.params.shortTime&&t<12&&this.isPM()&&(e+=12),e},setDate:function(t){this.params.currentDate=t,this.initDates()},setMinDate:function(t){this.params.minDate=t,this.initDates()},setMaxDate:function(t){this.params.maxDate=t,this.initDates()},destroy:function(){this._detachEvents(),this.$dtpElement.remove()},show:function(){this.$dtpElement.removeClass("hidden"),this._attachEvent(t(window),"keydown",this._onKeydown.bind(this)),this._centerBox(),this.$element.trigger("open"),!0===this.params.monthPicker&&this._hideCalendar()},hide:function(){t(window).off("keydown",null,null,this._onKeydown.bind(this)),this.$dtpElement.addClass("hidden"),this.$element.trigger("close")},_centerBox:function(){var t=(this.$dtpElement.height()-this.$dtpElement.find(".dtp-content").height())/2;this.$dtpElement.find(".dtp-content").css("marginLeft",-this.$dtpElement.find(".dtp-content").width()/2+"px"),this.$dtpElement.find(".dtp-content").css("top",t+"px")},enableDays:function(){var e=this.params.enableDays;e&&t(".dtp-picker-days tbody tr td").each(function(){0<=t.inArray(t(this).index(),e)||t(this).find("a").css({background:"#e3e3e3",cursor:"no-drop",opacity:"0.5"}).off("click")})}}}(jQuery,moment)},mAbl:function(t,e){var a;(a=jQuery).fn.niceSelect=function(t){function e(t){t.after(a("<div></div>").addClass("nice-select").addClass(t.attr("class")||"").addClass(t.attr("disabled")?"disabled":"").attr("tabindex",t.attr("disabled")?null:"0").html('<span class="current"></span><ul class="list"></ul>'));var e=t.next(),s=t.find("option"),i=t.find("option:selected");e.find(".current").html(i.data("display")||i.text()),s.each(function(t){var s=a(this),i=s.data("display");e.find("ul").append(a("<li></li>").attr("data-value",s.val()).attr("data-display",i||null).addClass("option"+(s.is(":selected")?" selected":"")+(s.is(":disabled")?" disabled":"")).html(s.text()))})}if("string"==typeof t)return"update"==t?this.each(function(){var t=a(this),s=a(this).next(".nice-select"),i=s.hasClass("open");s.length&&(s.remove(),e(t),i&&t.next().trigger("click"))}):"destroy"==t?(this.each(function(){var t=a(this),e=a(this).next(".nice-select");e.length&&(e.remove(),t.css("display",""))}),0==a(".nice-select").length&&a(document).off(".nice_select")):console.log('Method "'+t+'" does not exist.'),this;this.hide(),this.each(function(){var t=a(this);t.next().hasClass("nice-select")||e(t)}),a(document).off(".nice_select"),a(document).on("click.nice_select",".nice-select",function(t){var e=a(this);a(".nice-select").not(e).removeClass("open"),e.toggleClass("open"),e.hasClass("open")?(e.find(".option"),e.find(".focus").removeClass("focus"),e.find(".selected").addClass("focus")):e.focus()}),a(document).on("click.nice_select",function(t){0===a(t.target).closest(".nice-select").length&&a(".nice-select").removeClass("open").find(".option")}),a(document).on("click.nice_select",".nice-select .option:not(.disabled)",function(t){var e=a(this),s=e.closest(".nice-select");s.find(".selected").removeClass("selected"),e.addClass("selected");var i=e.data("display")||e.text();s.find(".current").text(i),s.prev("select").val(e.data("value")).trigger("change")}),a(document).on("keydown.nice_select",".nice-select",function(t){var e=a(this),s=a(e.find(".focus")||e.find(".list .option.selected"));if(32==t.keyCode||13==t.keyCode)return e.hasClass("open")?s.trigger("click"):e.trigger("click"),!1;if(40==t.keyCode){if(e.hasClass("open")){var i=s.nextAll(".option:not(.disabled)").first();i.length>0&&(e.find(".focus").removeClass("focus"),i.addClass("focus"))}else e.trigger("click");return!1}if(38==t.keyCode){if(e.hasClass("open")){var n=s.prevAll(".option:not(.disabled)").first();n.length>0&&(e.find(".focus").removeClass("focus"),n.addClass("focus"))}else e.trigger("click");return!1}if(27==t.keyCode)e.hasClass("open")&&e.trigger("click");else if(9==t.keyCode&&e.hasClass("open"))return!1});var s=document.createElement("a").style;return s.cssText="pointer-events:auto","auto"!==s.pointerEvents&&a("html").addClass("no-csspointerevents"),this}},"mY/S":function(t,e){},nfXi:function(t,e){},txWZ:function(t,e){},uWBP:function(t,e){},vZiA:function(t,e){},wBgI:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6213305ad4bfb42e7648.js.map